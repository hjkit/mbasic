{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"MBASIC 5.21 Documentation","text":"<p>Welcome to the complete documentation for MBASIC 5.21, a Python implementation of MBASIC-80 for CP/M.</p>"},{"location":"#what-is-mbasic","title":"What is MBASIC?","text":"<p>MBASIC 5.21 is a classic BASIC dialect from the CP/M era (late 1970s - early 1980s). This interpreter provides 100% compatibility with MBASIC 5.21 programs while offering modern user interfaces and cross-platform support.</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li> <p> Getting Started</p> <p>Install MBASIC and write your first program in minutes</p> <p> Installation Guide</p> </li> <li> <p> Language Reference</p> <p>Complete BASIC-80 language documentation with all 63 statements and 40 functions</p> <p> Language Reference</p> </li> <li> <p> User Interfaces</p> <p>Choose your interface: Curses (terminal), CLI (command-line), Tkinter (GUI), or Web (browser)</p> <p> UI Guides</p> </li> <li> <p> Implementation Details</p> <p>Learn about the interpreter architecture, features, and compatibility</p> <p> MBASIC Docs</p> </li> <li> <p> Games Library</p> <p>Browse 113 classic BASIC games from the CP/M era - ready to run!</p> <p> Games Library</p> </li> <li> <p> Source Code</p> <p>View the source, report issues, and contribute on GitHub</p> <p> GitHub Repository</p> </li> </ul>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\u2705 100% MBASIC 5.21 Compatibility - Run authentic MBASIC programs</li> <li>\u2705 Multiple User Interfaces - CLI, Curses terminal, Tkinter GUI, or Web browser</li> <li>\u2705 Cross-Platform - Linux, macOS, Windows</li> <li>\u2705 Zero Dependencies - Pure Python, no external libraries required for core functionality</li> <li>\u2705 Advanced Optimizations - Semantic analyzer with 18 compiler optimizations</li> <li>\u2705 Complete Documentation - Comprehensive help for every feature</li> </ul>"},{"location":"#documentation-structure","title":"Documentation Structure","text":"<p>This documentation is organized into three tiers:</p>"},{"location":"#1-user-interfaces","title":"1. User Interfaces (\ud83d\udcd8)","text":"<p>Interface-specific documentation for each UI:</p> <ul> <li>Curses UI - Full-screen terminal interface</li> <li>CLI - Classic command-line REPL</li> <li>Tkinter GUI - Graphical interface</li> <li>Web IDE - Browser-based interface</li> </ul>"},{"location":"#2-mbasic-interpreter","title":"2. MBASIC Interpreter (\ud83d\udcd7)","text":"<p>Implementation-specific documentation:</p> <ul> <li>Getting Started - Installation and first steps</li> <li>Features - What's implemented</li> <li>Compatibility - Differences from CP/M MBASIC</li> <li>Architecture - How it works</li> </ul>"},{"location":"#3-basic-80-language","title":"3. BASIC-80 Language (\ud83d\udcd5)","text":"<p>Complete language reference:</p> <ul> <li>Statements - All 63 BASIC-80 statements</li> <li>Functions - All 40 built-in functions</li> <li>Operators - Arithmetic, logical, relational</li> <li>Appendices - Error codes, ASCII table</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<pre><code># Clone the repository\ngit clone https://github.com/avwohl/mbasic.git\ncd mbasic\n\n# Create virtual environment (recommended)\npython3 -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n\n# Install optional dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"#your-first-program","title":"Your First Program","text":"<p>Start the Curses UI:</p> <pre><code>mbasic\n</code></pre> <p>Type your program:</p> <pre><code>10 PRINT \"Hello, World!\"\n20 END\n</code></pre> <p>Press Ctrl+R to run!</p>"},{"location":"#example-programs","title":"Example Programs","text":""},{"location":"#classic-hello-world","title":"Classic \"Hello, World!\"","text":"<pre><code>10 PRINT \"Hello, World!\"\n20 END\n</code></pre>"},{"location":"#for-loop","title":"FOR Loop","text":"<pre><code>10 FOR I = 1 TO 10\n20   PRINT I; \"squared is\"; I * I\n30 NEXT I\n40 END\n</code></pre>"},{"location":"#user-input","title":"User Input","text":"<pre><code>10 INPUT \"What is your name\"; N$\n20 PRINT \"Hello, \"; N$; \"!\"\n30 END\n</code></pre>"},{"location":"#file-io","title":"File I/O","text":"<pre><code>10 OPEN \"O\", #1, \"output.txt\"\n20 PRINT #1, \"This is a test\"\n30 CLOSE #1\n40 PRINT \"File written!\"\n50 END\n</code></pre>"},{"location":"#platform-support","title":"Platform Support","text":"<ul> <li>Linux - Ubuntu, Debian, Fedora, Arch</li> <li>macOS - 10.14+</li> <li>Windows - 10, 11, WSL</li> <li>Python - 3.8+ (3.10+ recommended)</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>MBASIC is open source! Contributions are welcome:</p> <ul> <li>Report issues on GitHub</li> <li>Submit pull requests</li> <li>Improve documentation</li> <li>Share example programs</li> </ul>"},{"location":"#license","title":"License","text":"<p>See the project repository for license information.</p> <p>Ready to get started? Head to the Installation Guide or browse the Language Reference!</p>"},{"location":"PROJECT_STATUS/","title":"MBASIC-2025 Project Status","text":"<p>Last Updated: 2025-10-29 Version: 1.0.299 Status: \u2705 Stable and Production-Ready</p>"},{"location":"PROJECT_STATUS/#overview","title":"Overview","text":"<p>MBASIC-2025 is a modern implementation of Microsoft MBASIC 5.21 with 100% backward compatibility and optional modern extensions. The project is actively maintained with continuous improvements to code quality, UX, and features.</p>"},{"location":"PROJECT_STATUS/#project-health","title":"Project Health","text":"Metric Status Count Completed Tasks \u2705 68 in history/ Active TODOs \ud83d\udd04 3 in dev/ Future/Deferred TODOs \ud83d\udccb 2 in future/ Test Coverage \u2705 All core features tested Documentation \u2705 Comprehensive Git Status \u2705 Clean, all committed"},{"location":"PROJECT_STATUS/#recent-accomplishments-2025-10-29","title":"Recent Accomplishments (2025-10-29)","text":""},{"location":"PROJECT_STATUS/#session-summary-5-major-improvements","title":"Session Summary - 5 Major Improvements","text":"<ol> <li>TODO Organization</li> <li>Cleaned up 5 completed TODOs</li> <li>Moved to docs/history/ for reference</li> <li> <p>Deleted 1 irrelevant TODO</p> </li> <li> <p>DE_NONEIFY Code Quality Refactoring</p> </li> <li>Added semantic helper methods to replace None checks</li> <li>Improved code readability in runtime.py and parser.py</li> <li>~10 ambiguous checks replaced with clear intent methods</li> <li> <p>Example: <code>has_error_handler()</code> vs <code>error_handler is not None</code></p> </li> <li> <p>Web UI Output Buffer Limiting</p> </li> <li>Implemented line-based buffering (3,000 lines max)</li> <li>Prevents browser memory issues</li> <li> <p>Changed from character-based to more predictable line-based</p> </li> <li> <p>Call Stack PC Enhancement</p> </li> <li>Added statement-level precision to debugging displays</li> <li>Format: \"GOSUB from line 100.2\" (line 100, statement 2)</li> <li>Distinguishes multiple GOSUBs/FORs on same line</li> <li> <p>Improves debugging of complex multi-statement programs</p> </li> <li> <p>Documentation Updates</p> </li> <li>All changes documented</li> <li>WORK_IN_PROGRESS kept current</li> <li>README and help system updated</li> </ol>"},{"location":"PROJECT_STATUS/#core-features","title":"Core Features","text":""},{"location":"PROJECT_STATUS/#language-implementation","title":"Language Implementation","text":"<ul> <li>\u2705 Full MBASIC 5.21 compatibility</li> <li>\u2705 Statement-level execution with PC/NPC architecture</li> <li>\u2705 Error handling (ON ERROR GOTO/GOSUB, RESUME)</li> <li>\u2705 Control flow (GOTO, GOSUB, FOR, WHILE, IF)</li> <li>\u2705 Arrays with OPTION BASE support</li> <li>\u2705 DEF FN user-defined functions</li> <li>\u2705 File I/O (OPEN, CLOSE, PRINT#, INPUT#, LINE INPUT#)</li> <li>\u2705 DATA/READ/RESTORE statements</li> </ul>"},{"location":"PROJECT_STATUS/#modern-extensions","title":"Modern Extensions","text":"<ul> <li>\u2705 BREAK, STEP, WATCH debugging commands</li> <li>\u2705 STACK command for call stack inspection</li> <li>\u2705 Multiple UI backends (CLI, Curses, TK, Web)</li> <li>\u2705 Visual debugging with statement highlighting</li> <li>\u2705 Auto-numbering for line entry</li> <li>\u2705 Syntax highlighting</li> <li>\u2705 Variable inspection and editing</li> </ul>"},{"location":"PROJECT_STATUS/#ui-backends","title":"UI Backends","text":"Backend Status Features CLI \u2705 Stable Basic terminal interface Curses \u2705 Stable Full-screen terminal UI TK \u2705 Stable Native GUI with debugging Web \u2705 Stable Browser-based with NiceGUI"},{"location":"PROJECT_STATUS/#active-work-3-todos","title":"Active Work (3 TODOs)","text":""},{"location":"PROJECT_STATUS/#high-priority","title":"High Priority","text":"<p>None currently - all high priority tasks complete</p>"},{"location":"PROJECT_STATUS/#medium-priority","title":"Medium Priority","text":"<ol> <li>PC_OLD_EXECUTION_METHODS_TODO.md</li> <li>Status: \u23f3 TODO</li> <li>Effort: ~8 hours</li> <li>Description: Remove old execution methods, complete PC/NPC migration</li> <li>Technical debt cleanup</li> </ol>"},{"location":"PROJECT_STATUS/#low-priority","title":"Low Priority","text":"<ol> <li>INTERPRETER_REFACTOR_METHODS_NOT_VARIABLES_TODO.md</li> <li>Status: \u23f8\ufe0f Deferred</li> <li>Effort: ~4-5 hours</li> <li>Description: Convert instance variables to overridable methods</li> <li> <p>Code quality improvement</p> </li> <li> <p>DE_NONEIFY_TODO.md</p> </li> <li>Status: \ud83d\udd04 Partially Complete (Phases 1-3 done)</li> <li>Effort: ~2-3 hours remaining</li> <li>Description: Continue replacing None checks in UI code</li> <li>Code quality improvement</li> </ol>"},{"location":"PROJECT_STATUS/#futuredeferred-work-2-todos","title":"Future/Deferred Work (2 TODOs)","text":"<ol> <li>PRETTY_PRINTER_SPACING_TODO.md</li> <li>Nice-to-have formatting improvement</li> <li> <p>Low priority</p> </li> <li> <p>GTK_WARNING_SUPPRESSION_TODO.md</p> </li> <li>Minor annoyance fix</li> <li>Low priority</li> </ol>"},{"location":"PROJECT_STATUS/#code-quality-metrics","title":"Code Quality Metrics","text":""},{"location":"PROJECT_STATUS/#recent-improvements","title":"Recent Improvements","text":"<ul> <li>\u2705 Added semantic helper methods for clearer intent</li> <li>\u2705 Reduced ambiguous None checks</li> <li>\u2705 Improved parser token handling</li> <li>\u2705 Enhanced runtime state management</li> <li>\u2705 Better error handling clarity</li> </ul>"},{"location":"PROJECT_STATUS/#test-status","title":"Test Status","text":"<ul> <li>\u2705 All core functionality tests passing</li> <li>\u2705 UI backends tested (manual + automated where applicable)</li> <li>\u2705 No known critical bugs</li> <li>\u2705 Syntax validation clean</li> </ul>"},{"location":"PROJECT_STATUS/#documentation","title":"Documentation","text":""},{"location":"PROJECT_STATUS/#user-documentation","title":"User Documentation","text":"<ul> <li>\u2705 README.md - Project overview and quick start</li> <li>\u2705 docs/user/ - User guides and tutorials</li> <li>\u2705 docs/help/ - In-UI help system (searchable)</li> </ul>"},{"location":"PROJECT_STATUS/#developer-documentation","title":"Developer Documentation","text":"<ul> <li>\u2705 docs/dev/ - Implementation guides and status</li> <li>\u2705 docs/history/ - Completed tasks archive (68 items)</li> <li>\u2705 docs/design/ - Architecture decisions</li> <li>\u2705 docs/external/ - External references</li> </ul>"},{"location":"PROJECT_STATUS/#help-system","title":"Help System","text":"<ul> <li>\u2705 Multi-backend support (CLI, Curses, TK, Web)</li> <li>\u2705 Searchable help topics</li> <li>\u2705 Context-sensitive help</li> <li>\u2705 Comprehensive language reference</li> </ul>"},{"location":"PROJECT_STATUS/#testing","title":"Testing","text":""},{"location":"PROJECT_STATUS/#test-coverage","title":"Test Coverage","text":"<ul> <li>\u2705 Basic language features</li> <li>\u2705 Control flow (GOTO, GOSUB, FOR, WHILE)</li> <li>\u2705 Error handling</li> <li>\u2705 File I/O</li> <li>\u2705 Arrays and variables</li> <li>\u2705 User-defined functions</li> </ul>"},{"location":"PROJECT_STATUS/#test-types","title":"Test Types","text":"<ul> <li>\u2705 Unit tests (Python)</li> <li>\u2705 Integration tests (BASIC programs)</li> <li>\u2705 UI tests (automated where possible)</li> <li>\u2705 Comparison tests with real MBASIC 5.21 (via tnylpo)</li> </ul>"},{"location":"PROJECT_STATUS/#build-deployment","title":"Build &amp; Deployment","text":""},{"location":"PROJECT_STATUS/#requirements","title":"Requirements","text":"<ul> <li>Python 3.8+ (3.9+ recommended)</li> <li>Optional: urwid (curses UI)</li> <li>Optional: tkinter (TK UI)</li> <li>Optional: NiceGUI (web UI)</li> </ul>"},{"location":"PROJECT_STATUS/#installation","title":"Installation","text":"<pre><code>git clone https://github.com/avwohl/mbasic.git\ncd mbasic\npip install -r requirements.txt\npython3 mbasic\n</code></pre>"},{"location":"PROJECT_STATUS/#distribution","title":"Distribution","text":"<ul> <li>\u2705 Git repository (GitHub)</li> <li>\u2705 All Python (no compilation needed)</li> <li>\u2705 Cross-platform (Linux, macOS, Windows)</li> </ul>"},{"location":"PROJECT_STATUS/#performance","title":"Performance","text":""},{"location":"PROJECT_STATUS/#optimization-status","title":"Optimization Status","text":"<ul> <li>\u2705 Tick-based interpreter for responsive UI</li> <li>\u2705 Statement table for fast PC navigation</li> <li>\u2705 Efficient variable lookup</li> <li>\u2705 Output buffer limiting (web UI)</li> </ul>"},{"location":"PROJECT_STATUS/#known-limitations","title":"Known Limitations","text":"<ul> <li>Line buffer limits for very long lines (MBASIC 5.21 compatible)</li> <li>Output buffer limited to 3,000 lines (web UI, configurable)</li> </ul>"},{"location":"PROJECT_STATUS/#compatibility","title":"Compatibility","text":""},{"location":"PROJECT_STATUS/#mbasic-521-compatibility","title":"MBASIC 5.21 Compatibility","text":"<ul> <li>\u2705 100% syntax compatibility</li> <li>\u2705 Same error codes (where implemented)</li> <li>\u2705 Same line number behavior</li> <li>\u2705 Same variable scoping rules</li> </ul>"},{"location":"PROJECT_STATUS/#extensions-optional","title":"Extensions (Optional)","text":"<ul> <li>Modern debugging commands (BREAK, STEP, WATCH, STACK)</li> <li>Multiple UI backends</li> <li>Visual debugging</li> <li>Enhanced error messages (optional)</li> </ul>"},{"location":"PROJECT_STATUS/#community-support","title":"Community &amp; Support","text":""},{"location":"PROJECT_STATUS/#repository","title":"Repository","text":"<ul> <li>GitHub: https://github.com/avwohl/mbasic</li> <li>Issues: https://github.com/avwohl/mbasic/issues</li> </ul>"},{"location":"PROJECT_STATUS/#development-activity","title":"Development Activity","text":"<ul> <li>\u2705 Active development</li> <li>\u2705 Regular commits</li> <li>\u2705 Responsive to issues</li> <li>\u2705 Well-documented changes</li> </ul>"},{"location":"PROJECT_STATUS/#version-history","title":"Version History","text":""},{"location":"PROJECT_STATUS/#v10299-2025-10-29","title":"v1.0.299 (2025-10-29)","text":"<ul> <li>\u2705 DE_NONEIFY refactoring (code quality)</li> <li>\u2705 Web UI output buffer limiting</li> <li>\u2705 Call stack PC enhancement</li> <li>\u2705 TODO cleanup and organization</li> </ul>"},{"location":"PROJECT_STATUS/#recent-versions","title":"Recent Versions","text":"<ul> <li>v1.0.298 - Lexer cleanup, MBASIC-2025 branding</li> <li>v1.0.287 - PC/NPC architecture improvements</li> <li>v1.0.276-278 - PC refactoring completion</li> </ul>"},{"location":"PROJECT_STATUS/#conclusion","title":"Conclusion","text":"<p>MBASIC-2025 is a stable, well-maintained project with: - \u2705 Strong foundation (100% MBASIC 5.21 compatibility) - \u2705 Modern enhancements (debugging, multiple UIs) - \u2705 Clean codebase (ongoing refactoring) - \u2705 Comprehensive documentation - \u2705 Active development</p> <p>The project is ready for production use and continues to improve with regular updates.</p> <p>For detailed session logs, see docs/history/ For implementation guides, see docs/dev/ For user guides, see docs/user/</p>"},{"location":"dev/","title":"Developer Documentation","text":"<p>This section contains implementation notes, design decisions, and development history for the MBASIC project.</p> <p>Last Updated: 2025-11-10 Total Documents: 175</p>"},{"location":"dev/#whats-here","title":"What's Here","text":"<p>This directory contains documentation for developers working on MBASIC:</p> <ul> <li>Implementation Notes - How features were implemented</li> <li>Design Decisions - Why things work the way they do</li> <li>Testing Documentation - Test coverage and methodologies</li> <li>Work in Progress - Current development tasks</li> <li>Bug Fixes - Historical fixes and their explanations</li> </ul>"},{"location":"dev/#organization","title":"Organization","text":"<p>Documents are organized chronologically as they were created during development. Use the search function or browse by topic below.</p>"},{"location":"dev/#for-contributors","title":"For Contributors","text":"<p>If you're contributing to MBASIC: 1. Read <code>.claude/CLAUDE.md</code> for coding guidelines 2. Check <code>WORK_IN_PROGRESS.md</code> for current tasks 3. Review relevant implementation docs before making changes 4. Add new docs here when implementing significant features</p>"},{"location":"dev/#browse-by-category","title":"Browse by Category","text":""},{"location":"dev/#language-features","title":"Language Features","text":"<ul> <li>Keybinding Systems</li> </ul>"},{"location":"dev/#file-io","title":"File I/O","text":"<ul> <li>Keybinding Macros Migration</li> <li>Pip Install Resource Location Plan</li> <li>Redis Per Session Settings</li> <li>Redis Session Storage Setup</li> </ul>"},{"location":"dev/#debugging-errors","title":"Debugging &amp; Errors","text":"<ul> <li>Import Consistency Fix</li> <li>Random Fixes Todo</li> <li>Redis Storage Bug Fix</li> </ul>"},{"location":"dev/#refactoring-cleanup","title":"Refactoring &amp; Cleanup","text":"<ul> <li>Architecture Cleanup Todo</li> </ul>"},{"location":"dev/#subdirectories","title":"Subdirectories","text":""},{"location":"dev/#claude_if_you_read_in_here_you_loop","title":"claude_if_you_read_in_here_you_loop/","text":"<ul> <li>Accomplishments</li> <li>Array Input Read Fix</li> <li>Ast Serialization</li> <li>Auto Command Implementation</li> <li>Auto Numbering Implementation</li> <li>Auto Numbering Visual Ui Design</li> <li>Auto Numbering Web Ui Fix</li> <li>Bad Syntax Analysis</li> <li>Breakpoints</li> <li>Breakpoint Display Fix</li> <li>Breakpoint Issue Explained</li> <li>Breakpoint Not Stopping Debug</li> <li>Breakpoint Status</li> <li>Breakpoint Summary</li> <li>Broken Links Analysis</li> <li>Browser Opening Fix</li> <li>Call Implementation</li> <li>Case Conflict With Chain Merge Common</li> <li>Check Status</li> <li>Cleanup Summary</li> <li>Clean Install Test Results</li> <li>Codemirror6 Integration Issues</li> <li>Codemirror Integration Progress</li> <li>Code Comment Fixes Applied</li> <li>Code Comment Fixes Remaining</li> <li>Code Comment Fixes Summary</li> <li>Code Duplication Analysis</li> <li>Compiler Memory Optimization</li> <li>Continue Feature</li> <li>Continue Fix Summary</li> <li>Continue Implementation</li> <li>Cr Line Ending Fix</li> <li>Ctrl C Input Handling</li> <li>Curses Feature Parity Complete</li> <li>Curses Menu White Background Todo</li> <li>Curses Mouse Support Todo</li> <li>Curses Ui Feature Parity</li> <li>Curses Ui File Loading Fix</li> <li>Curses Ui Testing</li> <li>Curses Vs Tk Gap Analysis</li> <li>Cursor Fix</li> <li>Data Statement Fix</li> <li>Debugger Commands</li> <li>Debugger Ui Research</li> <li>Debug Mode</li> <li>Def Fn Implementation</li> <li>Def Fn Syntax Rules</li> <li>Detokenizer Fixes</li> <li>Developer Guide Index</li> <li>Documentation Coverage</li> <li>Documentation Fixes Summary</li> <li>Documentation Fixes Tracker</li> <li>Editor Fixes 2025 10 30</li> <li>Else Keyword Fix</li> <li>Explicit Type Suffix With Defsng Issue</li> <li>Feature Completion Requirements</li> <li>Filesystem Security</li> <li>File Io Implementation</li> <li>Functional Testing Methodology</li> <li>Function Key Removal</li> <li>Github Docs Workflow Explained</li> <li>Gosub Stack Test Results</li> <li>Gui Library Options</li> <li>Hash File Io Fix</li> <li>Help Build Time Indexes</li> <li>Help Indexing Options</li> <li>Help Indexing Specification</li> <li>Help Integration Per Client</li> <li>Help Menu Status</li> <li>Help Migration Plan</li> <li>Help Migration Status</li> <li>Help Reorganization Example</li> <li>Help System Completion</li> <li>Help System Diagram</li> <li>Help System Reorganization</li> <li>Help System Summary</li> <li>Help System Web Deployment</li> <li>Immediate Mode Design</li> <li>Immediate Mode Safety</li> <li>Implementation Summary</li> <li>Indent Command Design</li> <li>Inkey Lprint Implementation</li> <li>Input Hash Fix</li> <li>Installation For Developers</li> <li>Installation Testing Todo</li> <li>Interactive Command Test Coverage</li> <li>Interpreter Refactor Methods Not Variables Idea</li> <li>Keyword Case Scope Analysis</li> <li>Keyword Identifier Splitting</li> <li>Language Features Test Coverage</li> <li>Language Testing Progress 2025 10 30</li> <li>Lexer Cleanup Complete</li> <li>Library Test Results</li> <li>Menu Changes</li> <li>Mid Statement Comments Fix</li> <li>Mid Statement Fix</li> <li>Mouse Breakpoint Implementation</li> <li>Nicegui Testing Guide</li> <li>Not Implemented</li> <li>Optional Dependencies Strategy</li> <li>Package Dependencies</li> <li>Parsed Inconsistencies Readme</li> <li>Pc Cleanup Remaining</li> <li>Pc Implementation Status</li> <li>Pc Refactoring Complete</li> <li>Popup Dialog Refactor Todo</li> <li>Publishing To Pypi Guide</li> <li>Pypi Publishing Checklist</li> <li>Randomize Implementation</li> <li>Readme</li> <li>Readme Continue</li> <li>Readme Tests Inventory</li> <li>Resource Limits Design</li> <li>Runtime Interpreter Split Todo</li> <li>Run Statement Implementation</li> <li>Session 2025 10 26</li> <li>Session 2025 10 28 Summary</li> <li>Session Storage Audit</li> <li>Session Summary 2025 Web Ui And Highlighting</li> <li>Settings Feature Gap Analysis</li> <li>Simple Test</li> <li>Statement Highlighting Implementation</li> <li>Status</li> <li>Status Bar Updates Review</li> <li>Storage Abstraction Design</li> <li>System Statement Fix</li> <li>Testing Checklist</li> <li>Testing Guide</li> <li>Testing Web Ui Fileio</li> <li>Test Coverage Matrix</li> <li>Test Inventory</li> <li>Test Run Results 2025-11-02</li> <li>Tk Editor Completion Summary</li> <li>Tk Editor Current State</li> <li>Tk Ui Changes For Other Uis</li> <li>Tk Ui Enhancement Plan</li> <li>Tk Ui Feature Audit</li> <li>Ui Consolidation Status</li> <li>Ui Development Guide</li> <li>Ui Feature Parity</li> <li>Ui Feature Parity Checklist</li> <li>Ui Feature Parity Tracking</li> <li>Ui Helpers Guide</li> <li>Urwid Completion</li> <li>Variable Editing Feature</li> <li>Variable Editing Standardization</li> <li>Variable Editing Status</li> <li>Variable Tracking</li> <li>Variable Tracking Changes</li> <li>Variable Type Suffix Behavior</li> <li>Visual Ui Editor Enhancement</li> <li>Web Architecture Refactor Todo</li> <li>Web Ui Dialog Pattern</li> <li>Web Ui Editor Enhancements</li> <li>Web Ui Feature Parity</li> <li>Web Ui Fixes 2025 10 30</li> <li>Web Ui Fixes 2025 10 30 Part2</li> <li>Web Ui Implementation</li> <li>Web Ui Options</li> <li>Web Ui Real Options</li> <li>Web Ui Testing Checklist</li> <li>Web Ui Verification Results</li> <li>While Loop Stack Behavior</li> <li>Work In Progress</li> <li>Work In Progress Template</li> <li>Test Bp Ui Debug</li> </ul>"},{"location":"dev/#see-also","title":"See Also","text":"<ul> <li>MBASIC Help - User-facing documentation</li> <li>Search function (top of page) - Find docs by keyword</li> </ul>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/","title":"Import Consistency Fix","text":""},{"location":"dev/IMPORT_CONSISTENCY_FIX/#problem","title":"Problem","text":"<p>Parse errors occurred when loading BASIC programs, showing: <pre><code>Parse error at line 10: None\nParse error at line 20: None\n</code></pre></p>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#root-cause","title":"Root Cause","text":"<p>Module dual-import issue: Python loaded <code>src/tokens.py</code> twice as separate modules: - Once as <code>tokens</code> (via <code>from tokens import TokenType</code>) - Once as <code>src.tokens</code> (via <code>from src.tokens import TokenType</code>)</p> <p>This created two separate <code>TokenType</code> enum classes in memory. When the lexer created tokens with one TokenType and the parser tried to match them with the other, comparisons failed:</p> <pre><code>token.type == TokenType.LINE_NUMBER  # False! Different objects\n</code></pre>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#why-it-happened","title":"Why It Happened","text":"<p>The <code>mbasic</code> script does <code>sys.path.insert(0, 'src')</code> which allows importing modules both ways: - <code>from tokens import X</code> - loads as module 'tokens' - <code>from src.tokens import X</code> - loads as module 'src.tokens'</p> <p>Python's import system doesn't prevent this - it treats them as different modules.</p>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#the-fix","title":"The Fix","text":"<p>Made all imports consistent - always use <code>from src.MODULE import</code>:</p> <p>Files fixed: - <code>src/lexer.py:9</code> - Changed <code>from tokens import</code> \u2192 <code>from src.tokens import</code> - <code>src/lexer.py:10</code> - Changed <code>from simple_keyword_case import</code> \u2192 <code>from src.simple_keyword_case import</code> - <code>src/semantic_analyzer.py:22</code> - Changed <code>from ast_nodes import</code> \u2192 <code>from src.ast_nodes import</code> - <code>src/semantic_analyzer.py:23</code> - Already correct: <code>from src.tokens import</code></p>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#python-import-best-practices","title":"Python Import Best Practices","text":""},{"location":"dev/IMPORT_CONSISTENCY_FIX/#the-problem-dual-imports","title":"The Problem: Dual Imports","text":"<pre><code>sys.path.insert(0, 'src')\n\n# These load the SAME file as DIFFERENT modules:\nfrom tokens import TokenType       # Creates 'tokens' module\nfrom src.tokens import TokenType   # Creates 'src.tokens' module\n\n# Result: Two separate TokenType classes!\n</code></pre>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#the-solution-consistency","title":"The Solution: Consistency","text":"<p>Always use the same import path throughout the codebase:</p> <p>Option 1: Absolute imports with prefix (what we use) <pre><code>from src.tokens import TokenType\nfrom src.ast_nodes import *\nfrom src.parser import Parser\n</code></pre></p> <p>Option 2: Relative imports (alternative) <pre><code># Within src/ files only:\nfrom .tokens import TokenType\nfrom .ast_nodes import *\n</code></pre></p>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#detection","title":"Detection","text":"<p>Python doesn't detect or prevent dual imports. You can check if it's happening: <pre><code>import sys\nprint('tokens' in sys.modules)      # True if imported as 'tokens'\nprint('src.tokens' in sys.modules)  # True if imported as 'src.tokens'\n# Both True = dual import problem!\n</code></pre></p>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#why-python-doesnt-prevent-this","title":"Why Python Doesn't Prevent This","text":"<ul> <li>It's a deliberate design choice</li> <li>Allows package aliasing and flexibility</li> <li>But requires discipline to avoid gotchas</li> <li>The responsibility is on the developer to be consistent</li> </ul>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#symptoms-of-dual-import","title":"Symptoms of Dual Import","text":"<ul> <li>Enum/class comparisons fail mysteriously</li> <li><code>isinstance()</code> checks fail</li> <li>Identity checks (<code>is</code>) fail</li> <li>Equality checks (<code>==</code>) fail for enums</li> <li>Everything \"looks\" correct when printed</li> </ul>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#verification","title":"Verification","text":"<pre><code># Should work now:\nvenv/bin/python3 mbasic --ui cli test.bas\n\n# All backends working:\nvenv/bin/python3 mbasic --list-backends\n</code></pre>"},{"location":"dev/IMPORT_CONSISTENCY_FIX/#date-fixed","title":"Date Fixed","text":"<p>2025-11-09</p>"},{"location":"dev/KEYBINDING_SYSTEMS/","title":"Keybinding Systems Architecture","text":""},{"location":"dev/KEYBINDING_SYSTEMS/#overview","title":"Overview","text":"<p>MBASIC uses multiple keybinding systems that serve different purposes. This document clarifies the relationships between these systems.</p>"},{"location":"dev/KEYBINDING_SYSTEMS/#the-three-keybinding-systems","title":"The Three Keybinding Systems","text":""},{"location":"dev/KEYBINDING_SYSTEMS/#1-json-based-runtime-system-primary","title":"1. JSON-Based Runtime System (Primary)","text":"<p>Files: - <code>src/ui/curses_keybindings.json</code> - Curses UI keybindings - <code>src/ui/tk_keybindings.json</code> - Tk UI keybindings - <code>src/ui/web_keybindings.json</code> - Web UI keybindings - <code>src/ui/cli_keybindings.json</code> - CLI keybindings</p> <p>Loader: <code>src/ui/keybinding_loader.py</code></p> <p>Purpose: Runtime event handling - binding keys to actions during program execution</p> <p>Used by: Main UI event loops</p> <p>Example: <pre><code>{\n  \"editor\": {\n    \"help\": {\n      \"keys\": [\"Ctrl+H\"],\n      \"primary\": \"Ctrl+H\",\n      \"description\": \"Open help browser\"\n    }\n  }\n}\n</code></pre></p>"},{"location":"dev/KEYBINDING_SYSTEMS/#2-python-constants-system-curses-ui","title":"2. Python Constants System (Curses UI)","text":"<p>File: <code>src/ui/keybindings.py</code></p> <p>Purpose: Provides Python constants for keybindings, loaded from <code>curses_keybindings.json</code></p> <p>Used by: - Curses UI components (<code>curses_ui.py</code>, <code>interactive_menu.py</code>, <code>curses_settings_widget.py</code>) - Status bar display - Help system documentation</p> <p>Key features: - Loads from JSON at import time - Provides constants like <code>HELP_KEY</code>, <code>RUN_KEY</code>, <code>SAVE_KEY</code> - Includes conversion functions: <code>key_to_char()</code>, <code>key_to_display()</code> - Validates keybindings on load</p> <p>Example: <pre><code>from src.ui.keybindings import HELP_KEY, RUN_KEY, key_to_display\n# HELP_KEY = 'ctrl f' (urwid format)\n# key_to_display(HELP_KEY) = '^F'\n</code></pre></p> <p>Note: This system also includes dialog-specific keys that are NOT in the JSON: - <code>SETTINGS_APPLY_KEY = 'ctrl a'</code> - Apply in settings dialog - <code>SETTINGS_RESET_KEY = 'ctrl r'</code> - Reset in settings dialog - <code>DIALOG_YES_KEY = 'y'</code> - Confirm in dialogs - <code>DIALOG_NO_KEY = 'n'</code> - Cancel in dialogs - <code>VARS_SORT_MODE_KEY = 's'</code> - Sort mode in variables window - <code>VARS_SORT_DIR_KEY = 'd'</code> - Sort direction in variables window - <code>VARS_EDIT_KEY = 'e'</code> - Edit variable in variables window - <code>VARS_FILTER_KEY = 'f'</code> - Filter variables - <code>VARS_CLEAR_KEY = 'c'</code> - Clear filter</p> <p>These are intentionally hardcoded because they're context-specific and shown in dialog prompts/footers.</p>"},{"location":"dev/KEYBINDING_SYSTEMS/#3-help-system-macro-expansion","title":"3. Help System Macro Expansion","text":"<p>File: <code>src/ui/help_macros.py</code></p> <p>Purpose: Expands <code>{{kbd:action:ui}}</code> macros in help documentation</p> <p>Uses: Same JSON files as #1, but for documentation generation rather than runtime binding</p> <p>Example: <pre><code>Press {{kbd:run:curses}} to run the program.\n\u2192 Expands to: Press ^R to run the program.\n</code></pre></p> <p>Comment in code:</p> <p>\"This loads the same keybinding JSON files as keybinding_loader.py, but for a different purpose: macro expansion in help content\"</p>"},{"location":"dev/KEYBINDING_SYSTEMS/#special-cases","title":"Special Cases","text":""},{"location":"dev/KEYBINDING_SYSTEMS/#help-widget-navigation","title":"Help Widget Navigation","text":"<p>File: <code>src/ui/help_widget.py</code></p> <p>Keys: Hardcoded in <code>keypress()</code> method</p> <p>Why: Help navigation keys are intentionally hardcoded for these reasons: 1. Help system needs to work even if keybindings are misconfigured 2. Help navigation is meta-level (navigating help about keys) 3. Standard navigation conventions (arrow keys, Enter, ESC, Tab)</p> <p>Keys used: - Arrow keys (\u2191\u2193\u2190\u2192) - Scroll and navigate - <code>Enter</code> - Follow link - <code>ESC</code>, <code>Q</code> - Close help - <code>Tab</code> - Next link - <code>/</code> - Search - <code>U</code> - Back</p>"},{"location":"dev/KEYBINDING_SYSTEMS/#relationship-between-systems","title":"Relationship Between Systems","text":"<pre><code>JSON Files (*.json)\n    \u2193\n    \u251c\u2500\u2192 keybinding_loader.py \u2192 Runtime event handling\n    \u251c\u2500\u2192 keybindings.py \u2192 Python constants for Curses UI\n    \u2514\u2500\u2192 help_macros.py \u2192 Documentation macro expansion\n\nHardcoded Keys\n    \u251c\u2500\u2192 keybindings.py (dialog-specific) \u2192 Context menus, dialogs\n    \u2514\u2500\u2192 help_widget.py \u2192 Help navigation\n</code></pre>"},{"location":"dev/KEYBINDING_SYSTEMS/#which-system-is-authoritative","title":"Which System is Authoritative?","text":"<p>For main editor/UI actions: JSON files are authoritative - All UIs should load from their respective JSON files - JSON is the single source of truth for user-facing keybindings</p> <p>For dialog/widget-specific actions: Python constants in <code>keybindings.py</code> are authoritative - These are implementation details, not user-configurable - Shown in dialog footers/prompts, not in main help</p> <p>For help navigation: <code>help_widget.py</code> is authoritative - Intentionally independent of JSON system - Uses standard conventions</p>"},{"location":"dev/KEYBINDING_SYSTEMS/#future-considerations","title":"Future Considerations","text":"<p>The current system has evolved organically and could be simplified:</p> <ol> <li>Potential unification: Dialog-specific keys could potentially be added to JSON for completeness</li> <li>Deprecation candidate: The Python constants system (<code>keybindings.py</code>) could potentially be replaced by direct JSON loading in all UIs (like Tk and Web already do)</li> <li>Documentation: Help widget navigation could be documented in JSON even if implementation stays hardcoded</li> </ol> <p>However, the current separation has benefits: - Clear distinction between user-configurable (JSON) and implementation-specific (hardcoded) - Help system independence from configuration - Dialog keys are shown in context where they're used</p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/","title":"Redis Storage - Per-Session Settings (IMPLEMENTED)","text":""},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#status-solved","title":"Status: \u2705 SOLVED","text":"<p>Per-session settings have been implemented. When using Redis storage for load-balanced deployments, each user session now has independent settings stored in Redis.</p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#implementation","title":"Implementation","text":"<p>As of the latest version, MBASIC uses pluggable settings backends that automatically adapt based on environment:</p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#single-user-mode-no-redis","title":"Single-User Mode (No Redis)","text":"<ul> <li>Backend: <code>FileSettingsBackend</code></li> <li>Storage: <code>~/.mbasic/settings.json</code> (global) and <code>.mbasic/settings.json</code> (project)</li> <li>Behavior: Read/write to local filesystem</li> <li>Use case: Development, single-user deployments</li> </ul>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#multi-user-mode-redis-enabled","title":"Multi-User Mode (Redis Enabled)","text":"<ul> <li>Backend: <code>RedisSettingsBackend</code></li> <li>Storage: Redis at key <code>nicegui:settings:{session_id}</code></li> <li>Behavior:</li> <li>Default settings loaded from disk once on startup</li> <li>Each session gets independent settings in Redis</li> <li>No disk writes after initialization (read-only from filesystem)</li> <li>Settings persist for 24 hours (matches NiceGUI session TTL)</li> <li>Use case: Load-balanced web deployments</li> </ul>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#whats-synchronized","title":"What's Synchronized","text":"<p>Synchronized via Redis \u2705: - Session state (programs, variables, output, execution state) - Runtime state - Editor content - Recent files - Settings (per-session) \u2190 NEW!</p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#architecture","title":"Architecture","text":"<p>Settings Backend Abstraction (<code>src/settings_backend.py</code>): <pre><code>class SettingsBackend(ABC):\n    \"\"\"Abstract base class for settings storage.\"\"\"\n    def load_global(self) -&gt; Dict[str, Any]: ...\n    def save_global(self, settings: Dict[str, Any]) -&gt; None: ...\n    def load_project(self) -&gt; Dict[str, Any]: ...\n    def save_project(self, settings: Dict[str, Any]) -&gt; None: ...\n</code></pre></p> <p>Automatic Backend Selection (<code>create_settings_backend()</code>): <pre><code>redis_url = os.environ.get('NICEGUI_REDIS_URL')\n\nif redis_url and session_id:\n    # Redis mode: Load defaults from disk, use per-session Redis storage\n    file_backend = FileSettingsBackend(project_dir)\n    default_settings = file_backend.load_global()\n    return RedisSettingsBackend(redis_client, session_id, default_settings)\nelse:\n    # File mode: Traditional filesystem storage\n    return FileSettingsBackend(project_dir)\n</code></pre></p> <p>Redis Key Structure: - Session state: <code>nicegui:client:{session_id}</code> - Settings: <code>nicegui:settings:{session_id}</code> - TTL: 24 hours (matches NiceGUI session expiry)</p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#how-it-works","title":"How It Works","text":"<ol> <li>Session Creation: Each browser session gets unique <code>session_id = str(id(backend_instance))</code></li> <li>Initialization: Default settings loaded from <code>~/.mbasic/settings.json</code> once</li> <li>First Access: Redis backend seeds session with default settings</li> <li>User Changes: Saved to <code>nicegui:settings:{session_id}</code> in Redis</li> <li>Page Refresh: <code>restore_state()</code> recreates settings backend with same session_id</li> <li>Session Isolation: Each user sees only their own settings</li> </ol>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#usage","title":"Usage","text":""},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#development-single-user","title":"Development / Single-User","text":"<p>No configuration needed. Settings work as before:</p> <pre><code>python3 mbasic --ui web\n</code></pre> <p>Settings stored in <code>~/.mbasic/settings.json</code>.</p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#production-multi-user-load-balanced","title":"Production / Multi-User (Load-Balanced)","text":"<ol> <li> <p>Start Redis server: <pre><code>redis-server\n</code></pre></p> </li> <li> <p>Set environment variable: <pre><code>export NICEGUI_REDIS_URL=\"redis://localhost:6379/0\"\n</code></pre></p> </li> <li> <p>Start MBASIC instances: <pre><code># Instance 1\npython3 mbasic --ui web --port 8080\n\n# Instance 2\npython3 mbasic --ui web --port 8081\n\n# Instance 3\npython3 mbasic --ui web --port 8082\n</code></pre></p> </li> <li> <p>Configure load balancer (nginx, HAProxy, etc.) to distribute requests.</p> </li> </ol> <p>Each user session gets independent settings automatically!</p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#docker-deployment","title":"Docker Deployment","text":"<pre><code># Dockerfile\nFROM python:3.11\nWORKDIR /app\nCOPY . .\nRUN pip install -r requirements.txt\n\n# Default settings (optional)\nCOPY default_settings.json /root/.mbasic/settings.json\n\nENV NICEGUI_REDIS_URL=\"redis://redis:6379/0\"\nCMD [\"python3\", \"mbasic\", \"--ui\", \"web\"]\n</code></pre> <pre><code># docker-compose.yml\nversion: '3.8'\nservices:\n  redis:\n    image: redis:8-alpine\n\n  mbasic:\n    build: .\n    ports:\n      - \"8080-8082:8080\"\n    environment:\n      - NICEGUI_REDIS_URL=redis://redis:6379/0\n    depends_on:\n      - redis\n    deploy:\n      replicas: 3\n</code></pre>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#testing-per-session-isolation","title":"Testing Per-Session Isolation","text":"<pre><code># Set Redis URL\nexport NICEGUI_REDIS_URL=\"redis://localhost:6379/0\"\n\n# Run test script\npython3 test_redis_settings.py\n</code></pre> <p>Expected output: <pre><code>\u2713 Both sessions start with defaults\n\u2713 Session 2 unaffected by Session 1 changes\n\u2713 Sessions have independent settings\n\u2713 Settings persist across manager instances\n</code></pre></p>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#implementation-details","title":"Implementation Details","text":""},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#files-modifiedcreated","title":"Files Modified/Created","text":"<ul> <li><code>src/settings_backend.py</code> (NEW): Backend abstraction layer</li> <li><code>SettingsBackend</code> abstract base class</li> <li><code>FileSettingsBackend</code> for local filesystem</li> <li><code>RedisSettingsBackend</code> for per-session Redis storage</li> <li> <p><code>create_settings_backend()</code> factory function</p> </li> <li> <p><code>src/settings.py</code> (MODIFIED): Pluggable backend support</p> </li> <li>Added <code>backend</code> parameter to <code>SettingsManager.__init__()</code></li> <li>Delegated all load/save operations to backend</li> <li> <p>Maintained backward compatibility</p> </li> <li> <p><code>src/ui/web/nicegui_backend.py</code> (MODIFIED): Per-session settings</p> </li> <li>Create session_id early in <code>__init__</code></li> <li>Use <code>create_settings_backend(session_id=session_id)</code></li> <li> <p>Restore session_id in <code>restore_state()</code> for Redis reconnection</p> </li> <li> <p><code>test_redis_settings.py</code> (NEW): Integration tests</p> </li> <li>Verify per-session isolation</li> <li>Test settings persistence</li> <li>Validate backend selection</li> </ul>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#key-design-decisions","title":"Key Design Decisions","text":"<ol> <li>Per-Session, Not Global: Each user session has independent settings</li> <li>Rationale: Different users may have different preferences</li> <li> <p>Trade-off: Settings don't sync across user's own sessions (acceptable)</p> </li> <li> <p>Read-Only Disk Access: Redis mode never writes to filesystem</p> </li> <li>Rationale: Prevent file conflicts in multi-instance deployments</li> <li> <p>Default settings loaded once on first Redis access</p> </li> <li> <p>Automatic Backend Selection: Based on <code>NICEGUI_REDIS_URL</code> environment variable</p> </li> <li>Rationale: Zero code changes for users, just configuration</li> <li> <p>Fallback: File backend if Redis unavailable</p> </li> <li> <p>24-Hour TTL: Matches NiceGUI's session expiry</p> </li> <li>Rationale: Prevent Redis memory bloat from abandoned sessions</li> <li>Sessions expire naturally when inactive</li> </ol>"},{"location":"dev/REDIS_PER_SESSION_SETTINGS/#references","title":"References","text":"<ul> <li>Settings Manager: <code>src/settings.py</code></li> <li>Settings Backend: <code>src/settings_backend.py</code></li> <li>Settings Definitions: <code>src/settings_definitions.py</code></li> <li>Web Settings Dialog: <code>src/ui/web/web_settings_dialog.py</code></li> <li>NiceGUI Backend: <code>src/ui/web/nicegui_backend.py</code></li> <li>Redis Session Storage Setup: <code>docs/dev/REDIS_SESSION_STORAGE_SETUP.md</code></li> </ul>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/","title":"Redis Session Storage Setup Guide","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#overview","title":"Overview","text":"<p>MBASIC Web UI supports two session storage modes:</p> <ol> <li>In-Memory (Default) - Session state stored in server process memory</li> <li>\u2705 No external dependencies</li> <li>\u2705 Works out-of-the-box</li> <li>\u274c Sessions don't survive server restart</li> <li> <p>\u274c Can't load balance across multiple processes</p> </li> <li> <p>Redis-Backed - Session state stored in Redis</p> </li> <li>\u2705 Sessions persist across server restarts</li> <li>\u2705 Load balancing across multiple instances</li> <li>\u2705 High availability with Redis Sentinel/Cluster</li> <li>\u274c Requires Redis server and Python package</li> </ol>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#quick-start","title":"Quick Start","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#development-in-memory-default","title":"Development (In-Memory, Default)","text":"<pre><code># No configuration needed\npython3 mbasic --ui web\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#production-redis-backed","title":"Production (Redis-Backed)","text":"<pre><code># 1. Install Redis server (if not already installed)\nsudo apt-get update &amp;&amp; sudo apt-get install -y redis-server\n\n# 2. Install Python redis package\npip install redis\n\n# 3. Configure environment variables\nexport NICEGUI_REDIS_URL=\"redis://localhost:6379/0\"\nexport MBASIC_STORAGE_SECRET=\"your-secret-key-change-this\"\n\n# 4. Start web UI\npython3 mbasic --ui web\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#detailed-installation","title":"Detailed Installation","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#1-redis-server-installation","title":"1. Redis Server Installation","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#ubuntudebian","title":"Ubuntu/Debian","text":"<pre><code>sudo apt-get update\nsudo apt-get install -y redis-server\n\n# Enable and start Redis\nsudo systemctl enable redis-server\nsudo systemctl start redis-server\n\n# Verify Redis is running\nredis-cli ping  # Should return \"PONG\"\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#macos-via-homebrew","title":"macOS (via Homebrew)","text":"<pre><code>brew install redis\nbrew services start redis\n\n# Verify\nredis-cli ping\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#docker","title":"Docker","text":"<pre><code>docker run -d --name redis -p 6379:6379 redis:latest\n\n# Verify\ndocker exec -it redis redis-cli ping\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#2-python-redis-package","title":"2. Python Redis Package","text":"<pre><code># From requirements.txt\npip install -r requirements.txt\n\n# Or directly\npip install redis&gt;=5.0.0\n</code></pre> <p>Verify installation: <pre><code>python3 -c \"import redis; r=redis.Redis(); print('Redis OK:', r.ping())\"\n</code></pre></p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#configuration","title":"Configuration","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#environment-variables","title":"Environment Variables","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#nicegui_redis_url-optional","title":"NICEGUI_REDIS_URL (Optional)","text":"<p>Redis connection URL. If not set, uses in-memory storage.</p> <p>Format: <code>redis://[username:password@]host:port/database</code></p> <p>Examples: <pre><code># Local Redis (default port, database 0)\nexport NICEGUI_REDIS_URL=\"redis://localhost:6379/0\"\n\n# Remote Redis with password\nexport NICEGUI_REDIS_URL=\"redis://:mypassword@redis.example.com:6379/0\"\n\n# Redis with username and password (Redis 6+)\nexport NICEGUI_REDIS_URL=\"redis://myuser:mypassword@redis.example.com:6379/0\"\n</code></pre></p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#nicegui_redis_key_prefix-optional","title":"NICEGUI_REDIS_KEY_PREFIX (Optional)","text":"<p>Prefix for all Redis keys. Default: <code>\"nicegui:\"</code></p> <pre><code>export NICEGUI_REDIS_KEY_PREFIX=\"mbasic:\"\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#mbasic_storage_secret-required-for-production","title":"MBASIC_STORAGE_SECRET (Required for production)","text":"<p>Secret key for encrypting session cookies. Change in production!</p> <pre><code># Development (auto-generated if not set)\n# Uses default: 'dev-default-change-in-production'\n\n# Production (REQUIRED - use a strong random key)\nexport MBASIC_STORAGE_SECRET=\"$(openssl rand -hex 32)\"\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#checking-active-mode","title":"Checking Active Mode","text":"<p>When you start the web UI, it logs which storage mode is active:</p> <p>In-Memory Mode: <pre><code>======================================================================\nMBASIC Web UI Starting - Version 1.0.738\n======================================================================\n\nIn-memory storage (default): Session state per process only\nSet NICEGUI_REDIS_URL to enable Redis storage for load balancing\n\nNiceGUI ready to go on http://localhost:8080\n</code></pre></p> <p>Redis Mode: <pre><code>======================================================================\nMBASIC Web UI Starting - Version 1.0.738\n======================================================================\n\nRedis storage enabled: redis://localhost:6379/0\nSession state will be shared across load-balanced instances\n\nNiceGUI ready to go on http://localhost:8080\n</code></pre></p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#testing","title":"Testing","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#test-in-memory-mode","title":"Test In-Memory Mode","text":"<pre><code># Start without Redis\nunset NICEGUI_REDIS_URL\npython3 mbasic --ui web\n</code></pre> <p>Open http://localhost:8080 in two browser tabs: - Tab 1: Enter program <code>10 PRINT \"TAB 1\"</code> - Tab 2: Enter program <code>10 PRINT \"TAB 2\"</code></p> <p>Expected: Each tab has its own isolated session (different programs)</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#test-redis-mode","title":"Test Redis Mode","text":"<pre><code># Start with Redis\nexport NICEGUI_REDIS_URL=\"redis://localhost:6379/0\"\npython3 mbasic --ui web\n</code></pre> <p>Open http://localhost:8080 in two browser tabs: - Tab 1: Enter program <code>10 PRINT \"REDIS TEST\"</code> - Refresh Tab 1 - Check Tab 2</p> <p>Expected: Program persists across refreshes (Redis is working)</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#test-load-balancing-multiple-processes","title":"Test Load Balancing (Multiple Processes)","text":"<p>Terminal 1: <pre><code>export NICEGUI_REDIS_URL=\"redis://localhost:6379/0\"\nexport MBASIC_STORAGE_SECRET=\"test-secret\"\npython3 mbasic --ui web --port 8080\n</code></pre></p> <p>Terminal 2: <pre><code>export NICEGUI_REDIS_URL=\"redis://localhost:6379/0\"\nexport MBASIC_STORAGE_SECRET=\"test-secret\"\npython3 mbasic --ui web --port 8081\n</code></pre></p> <p>Test: 1. Open http://localhost:8080 2. Enter program and run it 3. Note your session ID (check browser cookies) 4. Open http://localhost:8081 in the same browser (shares cookies) 5. Verify your program and output are there</p> <p>Expected: Session state follows you across both instances</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#load-balancer-configuration","title":"Load Balancer Configuration","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#nginx-example","title":"nginx Example","text":"<pre><code>upstream mbasic_web {\n    # IP hash ensures same client goes to same server\n    # (not needed with Redis, but reduces latency)\n    ip_hash;\n\n    server localhost:8080;\n    server localhost:8081;\n    server localhost:8082;\n}\n\nserver {\n    listen 80;\n    server_name mbasic.example.com;\n\n    location / {\n        proxy_pass http://mbasic_web;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n\n        # WebSocket support (if needed in future)\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n    }\n}\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#haproxy-example","title":"HAProxy Example","text":"<pre><code>frontend mbasic_frontend\n    bind *:80\n    default_backend mbasic_backend\n\nbackend mbasic_backend\n    balance roundrobin\n    option httpclose\n    option forwardfor\n    cookie SERVERID insert indirect nocache\n\n    server mbasic1 localhost:8080 check cookie mbasic1\n    server mbasic2 localhost:8081 check cookie mbasic2\n    server mbasic3 localhost:8082 check cookie mbasic3\n</code></pre>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#session-state-details","title":"Session State Details","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#what-gets-saved","title":"What Gets Saved","text":"<ul> <li>Program source code (all lines)</li> <li>Runtime state (variables, arrays, execution position)</li> <li>Output text</li> <li>Current file and recent files list</li> <li>Execution state (running, paused)</li> <li>Editor content</li> <li>Find/Replace state</li> <li>Configuration settings</li> </ul>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#what-gets-recreated","title":"What Gets Recreated","text":"<ul> <li>UI elements (buttons, menus, dialogs)</li> <li>Editor widget</li> <li>Interpreter instance</li> <li>IO handlers</li> <li>Timers</li> </ul>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#serialization-frequency","title":"Serialization Frequency","text":"<p>Session state is saved: - Every 5 seconds (automatic) - On disconnect (page unload, browser close) - On page navigation</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#session-persistence","title":"Session Persistence","text":"<ul> <li>In-memory: Until server restart</li> <li>Redis: Based on NiceGUI's TTL (default: 24 hours)</li> </ul>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#troubleshooting","title":"Troubleshooting","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#redis-connection-errors","title":"Redis Connection Errors","text":"<p>Problem: <code>redis.exceptions.ConnectionError: Error connecting to Redis</code></p> <p>Solutions: 1. Check Redis is running: <code>redis-cli ping</code> 2. Check firewall/network access 3. Verify NICEGUI_REDIS_URL is correct 4. Check Redis logs: <code>sudo journalctl -u redis-server -f</code></p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#import-error","title":"Import Error","text":"<p>Problem: <code>ImportError: Redis is not installed</code></p> <p>Solution: Install redis package: <pre><code>pip install redis&gt;=5.0.0\n</code></pre></p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#state-not-persisting","title":"State Not Persisting","text":"<p>Problem: Session state lost on refresh (Redis mode)</p> <p>Debug: 1. Check Redis keys:    <pre><code>redis-cli KEYS \"nicegui:*\"\n</code></pre> 2. Monitor Redis operations:    <pre><code>redis-cli MONITOR\n</code></pre> 3. Check browser console for errors 4. Verify MBASIC_STORAGE_SECRET is set</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#session-not-shared-across-instances","title":"Session Not Shared Across Instances","text":"<p>Problem: Different servers show different state</p> <p>Solutions: 1. Verify all instances use same NICEGUI_REDIS_URL 2. Verify all instances use same MBASIC_STORAGE_SECRET 3. Check browser is sending same session cookie to both 4. Verify Redis is accessible from all instances</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#serialization-errors","title":"Serialization Errors","text":"<p>Problem: <code>Warning: Failed to save session state</code></p> <p>Check logs: stderr output shows serialization errors</p> <p>Common causes: - Open file handles (should be closed automatically) - Corrupted runtime state - Pickle version mismatch</p> <p>Solution: Usually resolves on next save attempt. If persistent: 1. Check debug output 2. Clear Redis: <code>redis-cli FLUSHDB</code> 3. Restart browser (clear cookies)</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#security-considerations","title":"Security Considerations","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#production-checklist","title":"Production Checklist","text":"<ul> <li> Set strong MBASIC_STORAGE_SECRET (32+ random hex characters)</li> <li> Configure Redis password (<code>requirepass</code> in redis.conf)</li> <li> Enable Redis AUTH</li> <li> Use TLS for Redis connections (rediss:// URL)</li> <li> Restrict Redis network access (firewall/security groups)</li> <li> Regular Redis backups (if session persistence is critical)</li> <li> Monitor Redis memory usage</li> <li> Set Redis maxmemory policy</li> </ul>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#redis-configuration","title":"Redis Configuration","text":"<p>Edit <code>/etc/redis/redis.conf</code>:</p> <pre><code># Require password\nrequirepass your-strong-redis-password\n\n# Bind to specific interface (not all)\nbind 127.0.0.1\n\n# Enable TLS (optional)\ntls-port 6380\ntls-cert-file /path/to/redis.crt\ntls-key-file /path/to/redis.key\ntls-ca-cert-file /path/to/ca.crt\n\n# Memory management\nmaxmemory 256mb\nmaxmemory-policy allkeys-lru\n</code></pre> <p>Then update NICEGUI_REDIS_URL: <pre><code>export NICEGUI_REDIS_URL=\"redis://:your-strong-redis-password@localhost:6379/0\"\n# Or with TLS:\nexport NICEGUI_REDIS_URL=\"rediss://:your-strong-redis-password@localhost:6380/0\"\n</code></pre></p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#performance-optimization","title":"Performance Optimization","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#redis-persistence","title":"Redis Persistence","text":"<p>For session storage, you can disable Redis persistence to improve performance:</p> <pre><code># redis.conf\nsave \"\"\nappendonly no\n</code></pre> <p>Trade-off: Sessions lost if Redis crashes (acceptable for session data)</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#connection-pooling","title":"Connection Pooling","text":"<p>NiceGUI handles connection pooling automatically. No configuration needed.</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#memory-usage","title":"Memory Usage","text":"<p>Monitor Redis memory: <pre><code>redis-cli INFO memory\n</code></pre></p> <p>Estimate: ~10-50 KB per active session (depends on program size and output)</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#high-availability","title":"High Availability","text":""},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#redis-sentinel","title":"Redis Sentinel","text":"<p>For production deployments, use Redis Sentinel for automatic failover:</p> <pre><code># Install Sentinel\nsudo apt-get install redis-sentinel\n\n# Configure sentinel.conf\nsentinel monitor mbasic-redis 127.0.0.1 6379 2\nsentinel down-after-milliseconds mbasic-redis 5000\nsentinel failover-timeout mbasic-redis 10000\n</code></pre> <p>Update URL to use Sentinel: <pre><code>export NICEGUI_REDIS_URL=\"redis://sentinel1:26379,sentinel2:26379,sentinel3:26379/mymaster\"\n</code></pre></p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#redis-cluster","title":"Redis Cluster","text":"<p>For very large deployments, use Redis Cluster for sharding.</p>"},{"location":"dev/REDIS_SESSION_STORAGE_SETUP/#references","title":"References","text":"<ul> <li>NiceGUI Storage Documentation</li> <li>Redis Documentation</li> <li>Redis Python Client</li> <li>Session Storage Audit: <code>docs/dev/SESSION_STORAGE_AUDIT.md</code></li> <li>Storage Abstraction Design: <code>docs/dev/STORAGE_ABSTRACTION_DESIGN.md</code></li> </ul>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/","title":"Redis Storage Bug Fixes","text":""},{"location":"dev/REDIS_STORAGE_BUG_FIX/#bug-1-editorprogram-manager-sync","title":"Bug #1: Editor/Program Manager Sync","text":"<p>Reported by user: When testing Redis storage with two browsers: 1. Browser A: Enter program and run it \u2705 2. Browser B: Enter different program and run it \u2705 3. Browser A: Go back - program shows on screen but RUN/LIST see empty program \u274c</p>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#root-cause","title":"Root Cause","text":"<p>The bug occurred because editor content and program manager were being serialized separately without synchronization:</p> <ol> <li>User types program in editor (e.g., <code>10 PRINT \"HELLO\"</code>)</li> <li>Periodic save (every 5 seconds) triggers</li> <li>Serialization saves:</li> <li>\u2705 <code>editor_content</code>: <code>\"10 PRINT \\\"HELLO\\\"\"</code></li> <li>\u274c <code>program_lines</code>: <code>{}</code> (empty - program not run yet)</li> <li>When restored:</li> <li>\u2705 Editor displays the program text</li> <li>\u274c Program manager is empty (RUN/LIST see nothing)</li> </ol>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#why-it-happened","title":"Why It Happened","text":"<p>In the web UI, the program manager is only populated when: - User runs the program - User loads a file - User enters immediate mode commands that modify program</p> <p>Simply typing in the editor does NOT automatically update the program manager. So if the user: 1. Typed a program 2. Ran it (program manager populated) 3. Edited it further (program manager still has old version) 4. State saved (saves edited editor content but old program manager) 5. Restored (editor shows new edits, program manager has old version)</p>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#fix","title":"Fix","text":"<p>Added <code>_sync_program_from_editor()</code> method that is called before serialization:</p> <pre><code>def serialize_state(self) -&gt; dict:\n    # Sync program manager from editor content before serializing\n    # This ensures we capture any edits that haven't been run yet\n    self._sync_program_from_editor()\n\n    # ... rest of serialization\n</code></pre>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#implementation-nicegui_backendpy3311","title":"Implementation (nicegui_backend.py:3311)","text":"<pre><code>def _sync_program_from_editor(self) -&gt; None:\n    \"\"\"Sync program manager from editor content.\n\n    This ensures the program manager reflects the current editor content,\n    even if the user hasn't run the program yet. Important for serialization.\n    \"\"\"\n    if not self.editor:\n        return  # No editor yet\n\n    try:\n        # Get current editor content\n        editor_content = self.editor.value or \"\"\n\n        # Clear existing program\n        self.program.clear()\n\n        # Parse each line from editor\n        for line in editor_content.split('\\n'):\n            line = line.strip()\n            if not line:\n                continue  # Skip blank lines\n\n            # Try to parse as a numbered line (e.g., \"10 PRINT\")\n            import re\n            match = re.match(r'^(\\d+)\\s+(.*)$', line)\n            if match:\n                line_num = int(match.group(1))\n                rest = match.group(2).strip()\n                if rest:  # Only add if there's content after line number\n                    self.program.add_or_replace_line(line_num, line)\n    except Exception as e:\n        # If sync fails, log but don't crash - we'll serialize what we have\n        sys.stderr.write(f\"Warning: Failed to sync program from editor: {e}\\n\")\n        sys.stderr.flush()\n</code></pre>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#testing","title":"Testing","text":""},{"location":"dev/REDIS_STORAGE_BUG_FIX/#before-fix","title":"Before Fix","text":"<pre><code>1. Browser A: Type \"10 PRINT 'A'\" and run \u2192 Works\n2. Browser B: Type \"10 PRINT 'B'\" and run \u2192 Works\n3. Browser A: Refresh \u2192 Editor shows \"10 PRINT 'A'\" but RUN shows nothing\n</code></pre>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#after-fix","title":"After Fix","text":"<pre><code>1. Browser A: Type \"10 PRINT 'A'\" and run \u2192 Works\n2. Browser B: Type \"10 PRINT 'B'\" and run \u2192 Works\n3. Browser A: Refresh \u2192 Editor shows \"10 PRINT 'A'\" AND RUN executes it \u2705\n</code></pre>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#additional-benefits","title":"Additional Benefits","text":"<p>This fix also ensures that: - Unsaved program edits are captured when switching sessions - Program state is always consistent between editor and program manager - Manual testing is more reliable (no need to run before switching browsers)</p>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#bug-2-tuple-unpacking-error-in-_serialize_program","title":"Bug #2: Tuple Unpacking Error in _serialize_program()","text":"<p>Reported by user: Console shows repeated error: <pre><code>Warning: Failed to save session state: 'tuple' object has no attribute 'text'\n</code></pre></p>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#root-cause_1","title":"Root Cause","text":"<p>The <code>_serialize_program()</code> method was treating the return value of <code>self.program.get_lines()</code> as objects with <code>.line_number</code> and <code>.text</code> attributes:</p> <pre><code>for line in self.program.get_lines():\n    result[line.line_number] = line.text  # ERROR: line is a tuple!\n</code></pre> <p>But <code>ProgramManager.get_lines()</code> actually returns <code>List[Tuple[int, str]]</code> where each tuple is <code>(line_number, line_text)</code>.</p>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#fix_1","title":"Fix","text":"<p>Changed to properly unpack the tuples:</p> <pre><code>def _serialize_program(self) -&gt; Dict[int, str]:\n    result = {}\n    # get_lines() returns List[Tuple[int, str]]\n    for line_number, line_text in self.program.get_lines():\n        result[line_number] = line_text\n    return result\n</code></pre>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#testing_1","title":"Testing","text":"<p>Before: Console flooded with warnings every 5 seconds After: No warnings, serialization works correctly</p>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#files-modified","title":"Files Modified","text":"<ul> <li><code>src/ui/web/nicegui_backend.py</code></li> <li>Bug #1: Added <code>_sync_program_from_editor()</code> method (line 3311)</li> <li>Bug #1: Modified <code>serialize_state()</code> to call sync before serializing (line 3240)</li> <li>Bug #2: Fixed <code>_serialize_program()</code> to unpack tuples correctly (line 3355)</li> </ul>"},{"location":"dev/REDIS_STORAGE_BUG_FIX/#related-documentation","title":"Related Documentation","text":"<ul> <li>Session Storage Audit: <code>docs/dev/SESSION_STORAGE_AUDIT.md</code></li> <li>Storage Design: <code>docs/dev/STORAGE_ABSTRACTION_DESIGN.md</code></li> <li>Setup Guide: <code>docs/dev/REDIS_SESSION_STORAGE_SETUP.md</code></li> </ul>"},{"location":"library/","title":"MBASIC Program Library","text":"<p>Welcome to the MBASIC Program Library! Browse our collection of classic BASIC programs organized by category.</p> <p>\u26a0\ufe0f Important: These programs have had minimal testing by humans. If you encounter issues, please submit a bug report (link coming soon).</p>"},{"location":"library/#categories","title":"Categories","text":""},{"location":"library/#games","title":"\ud83c\udfae Games","text":"<p>Card games, arcade games, strategy games, and more classic entertainment from the 1980s.</p> <p>Featured programs: Blackjack, Spacewar, Star Trek, Hangman, Roulette</p>"},{"location":"library/#utilities","title":"\ud83d\udee0\ufe0f Utilities","text":"<p>Calculators, converters, tools, and helpful programs for everyday computing.</p> <p>Featured programs: Calendar, Unit Converter, Sort, Search, Day of Week Calculator</p>"},{"location":"library/#education","title":"\ud83d\udcda Education","text":"<p>Educational programs for learning math, science, and programming concepts.</p> <p>Featured programs: Math Test, Astronomy, Wind Chill Calculator</p>"},{"location":"library/#business","title":"\ud83d\udcbc Business","text":"<p>Financial calculators, budgeting tools, calendars, and productivity applications.</p> <p>Featured programs: Budget Tracker, Mortgage Calculator, Finance Tools, PERT Charts</p>"},{"location":"library/#electronics","title":"\ud83d\udd0c Electronics","text":"<p>Circuit design calculators, IC timers, assembly language listers, and electronic engineering tools.</p> <p>Featured programs: 555 Timer Calculator, Attenuator Calculator, 8085 Assembly Lister</p>"},{"location":"library/#ham-radio","title":"\ud83d\udce1 Ham Radio","text":"<p>Amateur radio utilities including QSO loggers, callsign lookups, and radio tools.</p> <p>Featured programs: QSO Logger, QSO Editor, RBS Utilities</p>"},{"location":"library/#data-management","title":"\ud83d\udcbe Data Management","text":"<p>Bibliography systems, database tools, file managers, and data organization programs.</p> <p>Featured programs: Bibliography Builder, Database Editor, File Manager</p>"},{"location":"library/#telecommunications","title":"\ud83d\udcde Telecommunications","text":"<p>Modem programs, BBS utilities, and communication tools from the dial-up era.</p> <p>Featured programs: Modem Programs, BBS Exit Utilities, Dialog Systems</p>"},{"location":"library/#demos-tests","title":"\ud83e\uddea Demos &amp; Tests","text":"<p>Test programs, benchmarks, and demonstration code.</p> <p>Featured programs: Interpreter Benchmark, Curses Tests, Sample Programs</p>"},{"location":"library/#about-this-library","title":"About This Library","text":"<p>These programs are classic BASIC applications from the CP/M and early PC era (1970s-1980s). They demonstrate the creativity and programming skills of early computer enthusiasts who created powerful applications within the constraints of 1980s hardware.</p>"},{"location":"library/#historical-sources","title":"Historical Sources","text":"<p>The programs in this library have been preserved from historical archives including: - Oakland Software Repository (OAK) - One of the largest CP/M software archives - Simtel - Historic software archive from the 1980s-1990s - CP/M CD-ROMs - Collection CD-ROMs from the CP/M era - Walnut Creek CD-ROM collections - Preserved software from the 1980s-1990s - Other historical archives and user group libraries</p> <p>These programs represent the collaborative work of countless programmers, hobbyists, and enthusiasts from the early personal computing era. We preserve them here for educational and historical purposes. All programs are provided as-is from their original archived sources.</p>"},{"location":"library/#how-to-use","title":"How to Use","text":"<ol> <li>Browse by category above</li> <li>Download the .bas file you want to use</li> <li>Load in MBASIC:</li> <li>Web UI: File \u2192 Open, then select the downloaded file using browser file picker</li> <li>Tk UI: File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or click the Run button</li> </ol>"},{"location":"library/#notes","title":"Notes","text":"<ul> <li>Some programs may require hardware or features not available in modern systems</li> <li>Programs in the \"Incompatible\" category require CP/M-specific features or graphics hardware</li> <li>Original authors are credited in program source code where available</li> </ul>"},{"location":"library/#contributing","title":"Contributing","text":"<p>Have a classic BASIC program to add? See our contribution guidelines in the project repository.</p> <p>Library Statistics: - 177 programs from the 1970s-1980s - Sources: OAK, Simtel, CP/M CD-ROMs, and other historical archives</p>"},{"location":"library/business/","title":"MBASIC Business Programs","text":"<p>Business applications and tools</p>"},{"location":"library/business/#available-business-programs","title":"Available Business Programs","text":""},{"location":"library/business/#airmiles","title":"Airmiles","text":"<p>Airline distance calculator - calculates great circle distances between 330 cities worldwide using latitude/longitude coordinates (adapted by Jim Lill, 1987)</p> <p>Year: 1987 Tags: aviation, distance, calculator, geography</p> <p>Download airmiles.bas</p>"},{"location":"library/business/#budget","title":"Budget","text":"<p>Recursive budgeting model - financial planning tool for budget analysis and forecasting (by O.E. Dial, from Personal Computing 1977)</p> <p>Author: O.E. Dial Source: Personal Computing May/June 1977 Year: 1977 Tags: budgeting, finance, planning</p> <p>Download budget.bas</p>"},{"location":"library/business/#cpm-pert","title":"Cpm-Pert","text":"<p>CPM/PERT project management simulator - critical path method and program evaluation review technique for project planning (by Richard Parry, adapted by Charles H Strom, from Interface Age 1981)</p> <p>Author: Richard Parry, adapted by Charles H Strom Source: Interface Age Feb 1981 Year: 1981 Tags: project-management, cpm, pert, planning</p> <p>Download cpm-pert.bas</p>"},{"location":"library/business/#diary","title":"Diary","text":"<p>Daily diary and appointment manager - calendar-based scheduling and note-taking system (by Don Weir, from Kilobaud/Microcomputing 1981)</p> <p>Author: Don Weir Source: Kilobaud/Microcomputing Sept 1981 Year: 1981 Tags: calendar, diary, appointments, scheduling</p> <p>Download diary.bas</p>"},{"location":"library/business/#finance","title":"Finance","text":"<p>Financial calculator collection - computes future value, annuities, regular deposits, investments, withdrawals, and other business calculations</p> <p>Year: 1980s Tags: finance, calculator, investment, annuity</p> <p>Download finance.bas</p>"},{"location":"library/business/#interest","title":"Interest","text":"<p>Loan interest calculator - computes payment amounts for loans based on interest rate, loan amount, years, and payment frequency</p> <p>Year: 1980s Tags: loan, interest, calculator, payment</p> <p>Download interest.bas</p>"},{"location":"library/business/#log10k","title":"Log10K","text":"<p>T.A. Elkins Log(10k!) benchmark - computes number of decimal digits in 10,000 factorial (exact answer: 35660) - performance testing tool (from Computerworld 1987, adapted by Jim Lill)</p> <p>Author: T.A. Elkins, adapted by Jim Lill Source: Computerworld April 20, 1987 Year: 1987 Tags: benchmark, performance, factorial, math</p> <p>Download log10k.bas</p>"},{"location":"library/business/#mortgage","title":"Mortgage","text":"<p>Mortgage analysis calculator - computes interest rate, loan life, amount borrowed, or monthly payment for mortgage planning (1969)</p> <p>Year: 1969 Tags: mortgage, loan, calculator, real-estate</p> <p>Download mortgage.bas</p>"},{"location":"library/business/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/business/#about-these-business-programs","title":"About These Business Programs","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/data_management/","title":"MBASIC Data Management","text":"<p>Database and file management programs</p>"},{"location":"library/data_management/#available-data-management","title":"Available Data Management","text":""},{"location":"library/data_management/#mfil","title":"Mfil","text":"<p>Message file creator - utility for creating test versions of name/message files for bulletin board systems (by Dick Lieber, 1982)</p> <p>Author: Dick Lieber Year: 1982 Tags: database, files, bbs</p> <p>Download mfil.bas</p>"},{"location":"library/data_management/#sfamove","title":"Sfamove","text":"<p>SFA Move utility - data movement tool for SFA database system</p> <p>Year: 1980s Tags: database, sfa, utility</p> <p>Download sfamove.bas</p>"},{"location":"library/data_management/#sfaobdes","title":"Sfaobdes","text":"<p>SFA Object Designer - design tool for SFA database objects and structures</p> <p>Year: 1980s Tags: database, sfa, design</p> <p>Download sfaobdes.bas</p>"},{"location":"library/data_management/#sfavoc","title":"Sfavoc","text":"<p>SFA Vocabulary - vocabulary/dictionary manager for SFA database system</p> <p>Year: 1980s Tags: database, sfa, vocabulary</p> <p>Download sfavoc.bas</p>"},{"location":"library/data_management/#xlabels","title":"Xlabels","text":"<p>Label printer - database label printing utility for mailing labels and address lists</p> <p>Year: 1980s Tags: database, labels, printing</p> <p>Download xlabels.bas</p>"},{"location":"library/data_management/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/data_management/#about-these-data-management","title":"About These Data Management","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/demos/","title":"MBASIC Demos &amp; Tests","text":"<p>Demonstration programs and test suites</p>"},{"location":"library/demos/#available-demos-tests","title":"Available Demos &amp; Tests","text":""},{"location":"library/demos/#benchmk","title":"Benchmk","text":"<p>Interpreter benchmark program - performance testing suite for BASIC interpreter speed comparison</p> <p>Year: 1980s Tags: benchmark, performance, test</p> <p>Download benchmk.bas</p>"},{"location":"library/demos/#test-curses-features","title":"Test Curses Features","text":"<p>Curses UI feature test - comprehensive test suite for curses terminal interface features in MBASIC</p> <p>Year: Modern Tags: test, curses, ui</p> <p>Download test_curses_features.bas</p>"},{"location":"library/demos/#test-curses-input","title":"Test Curses Input","text":"<p>Curses input test - test program for keyboard input handling in curses terminal interface</p> <p>Year: Modern Tags: test, curses, input</p> <p>Download test_curses_input.bas</p>"},{"location":"library/demos/#test-curses-simple","title":"Test Curses Simple","text":"<p>Simple curses test - basic test program for curses terminal interface functionality</p> <p>Year: Modern Tags: test, curses, basic</p> <p>Download test_curses_simple.bas</p>"},{"location":"library/demos/#test-immediate-input","title":"Test Immediate Input","text":"<p>Immediate input test - test program for INKEY$ and immediate keyboard input functions</p> <p>Year: Modern Tags: test, input, inkey</p> <p>Download test_immediate_input.bas</p>"},{"location":"library/demos/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/demos/#about-these-demos-tests","title":"About These Demos &amp; Tests","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/education/","title":"MBASIC Educational Programs","text":"<p>Learning and educational programs</p>"},{"location":"library/education/#available-educational-programs","title":"Available Educational Programs","text":""},{"location":"library/education/#astrnmy2","title":"Astrnmy2","text":"<p>Astronomy calculator suite - three astronomy programs combined: planetary positions, declination/right ascension, and astronomical calculations (adapted by Jim Lill, 1987)</p> <p>Year: 1987 Tags: astronomy, planets, calculator, science</p> <p>Download astrnmy2.bas</p>"},{"location":"library/education/#mathtest","title":"Mathtest","text":"<p>Math precision test suite - tests floating point vs double precision accuracy across trigonometric function ranges in MBASIC</p> <p>Year: 1980s Tags: test, math, precision, benchmark</p> <p>Download mathtest.bas</p>"},{"location":"library/education/#windchil","title":"Windchil","text":"<p>Wind chill calculator - computes wind chill factor from temperature (F or C) and wind speed (by Mike Lozano, WHO Television meteorologist)</p> <p>Author: Mike Lozano Year: 1980s Tags: weather, wind-chill, calculator, meteorology</p> <p>Download windchil.bas</p>"},{"location":"library/education/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/education/#about-these-educational-programs","title":"About These Educational Programs","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/electronics/","title":"MBASIC Electronics Programs","text":"<p>Hardware interfacing and electronics tools</p>"},{"location":"library/electronics/#available-electronics","title":"Available Electronics","text":""},{"location":"library/electronics/#555-ic","title":"555-Ic","text":"<p>555 Timer calculator - calculates resistance and capacitance values for proper operation of the 555 timer-oscillator at desired frequency</p> <p>Year: 1980s Tags: timer, 555, oscillator, calculator</p> <p>Download 555-ic.bas</p>"},{"location":"library/electronics/#567-ic","title":"567-Ic","text":"<p>567 Tone Decoder calculator - calculates resistance and capacitance values for proper operation of the 567 tone decoder IC</p> <p>Year: 1980s Tags: tone-decoder, 567, calculator</p> <p>Download 567-ic.bas</p>"},{"location":"library/electronics/#atten","title":"Atten","text":"<p>Attenuator design program - designs T, PI, or minimum loss attenuators for RF circuits (by Trevor Marshall, 1982)</p> <p>Author: Trevor Marshall Year: 1982 Tags: attenuator, rf, circuit-design</p> <p>Download atten.bas</p>"},{"location":"library/electronics/#bc2","title":"Bc2","text":"<p>BASICODE 2 standard implementation - terminal emulation and compatibility layer for BASICODE programs (by Henk Wevers, 1983)</p> <p>Author: Henk Wevers Year: 1983 Tags: basicode, terminal, emulation</p> <p>Download bc2.bas</p>"},{"location":"library/electronics/#bearing","title":"Bearing","text":"<p>Compute bearings between geographic coordinates - calculates distance and bearing between two latitude/longitude positions (by Paul Macdonald, adapted by Jim Lill, 1987)</p> <p>Author: Paul Macdonald, adapted by Jim Lill Year: 1987 Tags: geography, navigation, coordinates, bearing</p> <p>Download bearing.bas</p>"},{"location":"library/electronics/#lst8085","title":"Lst8085","text":"<p>8085 Assembly language lister - converts assembly language source to listing format for Intel 8085 processor</p> <p>Year: 1980s Tags: assembly, 8085, disassembler, intel</p> <p>Download lst8085.bas</p>"},{"location":"library/electronics/#lstintel","title":"Lstintel","text":"<p>Intel assembly language lister - converts assembly language source to listing format for Intel 8080 processor</p> <p>Year: 1980s Tags: assembly, 8080, disassembler, intel</p> <p>Download lstintel.bas</p>"},{"location":"library/electronics/#lsttdl","title":"Lsttdl","text":"<p>TDL assembly language lister - converts assembly language source to listing format for TDL (Technical Design Labs) assembler</p> <p>Year: 1980s Tags: assembly, tdl, disassembler</p> <p>Download lsttdl.bas</p>"},{"location":"library/electronics/#tab8085","title":"Tab8085","text":"<p>8085 opcode table generator - creates opcode reference tables for Intel 8085 assembly language programming</p> <p>Year: 1980s Tags: assembly, 8085, opcodes, reference</p> <p>Download tab8085.bas</p>"},{"location":"library/electronics/#tabintel","title":"Tabintel","text":"<p>Intel 8080 opcode table generator - creates opcode reference tables for Intel 8080 assembly language programming</p> <p>Year: 1980s Tags: assembly, 8080, opcodes, reference</p> <p>Download tabintel.bas</p>"},{"location":"library/electronics/#tabtdl","title":"Tabtdl","text":"<p>TDL opcode table generator - creates opcode reference tables for TDL (Technical Design Labs) assembly language programming</p> <p>Year: 1980s Tags: assembly, tdl, opcodes, reference</p> <p>Download tabtdl.bas</p>"},{"location":"library/electronics/#tabzilog","title":"Tabzilog","text":"<p>Zilog Z80 opcode table generator - creates opcode reference tables for Zilog Z80 assembly language programming</p> <p>Year: 1980s Tags: assembly, z80, zilog, opcodes, reference</p> <p>Download tabzilog.bas</p>"},{"location":"library/electronics/#timer555","title":"Timer555","text":"<p>555 Timer circuit calculator - calculates component values for 555 timer circuits (similar to 555-ic.bas)</p> <p>Year: 1980s Tags: timer, 555, calculator, circuit</p> <p>Download timer555.bas</p>"},{"location":"library/electronics/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/electronics/#about-these-electronics","title":"About These Electronics","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/games/","title":"MBASIC Games Library","text":"<p>Classic BASIC games from the CP/M era</p>"},{"location":"library/games/#available-games","title":"Available Games","text":""},{"location":"library/games/#23matches","title":"23Matches","text":"<p>Year: 1980s Tags: </p> <p>Download 23matches.bas</p>"},{"location":"library/games/#3dplot","title":"3Dplot","text":"<p>Year: 1980s Tags: </p> <p>Download 3dplot.bas</p>"},{"location":"library/games/#aceyducey","title":"Aceyducey","text":"<p>Year: 1980s Tags: </p> <p>Download aceyducey.bas</p>"},{"location":"library/games/#amazing","title":"Amazing","text":"<p>Year: 1980s Tags: </p> <p>Download amazing.bas</p>"},{"location":"library/games/#animal","title":"Animal","text":"<p>Year: 1980s Tags: </p> <p>Download animal.bas</p>"},{"location":"library/games/#awari","title":"Awari","text":"<p>Year: 1980s Tags: </p> <p>Download awari.bas</p>"},{"location":"library/games/#bacarrat","title":"Bacarrat","text":"<p>Year: 1980s Tags: </p> <p>Download bacarrat.bas</p>"},{"location":"library/games/#bagels","title":"Bagels","text":"<p>Year: 1980s Tags: </p> <p>Download bagels.bas</p>"},{"location":"library/games/#banner","title":"Banner","text":"<p>Year: 1980s Tags: </p> <p>Download banner.bas</p>"},{"location":"library/games/#basketball","title":"Basketball","text":"<p>Year: 1980s Tags: </p> <p>Download basketball.bas</p>"},{"location":"library/games/#batnum","title":"Batnum","text":"<p>Year: 1980s Tags: </p> <p>Download batnum.bas</p>"},{"location":"library/games/#battle","title":"Battle","text":"<p>Year: 1980s Tags: </p> <p>Download battle.bas</p>"},{"location":"library/games/#blackjack","title":"Blackjack","text":"<p>Year: 1980s Tags: </p> <p>Download blackjack.bas</p>"},{"location":"library/games/#blkjk","title":"Blkjk","text":"<p>Year: 1980s Tags: </p> <p>Download blkjk.bas</p>"},{"location":"library/games/#bombardment","title":"Bombardment","text":"<p>Year: 1980s Tags: </p> <p>Download bombardment.bas</p>"},{"location":"library/games/#bombsaway","title":"Bombsaway","text":"<p>Year: 1980s Tags: </p> <p>Download bombsaway.bas</p>"},{"location":"library/games/#bounce","title":"Bounce","text":"<p>Year: 1980s Tags: </p> <p>Download bounce.bas</p>"},{"location":"library/games/#bowling","title":"Bowling","text":"<p>Year: 1980s Tags: </p> <p>Download bowling.bas</p>"},{"location":"library/games/#boxing","title":"Boxing","text":"<p>Year: 1980s Tags: </p> <p>Download boxing.bas</p>"},{"location":"library/games/#bug","title":"Bug","text":"<p>Year: 1980s Tags: </p> <p>Download bug.bas</p>"},{"location":"library/games/#bullfight","title":"Bullfight","text":"<p>Year: 1980s Tags: </p> <p>Download bullfight.bas</p>"},{"location":"library/games/#bullseye","title":"Bullseye","text":"<p>Year: 1980s Tags: </p> <p>Download bullseye.bas</p>"},{"location":"library/games/#bunny","title":"Bunny","text":"<p>Year: 1980s Tags: </p> <p>Download bunny.bas</p>"},{"location":"library/games/#buzzword","title":"Buzzword","text":"<p>Year: 1980s Tags: </p> <p>Download buzzword.bas</p>"},{"location":"library/games/#calendar","title":"Calendar","text":"<p>Full-year calendar display program - shows entire year's calendar at once (Creative Computing, 1979)</p> <p>Source: Creative Computing, Morristown, NJ Year: 1979 Tags: calendar, display, year-view</p> <p>Download calendar.bas</p> <p>Note: A different calendar program (month/year selector, 1900-2099) is available in the Utilities Library</p>"},{"location":"library/games/#change","title":"Change","text":"<p>Year: 1980s Tags: </p> <p>Download change.bas</p>"},{"location":"library/games/#checkers","title":"Checkers","text":"<p>Year: 1980s Tags: </p> <p>Download checkers.bas</p>"},{"location":"library/games/#chemist","title":"Chemist","text":"<p>Year: 1980s Tags: </p> <p>Download chemist.bas</p>"},{"location":"library/games/#chief","title":"Chief","text":"<p>Year: 1980s Tags: </p> <p>Download chief.bas</p>"},{"location":"library/games/#chomp","title":"Chomp","text":"<p>Year: 1980s Tags: </p> <p>Download chomp.bas</p>"},{"location":"library/games/#civilwar","title":"Civilwar","text":"<p>Year: 1980s Tags: </p> <p>Download civilwar.bas</p>"},{"location":"library/games/#combat","title":"Combat","text":"<p>Year: 1980s Tags: </p> <p>Download combat.bas</p>"},{"location":"library/games/#craps","title":"Craps","text":"<p>Year: 1980s Tags: </p> <p>Download craps.bas</p>"},{"location":"library/games/#cube","title":"Cube","text":"<p>Year: 1980s Tags: </p> <p>Download cube.bas</p>"},{"location":"library/games/#depthcharge","title":"Depthcharge","text":"<p>Year: 1980s Tags: </p> <p>Download depthcharge.bas</p>"},{"location":"library/games/#diamond","title":"Diamond","text":"<p>Year: 1980s Tags: </p> <p>Download diamond.bas</p>"},{"location":"library/games/#dice","title":"Dice","text":"<p>Year: 1980s Tags: </p> <p>Download dice.bas</p>"},{"location":"library/games/#digits","title":"Digits","text":"<p>Year: 1980s Tags: </p> <p>Download digits.bas</p>"},{"location":"library/games/#evenwins","title":"Evenwins","text":"<p>Year: 1980s Tags: </p> <p>Download evenwins.bas</p>"},{"location":"library/games/#feesten","title":"Feesten","text":"<p>Year: 1980s Tags: </p> <p>Download feesten.bas</p>"},{"location":"library/games/#flipflop","title":"Flipflop","text":"<p>Year: 1980s Tags: </p> <p>Download flipflop.bas</p>"},{"location":"library/games/#football","title":"Football","text":"<p>Year: 1980s Tags: </p> <p>Download football.bas</p>"},{"location":"library/games/#ftball","title":"Ftball","text":"<p>Year: 1980s Tags: </p> <p>Download ftball.bas</p>"},{"location":"library/games/#furtrader","title":"Furtrader","text":"<p>Year: 1980s Tags: </p> <p>Download furtrader.bas</p>"},{"location":"library/games/#gameofevenwins","title":"Gameofevenwins","text":"<p>Year: 1980s Tags: </p> <p>Download gameofevenwins.bas</p>"},{"location":"library/games/#golf","title":"Golf","text":"<p>Year: 1980s Tags: </p> <p>Download golf.bas</p>"},{"location":"library/games/#gomoko","title":"Gomoko","text":"<p>Year: 1980s Tags: </p> <p>Download gomoko.bas</p>"},{"location":"library/games/#guess","title":"Guess","text":"<p>Year: 1980s Tags: </p> <p>Download guess.bas</p>"},{"location":"library/games/#gunner","title":"Gunner","text":"<p>Year: 1980s Tags: </p> <p>Download gunner.bas</p>"},{"location":"library/games/#hammurabi","title":"Hammurabi","text":"<p>Year: 1980s Tags: </p> <p>Download hammurabi.bas</p>"},{"location":"library/games/#hangman","title":"Hangman","text":"<p>Year: 1980s Tags: </p> <p>Download hangman.bas</p>"},{"location":"library/games/#hangman1","title":"Hangman1","text":"<p>Year: 1980s Tags: </p> <p>Download hangman1.bas</p>"},{"location":"library/games/#hello","title":"Hello","text":"<p>Year: 1980s Tags: </p> <p>Download hello.bas</p>"},{"location":"library/games/#hi-lo","title":"Hi-Lo","text":"<p>Year: 1980s Tags: </p> <p>Download hi-lo.bas</p>"},{"location":"library/games/#highiq","title":"Highiq","text":"<p>Year: 1980s Tags: </p> <p>Download highiq.bas</p>"},{"location":"library/games/#hockey","title":"Hockey","text":"<p>Year: 1980s Tags: </p> <p>Download hockey.bas</p>"},{"location":"library/games/#horserace","title":"Horserace","text":"<p>Year: 1980s Tags: </p> <p>Download horserace.bas</p>"},{"location":"library/games/#hurkle","title":"Hurkle","text":"<p>Year: 1980s Tags: </p> <p>Download hurkle.bas</p>"},{"location":"library/games/#kalfeest","title":"Kalfeest","text":"<p>Year: 1980s Tags: </p> <p>Download kalfeest.bas</p>"},{"location":"library/games/#kinema","title":"Kinema","text":"<p>Year: 1980s Tags: </p> <p>Download kinema.bas</p>"},{"location":"library/games/#king","title":"King","text":"<p>Year: 1980s Tags: </p> <p>Download king.bas</p>"},{"location":"library/games/#lem","title":"Lem","text":"<p>Year: 1980s Tags: </p> <p>Download lem.bas</p>"},{"location":"library/games/#letter","title":"Letter","text":"<p>Year: 1980s Tags: </p> <p>Download letter.bas</p>"},{"location":"library/games/#life","title":"Life","text":"<p>Year: 1980s Tags: </p> <p>Download life.bas</p>"},{"location":"library/games/#lifefortwo","title":"Lifefortwo","text":"<p>Year: 1980s Tags: </p> <p>Download lifefortwo.bas</p>"},{"location":"library/games/#lifscore","title":"Lifscore","text":"<p>Year: 1980s Tags: </p> <p>Download lifscore.bas</p>"},{"location":"library/games/#litquiz","title":"Litquiz","text":"<p>Year: 1980s Tags: </p> <p>Download litquiz.bas</p>"},{"location":"library/games/#love","title":"Love","text":"<p>Year: 1980s Tags: </p> <p>Download love.bas</p>"},{"location":"library/games/#lunar","title":"Lunar","text":"<p>Year: 1980s Tags: </p> <p>Download lunar.bas</p>"},{"location":"library/games/#massa","title":"Massa","text":"<p>Year: 1980s Tags: </p> <p>Download massa.bas</p>"},{"location":"library/games/#mastermind","title":"Mastermind","text":"<p>Year: 1980s Tags: </p> <p>Download mastermind.bas</p>"},{"location":"library/games/#mathdice","title":"Mathdice","text":"<p>Year: 1980s Tags: </p> <p>Download mathdice.bas</p>"},{"location":"library/games/#mugwump","title":"Mugwump","text":"<p>Year: 1980s Tags: </p> <p>Download mugwump.bas</p>"},{"location":"library/games/#name","title":"Name","text":"<p>Year: 1980s Tags: </p> <p>Download name.bas</p>"},{"location":"library/games/#nicomachus","title":"Nicomachus","text":"<p>Year: 1980s Tags: </p> <p>Download nicomachus.bas</p>"},{"location":"library/games/#nim","title":"Nim","text":"<p>Year: 1980s Tags: </p> <p>Download nim.bas</p>"},{"location":"library/games/#number","title":"Number","text":"<p>Year: 1980s Tags: </p> <p>Download number.bas</p>"},{"location":"library/games/#onecheck","title":"Onecheck","text":"<p>Year: 1980s Tags: </p> <p>Download onecheck.bas</p>"},{"location":"library/games/#orbit","title":"Orbit","text":"<p>Year: 1980s Tags: </p> <p>Download orbit.bas</p>"},{"location":"library/games/#ozdot","title":"Ozdot","text":"<p>Year: 1980s Tags: </p> <p>Download ozdot.bas</p>"},{"location":"library/games/#pizza","title":"Pizza","text":"<p>Year: 1980s Tags: </p> <p>Download pizza.bas</p>"},{"location":"library/games/#poetry","title":"Poetry","text":"<p>Year: 1980s Tags: </p> <p>Download poetry.bas</p>"},{"location":"library/games/#poker","title":"Poker","text":"<p>Year: 1980s Tags: </p> <p>Download poker.bas</p>"},{"location":"library/games/#qubit","title":"Qubit","text":"<p>Year: 1980s Tags: </p> <p>Download qubit.bas</p>"},{"location":"library/games/#queen","title":"Queen","text":"<p>Year: 1980s Tags: </p> <p>Download queen.bas</p>"},{"location":"library/games/#reverse","title":"Reverse","text":"<p>Year: 1980s Tags: </p> <p>Download reverse.bas</p>"},{"location":"library/games/#rocket","title":"Rocket","text":"<p>Year: 1980s Tags: </p> <p>Download rocket.bas</p>"},{"location":"library/games/#rockscissors","title":"Rockscissors","text":"<p>Year: 1980s Tags: </p> <p>Download rockscissors.bas</p>"},{"location":"library/games/#roulette","title":"Roulette","text":"<p>Year: 1980s Tags: </p> <p>Download roulette.bas</p>"},{"location":"library/games/#russianroulette","title":"Russianroulette","text":"<p>Year: 1980s Tags: </p> <p>Download russianroulette.bas</p>"},{"location":"library/games/#salvo","title":"Salvo","text":"<p>Year: 1980s Tags: </p> <p>Download salvo.bas</p>"},{"location":"library/games/#slalom","title":"Slalom","text":"<p>Year: 1980s Tags: </p> <p>Download slalom.bas</p>"},{"location":"library/games/#slots","title":"Slots","text":"<p>Year: 1980s Tags: </p> <p>Download slots.bas</p>"},{"location":"library/games/#spacewar","title":"Spacewar","text":"<p>Year: 1980s Tags: </p> <p>Download spacewar.bas</p>"},{"location":"library/games/#splat","title":"Splat","text":"<p>Year: 1980s Tags: </p> <p>Download splat.bas</p>"},{"location":"library/games/#star","title":"Star","text":"<p>Year: 1980s Tags: </p> <p>Download star.bas</p>"},{"location":"library/games/#stars","title":"Stars","text":"<p>Year: 1980s Tags: </p> <p>Download stars.bas</p>"},{"location":"library/games/#startrek","title":"Startrek","text":"<p>Year: 1980s Tags: </p> <p>Download startrek.bas</p>"},{"location":"library/games/#stockmarket","title":"Stockmarket","text":"<p>Year: 1980s Tags: </p> <p>Download stockmarket.bas</p>"},{"location":"library/games/#suite","title":"Suite","text":"<p>Year: 1980s Tags: </p> <p>Download suite.bas</p>"},{"location":"library/games/#superstartrek","title":"Superstartrek","text":"<p>Year: 1980s Tags: </p> <p>Download superstartrek.bas</p>"},{"location":"library/games/#superstartrekins","title":"Superstartrekins","text":"<p>Year: 1980s Tags: </p> <p>Download superstartrekins.bas</p>"},{"location":"library/games/#survival","title":"Survival","text":"<p>Author: R Logan &amp; Ian Lycholm CBASIC 2 VER Year: 1982 Tags: </p> <p>Download survival.bas</p>"},{"location":"library/games/#synonym","title":"Synonym","text":"<p>Year: 1980s Tags: </p> <p>Download synonym.bas</p>"},{"location":"library/games/#target","title":"Target","text":"<p>Year: 1980s Tags: </p> <p>Download target.bas</p>"},{"location":"library/games/#tictactoe1","title":"Tictactoe1","text":"<p>Year: 1980s Tags: </p> <p>Download tictactoe1.bas</p>"},{"location":"library/games/#tictactoe2","title":"Tictactoe2","text":"<p>Year: 1980s Tags: </p> <p>Download tictactoe2.bas</p>"},{"location":"library/games/#tower","title":"Tower","text":"<p>Year: 1980s Tags: </p> <p>Download tower.bas</p>"},{"location":"library/games/#train","title":"Train","text":"<p>Year: 1980s Tags: </p> <p>Download train.bas</p>"},{"location":"library/games/#trap","title":"Trap","text":"<p>Year: 1980s Tags: </p> <p>Download trap.bas</p>"},{"location":"library/games/#war","title":"War","text":"<p>Year: 1980s Tags: </p> <p>Download war.bas</p>"},{"location":"library/games/#weekday","title":"Weekday","text":"<p>Year: 1980s Tags: </p> <p>Download weekday.bas</p>"},{"location":"library/games/#word","title":"Word","text":"<p>Year: 1980s Tags: </p> <p>Download word.bas</p>"},{"location":"library/games/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/games/#about-these-games","title":"About These Games","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/ham_radio/","title":"MBASIC Ham Radio Programs","text":"<p>Amateur radio utilities and tools</p>"},{"location":"library/ham_radio/#available-ham-radio","title":"Available Ham Radio","text":""},{"location":"library/ham_radio/#boka-ei","title":"Boka-Ei","text":"<p>Amateur radio callsign lookup - Swedish callsign database and lookup utility (EI = Swedish amateur radio prefix)</p> <p>Year: 1980s Tags: ham-radio, callsign, lookup, swedish</p> <p>Download boka-ei.bas</p>"},{"location":"library/ham_radio/#qsoedit","title":"Qsoedit","text":"<p>QSO log editor - edit and update amateur radio contact logs with call signs, names, locations, frequencies, dates, and times</p> <p>Year: 1980s Tags: ham-radio, qso, log, editor</p> <p>Download qsoedit.bas</p>"},{"location":"library/ham_radio/#qsofind","title":"Qsofind","text":"<p>QSO log search - search and find entries in amateur radio contact logs by call sign or other criteria</p> <p>Year: 1980s Tags: ham-radio, qso, search, log</p> <p>Download qsofind.bas</p>"},{"location":"library/ham_radio/#rbsclock","title":"Rbsclock","text":"<p>RBS clock utility - clock/time management tool for RBS (Remote Bulletin System) ham radio BBS</p> <p>Year: 1980s Tags: ham-radio, rbs, clock, bbs</p> <p>Download rbsclock.bas</p>"},{"location":"library/ham_radio/#rbspurge","title":"Rbspurge","text":"<p>RBS purge utility - maintenance tool to purge old messages from RBS (Remote Bulletin System) ham radio BBS</p> <p>Year: 1980s Tags: ham-radio, rbs, purge, bbs</p> <p>Download rbspurge.bas</p>"},{"location":"library/ham_radio/#rbsutl31","title":"Rbsutl31","text":"<p>RBS utilities v3.1 - utility collection for RBS (Remote Bulletin System) ham radio bulletin board system</p> <p>Year: 1980s Tags: ham-radio, rbs, utilities, bbs</p> <p>Download rbsutl31.bas</p>"},{"location":"library/ham_radio/#rsj","title":"Rsj","text":"<p>RSJ utility - ham radio utility (RSJ likely refers to a specific radio system or protocol)</p> <p>Year: 1980s Tags: ham-radio, utility</p> <p>Download rsj.bas</p>"},{"location":"library/ham_radio/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/ham_radio/#about-these-ham-radio","title":"About These Ham Radio","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/telecommunications/","title":"MBASIC Telecommunications","text":"<p>Modem, terminal, and BBS programs</p>"},{"location":"library/telecommunications/#available-telecommunications","title":"Available Telecommunications","text":""},{"location":"library/telecommunications/#bmodem","title":"Bmodem","text":"<p>Batch modem file transfer - modem communication program for batch file transfers using CP/M modems</p> <p>Year: 1980s Tags: modem, transfer, communication</p> <p>Download bmodem.bas</p>"},{"location":"library/telecommunications/#bmodem1","title":"Bmodem1","text":"<p>Batch modem v1 - early version of batch modem file transfer program for CP/M systems</p> <p>Year: 1980s Tags: modem, transfer, communication</p> <p>Download bmodem1.bas</p>"},{"location":"library/telecommunications/#command","title":"Command","text":"<p>Command processor - terminal command interpreter or BBS command processing system</p> <p>Year: 1980s Tags: terminal, command, bbs</p> <p>Download command.bas</p>"},{"location":"library/telecommunications/#exitbbs1","title":"Exitbbs1","text":"<p>BBS exit utility v1 - exit/logout utility for bulletin board systems with cleanup and housekeeping</p> <p>Year: 1980s Tags: bbs, exit, utility</p> <p>Download exitbbs1.bas</p>"},{"location":"library/telecommunications/#xtel","title":"Xtel","text":"<p>Terminal emulator - communications terminal program for modem connections and BBS access</p> <p>Year: 1980s Tags: terminal, modem, emulator</p> <p>Download xtel.bas</p>"},{"location":"library/telecommunications/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/telecommunications/#about-these-telecommunications","title":"About These Telecommunications","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"library/utilities/","title":"MBASIC Utilities Library","text":"<p>Utility programs for file management, conversion, and system tools</p>"},{"location":"library/utilities/#available-utilities","title":"Available Utilities","text":""},{"location":"library/utilities/#bigcal2","title":"Bigcal2","text":"<p>Extended precision calculator with up to 100-digit precision for arithmetic operations</p> <p>Author: Judson D. McClendon, modified by R.J. Sandel Year: 1980s Tags: calculator, math, precision</p> <p>Download bigcal2.bas</p>"},{"location":"library/utilities/#calendar","title":"Calendar","text":"<p>Month/year calendar generator - prompts for specific month and year (1900-2099), prints formatted calendar (Dr Dobbs, 1982)</p> <p>Source: Dr Dobbs Nov 1981 Year: 1982 Tags: date, calendar, utility, month-view</p> <p>Download calendar.bas</p> <p>Note: A different calendar program (full-year display) is available in the Games Library</p>"},{"location":"library/utilities/#calendr5","title":"Calendr5","text":"<p>Gregorian calendar utilities - compute day of week, days between dates, and astronomical Julian dates</p> <p>Author: D. Mc Lanahan Year: 1980s Tags: calendar, date, astronomy, julian</p> <p>Download calendr5.bas</p>"},{"location":"library/utilities/#charfreq","title":"Charfreq","text":"<p>Character frequency analyzer - counts occurrence of each character in text</p> <p>Year: 1980s Tags: text, analysis, frequency</p> <p>Download charfreq.bas</p>"},{"location":"library/utilities/#convert","title":"Convert","text":"<p>Convert BASICODE2 programs to MBASIC format</p> <p>Author: Henk Wevers, Dutch Hobby Computerclub Year: 1980s Tags: conversion, basicode, translator</p> <p>Download convert.bas</p>"},{"location":"library/utilities/#dow","title":"Dow","text":"<p>Day of Week calculator - determine what day of the week any date falls on</p> <p>Year: 1980s Tags: date, calendar, dow</p> <p>Download dow.bas</p>"},{"location":"library/utilities/#fprime","title":"Fprime","text":"<p>Prime number generator - finds and prints all prime numbers up to 1000</p> <p>Year: 1980s Tags: math, prime, numbers</p> <p>Download fprime.bas</p>"},{"location":"library/utilities/#hex2data","title":"Hex2Data","text":"<p>Convert Intel Hex Format data files to BASIC DATA statements</p> <p>Author: Ian Cottrell, Ottawa, Ontario Year: 1983 Tags: conversion, assembly, hex</p> <p>Download hex2data.bas</p>"},{"location":"library/utilities/#million","title":"Million","text":"<p>Millionaire life simulation game - make financial decisions to accumulate wealth</p> <p>Author: Craig Gunnett Source: Creative Computing Year: 1980s Tags: simulation, financial, game</p> <p>Download million.bas</p>"},{"location":"library/utilities/#rotate","title":"Rotate","text":"<p>Letter rotation puzzle game - order letters A-P by rotating groups clockwise</p> <p>Year: 1980s Tags: puzzle, game, logic</p> <p>Download rotate.bas</p>"},{"location":"library/utilities/#search","title":"Search","text":"<p>Library search system - search computer journals and general files by keywords</p> <p>Year: 1980s Tags: database, search, library</p> <p>Download search.bas</p>"},{"location":"library/utilities/#sort","title":"Sort","text":"<p>BASICODE 2 utility routines collection</p> <p>Author: Henk Wevers Year: 1980s Tags: basicode, utilities, routines</p> <p>Download sort.bas</p>"},{"location":"library/utilities/#ucase","title":"Ucase","text":"<p>Convert lowercase characters to uppercase using bit masking function</p> <p>Year: 1980s Tags: string, conversion, uppercase</p> <p>Download ucase.bas</p>"},{"location":"library/utilities/#un-prot","title":"Un-Prot","text":"<p>Fixup utility for UN.COM unprotect program - modifies UN.COM to work with MBASIC 5.2 protected files (by B. Norris, 1983)</p> <p>Author: B. Norris Year: 1983 Tags: utility, unprotect, mbasic, tool</p> <p>Download un-prot.bas</p>"},{"location":"library/utilities/#unprotct","title":"Unprotct","text":"<p>Self-unprotecting program for MBASIC 5.21 protected files</p> <p>Year: 1980s Tags: utility, unprotect, mbasic</p> <p>Download unprotct.bas</p>"},{"location":"library/utilities/#uudecode","title":"Uudecode","text":"<p>Decode uuencoded files back to binary format</p> <p>Year: 1980s Tags: decode, uuencode, conversion</p> <p>Download uudecode.bas</p>"},{"location":"library/utilities/#xextract","title":"Xextract","text":"<p>Database extract utility - reads database files and extracts selected items (phone/address records) to output file</p> <p>Year: 1980s Tags: database, extract, utility, records</p> <p>Download xextract.bas</p>"},{"location":"library/utilities/#xscan","title":"Xscan","text":"<p>Database scan and delete utility - reads database files and allows deletion of selected items (phone/address records)</p> <p>Year: 1980s Tags: database, delete, utility, records</p> <p>Download xscan.bas</p>"},{"location":"library/utilities/#how-to-use","title":"How to Use","text":"<ol> <li>Download the .bas file you want to use</li> <li>Open MBASIC in your preferred UI (Web, Tkinter, Curses, or CLI)</li> <li>Open the file:</li> <li>Web/Tkinter UI: Click File \u2192 Open, select the downloaded file</li> <li>CLI: Type <code>LOAD \"filename.bas\"</code></li> <li>Run: Type <code>RUN</code> or press the Run button</li> </ol>"},{"location":"library/utilities/#about-these-utilities","title":"About These Utilities","text":"<p>These programs are from the CP/M and early PC era (1970s-1980s),  preserved from historical archives including OAK, Simtel, and CP/M CD-ROMs.</p>"},{"location":"user/CASE_HANDLING_GUIDE/","title":"Understanding Case Handling in MBASIC","text":""},{"location":"user/CASE_HANDLING_GUIDE/#what-is-case-handling","title":"What is \"Case Handling\"?","text":"<p>MBASIC, like all classic BASIC interpreters, is case-insensitive. This means:</p> <pre><code>10 MyVariable = 5\n20 myvariable = 10\n30 MYVARIABLE = 15\n</code></pre> <p>All three lines refer to the same variable. The value is now 15.</p> <p>But here's the new question: Which spelling should MBASIC show you? Should it be <code>MyVariable</code>, <code>myvariable</code>, or <code>MYVARIABLE</code>?</p> <p>This is what \"case handling\" controls.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#why-does-this-matter","title":"Why Does This Matter?","text":""},{"location":"user/CASE_HANDLING_GUIDE/#problem-1-accidental-typos","title":"Problem 1: Accidental Typos","text":"<p>Imagine you're writing a program:</p> <pre><code>10 TotalCount = 0\n20 FOR I = 1 TO 10\n30   TotalCont = TotalCount + I   \u2190 Typo! Missing 'u' in TotalCount\n40 NEXT I\n50 PRINT TotalCount\n</code></pre> <p>What happens? - Without case conflict detection: Prints <code>0</code> (the loop creates a new variable <code>TotalCont</code> but never updates <code>TotalCount</code>!) - With case conflict detection: Error at line 30 - catches the typo immediately</p> <p>This is a real bug that's hard to spot. Case handling can catch it.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#problem-2-inconsistent-style","title":"Problem 2: Inconsistent Style","text":"<p>When copying code from different sources:</p> <pre><code>10 REM From Program A\n20 PlayerScore = 100\n30 REM From Program B\n40 playerscore = 200\n</code></pre> <p>Is this one variable or two? (It's one!) But it looks confusing.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#problem-3-team-projects","title":"Problem 3: Team Projects","text":"<p>When multiple people work on the same program, everyone may have different habits:</p> <pre><code>REM Person A likes: TargetAngle\nREM Person B likes: targetangle\nREM Person C likes: TARGETANGLE\n</code></pre> <p>Without case handling, the same variable appears three different ways in your code!</p>"},{"location":"user/CASE_HANDLING_GUIDE/#how-mbasic-solves-this","title":"How MBASIC Solves This","text":"<p>MBASIC gives you two separate case handling systems:</p> <ol> <li>Variable Case Handling - Controls how variable names are displayed</li> <li>Keyword Case Handling - Controls how keywords like PRINT, FOR, IF are displayed</li> </ol> <p>You can configure each independently!</p>"},{"location":"user/CASE_HANDLING_GUIDE/#variable-case-handling","title":"Variable Case Handling","text":""},{"location":"user/CASE_HANDLING_GUIDE/#setting-variablescase_conflict","title":"Setting: <code>variables.case_conflict</code>","text":"<p>Controls what MBASIC does when the same variable appears with different cases.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-1-first_wins-default","title":"Option 1: <code>first_wins</code> (Default)","text":"<p>What it does: The first spelling you use becomes the official spelling.</p> <pre><code>10 TargetAngle = 45\n20 targetangle = 90  \u2190 MBASIC uses \"TargetAngle\" everywhere\n30 PRINT TargetAngle  \u2190 Displays \"TargetAngle = 90\"\n</code></pre> <p>When to use: - Solo projects - When you want freedom to type casually - You're consistent naturally</p> <p>Pros: Flexible, doesn't interrupt your work Cons: Won't catch typos</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-2-error","title":"Option 2: <code>error</code>","text":"<p>What it does: Shows an error if you spell the same variable differently.</p> <pre><code>10 TotalCount = 0\n20 TotalCont = TotalCont + 5  \u2190 ERROR!\n</code></pre> <p>Error message: <pre><code>Variable name case conflict: 'TotalCont' at line 20 vs 'TotalCount' at line 10\n</code></pre></p> <p>When to use: - Team projects - When you want to catch typos - Professional/shared code</p> <p>Pros: Catches bugs immediately Cons: Requires fixing before running</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-3-prefer_upper","title":"Option 3: <code>prefer_upper</code>","text":"<p>What it does: Always uses the version with MOST CAPITAL LETTERS.</p> <pre><code>10 targetangle = 45   \u2190 0 capital letters\n20 TargetAngle = 90   \u2190 2 capital letters\n30 TARGETANGLE = 100  \u2190 11 capital letters (winner!)\n</code></pre> <p>MBASIC shows: <code>TARGETANGLE = 100</code> everywhere</p> <p>When to use: - Classic BASIC style (retro computing) - Want that vintage look</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-4-prefer_lower","title":"Option 4: <code>prefer_lower</code>","text":"<p>What it does: Always uses the version with most lowercase letters.</p> <pre><code>10 COUNTER = 10  \u2190 7 capital letters\n20 counter = 20  \u2190 7 lowercase letters (winner!)\n</code></pre> <p>MBASIC shows: <code>counter = 20</code></p> <p>When to use: - Modern style (like Python) - Easier to read for long sessions</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-5-prefer_mixed","title":"Option 5: <code>prefer_mixed</code>","text":"<p>What it does: Prefers camelCase or PascalCase style.</p> <pre><code>10 targetangle = 10   \u2190 All lowercase\n20 TARGETANGLE = 20   \u2190 All uppercase\n30 TargetAngle = 30   \u2190 Mixed case (winner!)\n</code></pre> <p>MBASIC shows: <code>TargetAngle = 30</code></p> <p>When to use: - Modern readable code - Professional appearance - Mixed with other languages</p>"},{"location":"user/CASE_HANDLING_GUIDE/#keyword-case-handling","title":"Keyword Case Handling","text":""},{"location":"user/CASE_HANDLING_GUIDE/#setting-keywordscase_style","title":"Setting: <code>keywords.case_style</code>","text":"<p>Controls how keywords (PRINT, FOR, IF, END, etc.) are displayed.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-1-force_lower-default","title":"Option 1: <code>force_lower</code> (Default)","text":"<p>What it does: All keywords shown in lowercase.</p> <pre><code>You type:    10 PRINT \"hello\"\n             20 Print \"world\"\n             30 print \"!\"\n\nMBASIC shows: 10 print \"hello\"\n              20 print \"world\"\n              30 print \"!\"\n</code></pre> <p>When to use: - Default MBASIC 5.21 style - Matches original behavior</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-2-force_upper","title":"Option 2: <code>force_upper</code>","text":"<p>What it does: All keywords shown in UPPERCASE.</p> <pre><code>You type:    10 print \"hello\"\n             20 Print \"world\"\n\nMBASIC shows: 10 PRINT \"hello\"\n              20 PRINT \"world\"\n</code></pre> <p>When to use: - Classic BASIC appearance - Vintage computing feel - Visually distinct from variables</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-3-force_capitalize-popular","title":"Option 3: <code>force_capitalize</code> \u2b50 Popular!","text":"<p>What it does: Keywords shown as Capitalized (first letter uppercase).</p> <pre><code>You type:    10 PRINT \"hello\"\n             20 for i = 1 to 10\n             30 IF x = 5 THEN GOTO 100\n\nMBASIC shows: 10 Print \"hello\"\n              20 For i = 1 To 10\n              30 If x = 5 Then Goto 100\n</code></pre> <p>When to use: - Modern readable style - Teaching/tutorials - Professional documentation - Easier on the eyes than ALL CAPS</p> <p>Why it's popular: - More readable than <code>PRINT</code> or <code>print</code> - Looks professional - Similar to modern languages - Clear but not shouty</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-4-first_wins","title":"Option 4: <code>first_wins</code>","text":"<p>What it does: First spelling of each keyword becomes official.</p> <pre><code>You type:    10 Print \"hello\"\n             20 PRINT \"world\"\n\nMBASIC shows: 10 Print \"hello\"\n              20 Print \"world\"  \u2190 Uses first spelling\n</code></pre> <p>When to use: - You have a preferred style and stick to it - Importing code from different sources</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-5-error","title":"Option 5: <code>error</code>","text":"<p>What it does: Error if same keyword spelled differently.</p> <pre><code>10 Print \"hello\"\n20 PRINT \"world\"  \u2190 ERROR: Keyword case conflict!\n</code></pre> <p>When to use: - Enforcing strict style guidelines - Team projects with coding standards</p>"},{"location":"user/CASE_HANDLING_GUIDE/#option-6-preserve","title":"Option 6: <code>preserve</code>","text":"<p>What it does: Every keyword stays exactly as you typed it.</p> <pre><code>You type:    10 PRINT \"hello\"\n             20 print \"world\"\n             30 Print \"!\"\n\nMBASIC shows: 10 PRINT \"hello\"\n              20 print \"world\"\n              30 Print \"!\"\n</code></pre> <p>When to use: - Maximum flexibility - Artistic code formatting - Special presentations</p>"},{"location":"user/CASE_HANDLING_GUIDE/#common-scenarios","title":"Common Scenarios","text":""},{"location":"user/CASE_HANDLING_GUIDE/#scenario-1-solo-hobbyist","title":"Scenario 1: Solo Hobbyist","text":"<p>You want: Freedom to code casually, no interruptions</p> <p>Settings: <pre><code>SET \"variables.case_conflict\" \"first_wins\"\nSET \"keywords.case_style\" \"force_lower\"\n</code></pre></p> <p>Result: Type naturally, MBASIC handles everything silently.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#scenario-2-teachingtutorials","title":"Scenario 2: Teaching/Tutorials","text":"<p>You want: Clear, readable code for students</p> <p>Settings: <pre><code>SET \"variables.case_conflict\" \"prefer_mixed\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre></p> <p>Result: <pre><code>10 For Count = 1 To 10\n20   Print \"Number:\"; Count\n30 Next Count\n</code></pre></p> <p>Professional and easy to read!</p>"},{"location":"user/CASE_HANDLING_GUIDE/#scenario-3-team-project","title":"Scenario 3: Team Project","text":"<p>You want: Catch mistakes, enforce consistency</p> <p>Settings: <pre><code>SET \"variables.case_conflict\" \"error\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre></p> <p>Result: Any inconsistency is flagged immediately. Forces team to agree on style.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#scenario-4-retrovintage-look","title":"Scenario 4: Retro/Vintage Look","text":"<p>You want: Classic BASIC appearance</p> <p>Settings: <pre><code>SET \"variables.case_conflict\" \"prefer_upper\"\nSET \"keywords.case_style\" \"force_upper\"\n</code></pre></p> <p>Result: <pre><code>10 FOR COUNT = 1 TO 10\n20   PRINT \"NUMBER:\"; COUNT\n30 NEXT COUNT\n</code></pre></p> <p>Looks like it came from a 1970s terminal!</p>"},{"location":"user/CASE_HANDLING_GUIDE/#scenario-5-modern-python-like-style","title":"Scenario 5: Modern Python-like Style","text":"<p>You want: Contemporary programming feel</p> <p>Settings: <pre><code>SET \"variables.case_conflict\" \"prefer_lower\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre></p> <p>Result: <pre><code>10 For counter = 1 To 10\n20   Print \"value:\"; counter\n30 Next counter\n</code></pre></p> <p>Familiar to modern programmers!</p>"},{"location":"user/CASE_HANDLING_GUIDE/#how-to-change-settings","title":"How to Change Settings","text":""},{"location":"user/CASE_HANDLING_GUIDE/#view-current-settings","title":"View Current Settings","text":"<pre><code>SHOW SETTINGS\n</code></pre> <p>Shows all settings and their values.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#view-specific-category","title":"View Specific Category","text":"<pre><code>SHOW SETTINGS \"variables\"\nSHOW SETTINGS \"keywords\"\n</code></pre>"},{"location":"user/CASE_HANDLING_GUIDE/#change-a-setting","title":"Change a Setting","text":"<pre><code>SET \"variables.case_conflict\" \"error\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre>"},{"location":"user/CASE_HANDLING_GUIDE/#get-help-on-a-setting","title":"Get Help on a Setting","text":"<pre><code>HELP SET \"variables.case_conflict\"\nHELP SET \"keywords.case_style\"\n</code></pre> <p>Shows detailed explanation and examples.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#configuration-files","title":"Configuration Files","text":"<p>Settings can be saved to files for persistence:</p>"},{"location":"user/CASE_HANDLING_GUIDE/#global-settings-all-projects","title":"Global Settings (All Projects)","text":"<p>File: <code>~/.mbasic/settings.json</code></p> <pre><code>{\n  \"variables.case_conflict\": \"first_wins\",\n  \"keywords.case_style\": \"force_lower\"\n}\n</code></pre>"},{"location":"user/CASE_HANDLING_GUIDE/#project-settings-this-project-only","title":"Project Settings (This Project Only)","text":"<p>File: <code>.mbasic/settings.json</code> (in your project directory)</p> <pre><code>{\n  \"variables.case_conflict\": \"error\",\n  \"keywords.case_style\": \"force_capitalize\"\n}\n</code></pre> <p>Project settings override global settings.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#debugging-case-issues","title":"Debugging Case Issues","text":""},{"location":"user/CASE_HANDLING_GUIDE/#problem-why-does-my-variable-look-different-than-i-typed","title":"Problem: \"Why does my variable look different than I typed?\"","text":"<p>Answer: Check your <code>variables.case_conflict</code> setting.</p> <pre><code>SHOW SETTINGS \"variables.case_conflict\"\n</code></pre> <p>If it's <code>first_wins</code>, the first spelling is used everywhere.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#problem-i-want-to-find-all-case-variations-of-a-variable","title":"Problem: \"I want to find all case variations of a variable\"","text":"<p>Answer: Use the <code>error</code> policy temporarily:</p> <pre><code>SET \"variables.case_conflict\" \"error\"\nRUN\n</code></pre> <p>MBASIC will show you exactly where different cases appear.</p> <p>Then fix them or change back to your preferred policy.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#problem-keywords-look-weird-after-editing","title":"Problem: \"Keywords look weird after editing\"","text":"<p>Answer: Check your <code>keywords.case_style</code>:</p> <pre><code>SHOW SETTINGS \"keywords.case_style\"\n</code></pre> <p>Change it to your preference:</p> <pre><code>SET \"keywords.case_style\" \"force_capitalize\"\n</code></pre>"},{"location":"user/CASE_HANDLING_GUIDE/#best-practices","title":"Best Practices","text":""},{"location":"user/CASE_HANDLING_GUIDE/#for-personal-projects","title":"For Personal Projects","text":"<ol> <li>Use <code>first_wins</code> for variables (freedom)</li> <li>Use <code>force_capitalize</code> for keywords (readability)</li> <li>Be consistent within each program</li> </ol>"},{"location":"user/CASE_HANDLING_GUIDE/#for-team-projects","title":"For Team Projects","text":"<ol> <li>Use <code>error</code> for variables (catch mistakes)</li> <li>Agree on keyword style (document it)</li> <li>Add settings to <code>.mbasic/settings.json</code> in project</li> </ol>"},{"location":"user/CASE_HANDLING_GUIDE/#for-published-code","title":"For Published Code","text":"<ol> <li>Use consistent style throughout</li> <li>Consider <code>prefer_mixed</code> for variables</li> <li>Use <code>force_capitalize</code> for keywords</li> <li>Test with <code>error</code> policy before publishing</li> </ol>"},{"location":"user/CASE_HANDLING_GUIDE/#for-teaching","title":"For Teaching","text":"<ol> <li>Use <code>force_capitalize</code> for keywords</li> <li>Use <code>prefer_mixed</code> for variables</li> <li>Show students the settings</li> <li>Explain why consistency matters</li> </ol>"},{"location":"user/CASE_HANDLING_GUIDE/#technical-background","title":"Technical Background","text":""},{"location":"user/CASE_HANDLING_GUIDE/#why-is-basic-case-insensitive","title":"Why is BASIC Case-Insensitive?","text":"<p>Historical reasons: 1. 1960s-70s computers: Many terminals were uppercase-only 2. Simplicity: Easier for beginners (no remembering exact case) 3. Compatibility: Code works regardless of how typed</p>"},{"location":"user/CASE_HANDLING_GUIDE/#why-add-case-handling-now","title":"Why Add Case Handling Now?","text":"<p>Modern benefits: 1. Better error detection: Catch typos automatically 2. Code readability: Consistent style is easier to read 3. Team collaboration: Everyone sees same style 4. Educational: Teaches good programming habits</p>"},{"location":"user/CASE_HANDLING_GUIDE/#comparison-to-other-languages","title":"Comparison to Other Languages","text":"Language Case Sensitive? Variable Display Python Yes Exactly as typed JavaScript Yes Exactly as typed SQL No Varies by tool BASIC No You choose! <p>MBASIC gives you the best of both worlds: - Case-insensitive (easy for beginners) - Configurable display (professional results)</p>"},{"location":"user/CASE_HANDLING_GUIDE/#real-world-example","title":"Real-World Example","text":"<p>Here's a complete program showing the difference:</p>"},{"location":"user/CASE_HANDLING_GUIDE/#with-default-settings","title":"With Default Settings","text":"<pre><code>10 REM Calculate average\n20 Total = 0\n30 FOR count = 1 TO 5\n40   INPUT \"Enter number\"; num\n50   total = total + num\n60 NEXT count\n70 Average = total / count\n80 PRINT \"Average is:\"; average\n90 END\n</code></pre> <p>Variables appear with mixed cases (first-seen). Hard to read.</p>"},{"location":"user/CASE_HANDLING_GUIDE/#with-recommended-settings","title":"With Recommended Settings","text":"<pre><code>SET \"variables.case_conflict\" \"prefer_mixed\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre> <p>Result: <pre><code>10 Rem Calculate average\n20 Total = 0\n30 For Count = 1 To 5\n40   Input \"Enter number\"; Num\n50   Total = Total + Num\n60 Next Count\n70 Average = Total / Count\n80 Print \"Average is:\"; Average\n90 End\n</code></pre></p> <p>Much more professional and readable!</p>"},{"location":"user/CASE_HANDLING_GUIDE/#quick-reference-card","title":"Quick Reference Card","text":""},{"location":"user/CASE_HANDLING_GUIDE/#most-popular-combinations","title":"Most Popular Combinations","text":"<p>Beginner Friendly: <pre><code>SET \"variables.case_conflict\" \"first_wins\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre></p> <p>Professional: <pre><code>SET \"variables.case_conflict\" \"prefer_mixed\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre></p> <p>Strict/Team: <pre><code>SET \"variables.case_conflict\" \"error\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre></p> <p>Vintage: <pre><code>SET \"variables.case_conflict\" \"prefer_upper\"\nSET \"keywords.case_style\" \"force_upper\"\n</code></pre></p> <p>Modern: <pre><code>SET \"variables.case_conflict\" \"prefer_lower\"\nSET \"keywords.case_style\" \"force_capitalize\"\n</code></pre></p>"},{"location":"user/CASE_HANDLING_GUIDE/#summary","title":"Summary","text":"<p>Case handling is about making your code look the way you want while catching mistakes.</p> <p>Key Points: 1. BASIC remains case-insensitive (that won't change) 2. You control how variables and keywords are displayed 3. Settings can catch typos and enforce style 4. Different settings for different situations 5. Configuration saved per-project or globally</p> <p>Start Here: <pre><code>SHOW SETTINGS\nHELP SET \"variables.case_conflict\"\nHELP SET \"keywords.case_style\"\n</code></pre></p> <p>Experiment until you find what works for you!</p>"},{"location":"user/CASE_HANDLING_GUIDE/#see-also","title":"See Also","text":"<ul> <li><code>SETTINGS_AND_CONFIGURATION.md</code> - Complete settings reference</li> <li><code>TK_UI_QUICK_START.md</code> - Using the graphical interface</li> <li><code>QUICK_REFERENCE.md</code> - All MBASIC commands</li> </ul>"},{"location":"user/CHOOSING_YOUR_UI/","title":"Choosing Your MBASIC User Interface","text":"<p>This guide helps you select the best MBASIC UI for your specific needs and use cases.</p>"},{"location":"user/CHOOSING_YOUR_UI/#quick-decision-tree","title":"Quick Decision Tree","text":"<pre><code>Start Here\n    \u2193\nDo you need a graphical interface?\n    \u251c\u2500 No \u2192 Do you have terminal access only?\n    \u2502        \u251c\u2500 Yes \u2192 Use CURSES (full terminal IDE)\n    \u2502        \u2514\u2500 No \u2192 Use CLI (command line)\n    \u2502\n    \u2514\u2500 Yes \u2192 Do you need to install software?\n             \u251c\u2500 No \u2192 Use WEB (browser-based)\n             \u2514\u2500 Yes \u2192 Use TK (desktop GUI)\n</code></pre>"},{"location":"user/CHOOSING_YOUR_UI/#ui-comparison-at-a-glance","title":"UI Comparison at a Glance","text":"UI Best For Avoid If CLI Automation, testing, purists You want visual editing Curses SSH/remote, terminal fans You need mouse support Tk Full IDE experience You can't install Tkinter Web Sharing, teaching, quick access You need local files"},{"location":"user/CHOOSING_YOUR_UI/#detailed-ui-profiles","title":"Detailed UI Profiles","text":""},{"location":"user/CHOOSING_YOUR_UI/#cli-command-line-interface","title":"\ud83d\udda5\ufe0f CLI (Command Line Interface)","text":"<p>Choose CLI when you: - Want the authentic MBASIC-80 experience - Need to automate with scripts - Run automated tests - Process batch files - Work with pipes and redirection - Debug with command-line tools - Have minimal resources</p> <p>CLI is perfect for: <pre><code># Automation\necho \"10 PRINT \\\"Hello\\\"\n20 END\nRUN\" | python3 mbasic\n\n# Testing\npython3 mbasic test.bas &gt; output.txt\n\n# Debugging\npython3 mbasic --debug program.bas\n</code></pre></p> <p>Real-world use cases: - CI/CD pipelines - Automated testing - Batch processing - System administration - Learning classic BASIC - Minimal environments</p> <p>Unique advantages: - Fastest startup time - Lowest memory usage - Best for scripting - Command-line debugging (BREAK, STEP, STACK commands) - True to original MBASIC</p> <p>Limitations: - Line-by-line editing only - No visual debugging interface (debugging via text commands only) - No mouse support - No Save without filename</p> <p>Note: CLI has full debugging capabilities through text commands (BREAK, STEP, STACK, etc.), but lacks visual debugging features (Variables Window, clickable breakpoints, graphical interface) found in Curses, Tk, and Web UIs.</p>"},{"location":"user/CHOOSING_YOUR_UI/#curses-terminal-ui","title":"\ud83d\udcdf Curses (Terminal UI)","text":"<p>Choose Curses when you: - Work over SSH/remote terminal - Prefer keyboard-only navigation - Like terminal applications - Need a TUI without X11 - Want split-screen editing - Use tmux/screen</p> <p>Curses is perfect for: <pre><code># SSH sessions\nssh server\npython3 mbasic --ui curses\n\n# Terminal multiplexers\ntmux new\npython3 mbasic --ui curses\n\n# Console-only systems\n# (no GUI installed)\n</code></pre></p> <p>Real-world use cases: - Remote development - Server administration - Embedded systems - Low-bandwidth connections - Terminal enthusiasts - Retro computing feel</p> <p>Unique advantages: - Full IDE in terminal - Works over SSH - Keyboard shortcuts - Split-screen layout - Low bandwidth needs - No GUI dependencies</p> <p>Limitations: - Limited mouse support - Partial variable editing - No clipboard integration - Terminal color limits - No Find/Replace</p>"},{"location":"user/CHOOSING_YOUR_UI/#tk-desktop-gui","title":"\ud83e\ude9f Tk (Desktop GUI)","text":"<p>Choose Tk when you: - Want a full-featured IDE - Need Find/Replace - Prefer mouse interaction - Want visual debugging - Edit multiple files - Need all features</p> <p>Tk is perfect for: <pre><code># Desktop development\npython3 mbasic --ui tk\n\n# Teaching/presentations\n# (full visual interface)\n\n# Complex debugging\n# (visual breakpoints)\n</code></pre></p> <p>Real-world use cases: - Desktop development - Educational settings - Complex programs - Professional development - Documentation writing - Code demonstrations</p> <p>Unique advantages: - Most complete feature set - Find/Replace dialogs - Smart Insert mode - Native file dialogs - Full debugging UI - Recent files list - Mouse support - Web browser help</p> <p>Limitations: - Requires Tkinter - Desktop only - Larger resource usage - Not for remote access</p>"},{"location":"user/CHOOSING_YOUR_UI/#web-browser-based","title":"\ud83c\udf10 Web (Browser-based)","text":"<p>Choose Web when you: - Can't install software - Need to share programs - Teach/learn BASIC - Want modern UI - Use multiple devices - Need zero setup</p> <p>Web is perfect for: <pre><code># Start server\npython3 mbasic --ui web\n\n# Open browser\nhttp://localhost:8080\n\n# Share with others\n# (network accessible)\n</code></pre></p> <p>Real-world use cases: - Online tutorials - Classroom teaching - Quick demonstrations - Cross-platform access - Chromebook users - Tablet/mobile access</p> <p>Unique advantages: - No installation - Modern interface - Auto-save - Browser-based - Touch support - Theme options - Share via URL - Conditional breakpoints</p> <p>Limitations: - Needs web server - Browser storage only - No local file access - Session-based - Network dependency</p>"},{"location":"user/CHOOSING_YOUR_UI/#use-case-scenarios","title":"Use Case Scenarios","text":""},{"location":"user/CHOOSING_YOUR_UI/#scenario-1-teaching-a-class","title":"Scenario 1: Teaching a Class","text":"<p>Best choice: Web UI</p> <p>Why: - Students need no installation - Share code via URL - Works on any device - Modern, familiar interface</p> <p>Setup: <pre><code># Teacher's machine\npython3 mbasic --ui web --host 0.0.0.0\n\n# Students browse to teacher's IP\nhttp://teacher-ip:8080\n</code></pre></p>"},{"location":"user/CHOOSING_YOUR_UI/#scenario-2-remote-server-development","title":"Scenario 2: Remote Server Development","text":"<p>Best choice: Curses UI</p> <p>Why: - Works over SSH - Full IDE features - No X11 forwarding needed - Low bandwidth</p> <p>Setup: <pre><code>ssh myserver\ncd mbasic\npython3 mbasic --ui curses\n</code></pre></p>"},{"location":"user/CHOOSING_YOUR_UI/#scenario-3-automated-testing","title":"Scenario 3: Automated Testing","text":"<p>Best choice: CLI</p> <p>Why: - Scriptable - Fast execution - CI/CD friendly - Output capture</p> <p>Setup: <pre><code>#!/bin/bash\nfor test in tests/*.bas; do\n    python3 mbasic \"$test\" &gt; \"${test}.out\"\n    diff \"${test}.out\" \"${test}.expected\"\ndone\n</code></pre></p>"},{"location":"user/CHOOSING_YOUR_UI/#scenario-4-professional-development","title":"Scenario 4: Professional Development","text":"<p>Best choice: Tk UI</p> <p>Why: - Full IDE features - Find/Replace - Visual debugging - Best productivity</p> <p>Setup: <pre><code>python3 mbasic --ui tk\n# Or create desktop shortcut\n</code></pre></p>"},{"location":"user/CHOOSING_YOUR_UI/#scenario-5-quick-program-testing","title":"Scenario 5: Quick Program Testing","text":"<p>Best choice: CLI or Web</p> <p>CLI for speed: <pre><code>python3 mbasic test.bas\n</code></pre></p> <p>Web for convenience: <pre><code>python3 mbasic --ui web --open\n</code></pre></p>"},{"location":"user/CHOOSING_YOUR_UI/#performance-comparison","title":"Performance Comparison","text":"<p>Note: These measurements are approximate, taken on typical development hardware (modern CPU, 8GB+ RAM, Python 3.9+). Actual performance varies based on your system. Startup times are \"cold start\" measurements. Memory usage shown is Python process only; Web UI browser memory not included.</p>"},{"location":"user/CHOOSING_YOUR_UI/#startup-time","title":"Startup Time","text":"<ol> <li>CLI: ~0.1s (fastest)</li> <li>Curses: ~0.3s</li> <li>Tk: ~0.8s</li> <li>Web: ~2s (includes browser launch time)</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#memory-usage-approximate","title":"Memory Usage (approximate)","text":"<ol> <li>CLI: 20MB (lowest)</li> <li>Curses: 25MB</li> <li>Tk: 40MB</li> <li>Web: 50MB+ (Python process only; browser adds 100MB+)</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#large-file-handling","title":"Large File Handling","text":"<ol> <li>CLI: Best (streaming)</li> <li>Curses: Good</li> <li>Tk: Good</li> <li>Web: Limited (browser constraints)</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#execution-speed","title":"Execution Speed","text":"<p>All UIs use the same interpreter core, so execution speed is identical. Differences appear in: - UI responsiveness - Display updates - Input handling</p>"},{"location":"user/CHOOSING_YOUR_UI/#installation-requirements","title":"Installation Requirements","text":""},{"location":"user/CHOOSING_YOUR_UI/#cli","title":"CLI","text":"<pre><code># Just Python 3.8+\npython3 mbasic\n</code></pre>"},{"location":"user/CHOOSING_YOUR_UI/#curses","title":"Curses","text":"<pre><code># Requires urwid\npip install urwid\npython3 mbasic --ui curses\n</code></pre>"},{"location":"user/CHOOSING_YOUR_UI/#tk","title":"Tk","text":"<pre><code># Requires tkinter (usually pre-installed)\n# Ubuntu/Debian:\nsudo apt-get install python3-tk\npython3 mbasic --ui tk\n</code></pre>"},{"location":"user/CHOOSING_YOUR_UI/#web","title":"Web","text":"<pre><code># Requires nicegui\npip install nicegui\npython3 mbasic --ui web\n</code></pre>"},{"location":"user/CHOOSING_YOUR_UI/#migration-guide","title":"Migration Guide","text":""},{"location":"user/CHOOSING_YOUR_UI/#moving-from-cli-to-gui","title":"Moving from CLI to GUI","text":"<p>If you're comfortable with CLI but want GUI features:</p> <ol> <li>Start with Curses: Familiar commands, visual enhancement</li> <li>Try Tk next: Full GUI with familiar concepts</li> <li>Explore Web: Modern features, different paradigm</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#moving-from-gui-to-cli","title":"Moving from GUI to CLI","text":"<p>If you know Tk/Web but need CLI:</p> <ol> <li>Learn commands: LOAD, SAVE, RUN, LIST</li> <li>Master line editing: Edit by number</li> <li>Use HELP often: Built-in documentation</li> <li>Practice debugging: BREAK, STEP, STACK</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#your-programs-work-everywhere","title":"Your Programs Work Everywhere","text":"<p>Important: All UIs run the same MBASIC 5.21 interpreter. Your .bas files work identically in any UI.</p>"},{"location":"user/CHOOSING_YOUR_UI/#multi-ui-workflow","title":"Multi-UI Workflow","text":"<p>Many users combine UIs:</p>"},{"location":"user/CHOOSING_YOUR_UI/#development-workflow","title":"Development Workflow","text":"<ol> <li>Write in Tk (best editor)</li> <li>Debug in Tk or Web (visual)</li> <li>Test in CLI (automation)</li> <li>Deploy in CLI (production)</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#teaching-workflow","title":"Teaching Workflow","text":"<ol> <li>Prepare in Tk (full features)</li> <li>Present in Web (students access)</li> <li>Test in CLI (quick checks)</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#remote-workflow","title":"Remote Workflow","text":"<ol> <li>Develop locally in Tk</li> <li>Deploy remotely in CLI</li> <li>Debug remotely in Curses</li> </ol>"},{"location":"user/CHOOSING_YOUR_UI/#frequently-asked-questions","title":"Frequently Asked Questions","text":""},{"location":"user/CHOOSING_YOUR_UI/#can-i-use-multiple-uis-simultaneously","title":"Can I use multiple UIs simultaneously?","text":"<p>Yes! Run different UIs in separate terminals: <pre><code># Terminal 1\npython3 mbasic --ui tk\n\n# Terminal 2\npython3 mbasic --ui curses\n\n# Terminal 3\npython3 mbasic --ui web\n</code></pre></p>"},{"location":"user/CHOOSING_YOUR_UI/#which-ui-is-most-compatible-with-original-mbasic","title":"Which UI is most compatible with original MBASIC?","text":"<p>CLI is closest to original MBASIC-80. It maintains command compatibility and behavior.</p>"},{"location":"user/CHOOSING_YOUR_UI/#which-ui-is-best-for-beginners","title":"Which UI is best for beginners?","text":"<p>Web for absolute beginners (familiar interface) Tk for those comfortable installing software CLI for those learning classic BASIC</p>"},{"location":"user/CHOOSING_YOUR_UI/#can-i-switch-uis-mid-project","title":"Can I switch UIs mid-project?","text":"<p>Yes! Save your program and open in another UI: <pre><code># In CLI\nSAVE \"myprogram.bas\"\nSYSTEM\n\n# Switch to Tk\npython3 mbasic --ui tk\n# Then: File \u2192 Open \u2192 myprogram.bas\n</code></pre></p>"},{"location":"user/CHOOSING_YOUR_UI/#which-ui-gets-new-features-first","title":"Which UI gets new features first?","text":"<p>Features are typically added to: 1. Tk (most complete) 2. Web (modern features) 3. Curses (terminal features) 4. CLI (compatibility focused)</p>"},{"location":"user/CHOOSING_YOUR_UI/#decision-matrix","title":"Decision Matrix","text":"Factor CLI Curses Tk Web No dependencies \u2705 \u274c \u274c \u274c Remote access \u2705 \u2705 \u274c \u2705 Visual editing \u274c \u2705 \u2705 \u2705 Mouse support \u274c \u26a0\ufe0f Limited \u2705 \u2705 Find/Replace \u274c \u274c \u2705 \u274c Debugging \u2705 \u2705 \u2705 \u2705 Automation \u2705 \u274c \u274c \u274c Resource usage Low Low Med High Learning curve Med Low Low Low"},{"location":"user/CHOOSING_YOUR_UI/#conclusion","title":"Conclusion","text":"<p>There's no \"best\" UI\u2014only the best UI for your current task:</p> <ul> <li>CLI: When you need speed, scripting, or authenticity</li> <li>Curses: When you're in a terminal and want an IDE</li> <li>Tk: When you want all features on desktop</li> <li>Web: When you need accessibility and sharing</li> </ul> <p>Try them all and see what fits your workflow!</p>"},{"location":"user/CHOOSING_YOUR_UI/#getting-started","title":"Getting Started","text":"<pre><code># Try each UI for 5 minutes:\npython3 mbasic --ui cli\npython3 mbasic --ui curses\npython3 mbasic --ui tk\npython3 mbasic --ui web\n\n# Your favorite will become clear quickly!\n</code></pre>"},{"location":"user/CHOOSING_YOUR_UI/#more-information","title":"More Information","text":"<ul> <li>UI Feature Comparison - Detailed feature matrix</li> <li>Installation Guide - Setup instructions</li> <li>Individual UI documentation in <code>docs/help/ui/</code></li> </ul>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/","title":"File Format Compatibility","text":""},{"location":"user/FILE_FORMAT_COMPATIBILITY/#line-endings-newlines","title":"Line Endings (Newlines)","text":"<p>MBASIC saves all program files using LF line endings (Line Feed, <code>\\n</code>, Unix-style).</p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#what-this-means","title":"What This Means","text":"<ul> <li>Loading files: MBASIC automatically handles files with any line ending style:</li> <li>LF (<code>\\n</code>, Unix/Linux/Mac)</li> <li>CRLF (<code>\\r\\n</code>, Windows/CP/M)</li> <li> <p>CR (<code>\\r</code>, Classic Mac)</p> </li> <li> <p>Saving files: MBASIC always saves with LF line endings (<code>\\n</code>)</p> </li> </ul>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#why-unix-line-endings","title":"Why Unix Line Endings?","text":"<ul> <li>Cross-platform compatibility: Modern text editors on all platforms (Windows, Mac, Linux) handle LF correctly</li> <li>Modern Windows support: Windows Notepad (since Windows 10 1809), VS Code, Notepad++, and other editors all support LF</li> <li>Web UI consistency: Browser-based editing works the same on all operating systems</li> <li>Git-friendly: Standard for version control systems</li> </ul>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#using-files-with-cpm-emulators","title":"Using Files with CP/M Emulators","text":"<p>If you want to transfer saved BASIC files to a CP/M emulator (such as <code>tnylpo</code>), you may need to convert the line endings from LF (<code>\\n</code>) to CRLF (<code>\\r\\n</code>), as CP/M systems expect CRLF line endings.</p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#converting-to-cpm-format","title":"Converting to CP/M Format","text":"<p>On Linux/Mac: <pre><code># Convert LF to CRLF\nunix2dos yourfile.bas\n\n# Or using sed\nsed -i 's/$/\\r/' yourfile.bas\n\n# Or using Python\npython3 -c \"import sys; data=open('yourfile.bas','rb').read(); open('yourfile.bas','wb').write(data.replace(b'\\n',b'\\r\\n'))\"\n</code></pre></p> <p>On Windows (PowerShell): <pre><code># Using PowerShell to convert\n(Get-Content yourfile.bas) | Set-Content yourfile.bas\n</code></pre></p> <p>Using a utility script:</p> <p>MBASIC includes a utility script for CP/M conversion: <pre><code># Convert a file to CP/M format (CRLF line endings)\npython3 utils/convert_to_cpm.py yourfile.bas\n</code></pre></p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#assembly-source-files-mac","title":"Assembly Source Files (.mac)","text":"<p>Note: Assembly source files (<code>.mac</code>) in the <code>docs/history/original_mbasic_src/</code> directory retain their original CRLF line endings because they are intended for use with the CP/M M80 assembler, which requires CRLF format.</p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#character-encoding","title":"Character Encoding","text":"<p>MBASIC uses UTF-8 encoding for all files. However, when loading files:</p> <ul> <li>Parity bits are cleared: High bit (bit 7) is stripped from characters</li> <li>Control characters are filtered: Most control characters are removed (except CR, LF, TAB)</li> <li>CP/M EOF markers removed: Ctrl+Z (<code>\\x1a</code>) end-of-file markers are stripped</li> </ul> <p>This ensures compatibility with files created on vintage systems that may have used 7-bit ASCII with parity or included CP/M-specific markers.</p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#file-extensions","title":"File Extensions","text":"<p>MBASIC recognizes these file extensions:</p> <ul> <li><code>.bas</code> - Standard BASIC program files (recommended)</li> <li><code>.BAS</code> - Uppercase variant (also supported)</li> <li><code>.txt</code> - Plain text files containing BASIC code</li> </ul> <p>All are treated identically when loading.</p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#line-number-format","title":"Line Number Format","text":"<p>BASIC program lines must start with a line number (1-65535) followed by at least one space:</p> <pre><code>10 PRINT \"HELLO\"\n20 FOR I=1 TO 10\n30 PRINT I\n40 NEXT I\n</code></pre> <p>Lines without line numbers are ignored when loading files.</p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#compatibility-notes","title":"Compatibility Notes","text":""},{"location":"user/FILE_FORMAT_COMPATIBILITY/#from-real-mbasic-521","title":"From Real MBASIC 5.21","text":"<p>Files created with the original Microsoft MBASIC 5.21 (from CP/M systems) can be loaded directly. MBASIC will: - Convert CRLF line endings to LF automatically - Strip any CP/M EOF markers (<code>^Z</code>) - Clear parity bits if present</p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#to-real-mbasic-521","title":"To Real MBASIC 5.21","text":"<p>To transfer files TO a real MBASIC 5.21 system or CP/M emulator: 1. Save the file in MBASIC 2. Convert line endings to CRLF (see \"Converting to CP/M Format\" above) 3. Optionally add CP/M EOF marker: <code>echo -e '\\x1a' &gt;&gt; yourfile.bas</code></p>"},{"location":"user/FILE_FORMAT_COMPATIBILITY/#other-basic-dialects","title":"Other BASIC Dialects","text":"<p>MBASIC implements the Microsoft MBASIC 5.21 dialect. Files from other BASIC interpreters (GW-BASIC, QBASIC, etc.) may load but could have syntax differences. See the language documentation for specifics.</p>"},{"location":"user/INSTALL/","title":"Installation Guide","text":"<p>This guide will help you install and run the MBASIC 5.21 Interpreter on your computer.</p>"},{"location":"user/INSTALL/#prerequisites","title":"Prerequisites","text":"<p>You need Python 3.8 or later installed on your system.</p>"},{"location":"user/INSTALL/#check-if-python-is-installed","title":"Check if Python is installed","text":"<p>Open a terminal (Command Prompt on Windows, Terminal on Mac/Linux) and run:</p> <pre><code>python3 --version\n</code></pre> <p>If you see a version number like <code>Python 3.9.x</code> or higher, you're good to go! If not, download Python from python.org.</p> <p>Note: This guide uses <code>python3</code> in all examples. On some systems (especially Windows), Python 3 is available as <code>python</code> instead. If you get \"python3: command not found\", try using <code>python</code> instead. See the Troubleshooting section for details.</p>"},{"location":"user/INSTALL/#system-package-requirements-root-installation","title":"System Package Requirements (Root Installation)","text":"<p>On Debian/Ubuntu/Linux Mint systems, you need to install these packages via <code>apt</code> with <code>sudo</code>:</p>"},{"location":"user/INSTALL/#required-for-virtual-environments","title":"REQUIRED for Virtual Environments","text":"<p><pre><code>sudo apt install python3-venv\n# OR for specific Python version:\nsudo apt install python3.12-venv\n</code></pre> This is required to use virtual environments (recommended). Without this, the <code>python3 -m venv</code> command will fail.</p>"},{"location":"user/INSTALL/#optional-for-tkinter-gui-backend","title":"OPTIONAL for Tkinter GUI Backend","text":"<p><pre><code>sudo apt install python3-tk\n</code></pre> Only needed if you want to use the Tkinter GUI backend. Skip this if you only need CLI/Curses/Web UIs.</p> <p>On other systems (Fedora, macOS, Windows), virtual environment support and tkinter are usually included with Python.</p>"},{"location":"user/INSTALL/#python-package-dependencies","title":"Python Package Dependencies","text":"<p>MBASIC's Python dependencies depend on which UI mode you plan to use:</p> UI Mode External Dependencies CLI None (Python standard library only) Curses <code>urwid</code> (install via pip) Tk <code>tkinter</code> (system package, see above) Web <code>nicegui</code> (install via pip) <p>If you only want CLI mode, you can skip all pip dependency installation steps. Just run <code>python3 mbasic</code> and you're ready to go!</p> <p>For other UIs, use <code>pip install -r requirements.txt</code> to install the necessary dependencies.</p>"},{"location":"user/INSTALL/#installation-methods","title":"Installation Methods","text":""},{"location":"user/INSTALL/#method-1-using-virtual-environment-recommended","title":"Method 1: Using Virtual Environment (Recommended)","text":"<p>A virtual environment keeps this project's dependencies separate from your system Python. This is the recommended approach for Python projects.</p>"},{"location":"user/INSTALL/#step-1-download-the-project","title":"Step 1: Download the project","text":"<pre><code># Clone the repository (if using git)\ngit clone https://github.com/avwohl/mbasic.git\ncd mbasic\n\n# OR download and extract the ZIP file, then:\ncd mbasic\n</code></pre>"},{"location":"user/INSTALL/#step-2-create-a-virtual-environment","title":"Step 2: Create a virtual environment","text":"<p>On Linux/Mac: <pre><code>python3 -m venv venv\n</code></pre></p> <p>On Windows: <pre><code>python -m venv venv\n</code></pre></p> <p>This creates a new directory called <code>venv</code> containing an isolated Python environment.</p>"},{"location":"user/INSTALL/#step-3-activate-the-virtual-environment","title":"Step 3: Activate the virtual environment","text":"<p>On Linux/Mac: <pre><code>source venv/bin/activate\n</code></pre></p> <p>On Windows (Command Prompt): <pre><code>venv\\Scripts\\activate.bat\n</code></pre></p> <p>On Windows (PowerShell): <pre><code>venv\\Scripts\\Activate.ps1\n</code></pre></p> <p>You should see <code>(venv)</code> appear at the beginning of your command prompt, indicating the virtual environment is active.</p>"},{"location":"user/INSTALL/#step-4-install-dependencies","title":"Step 4: Install dependencies","text":"<pre><code>pip install -r requirements.txt\n</code></pre> <p>This installs optional dependencies for specific UIs: - CLI mode: No dependencies needed (Python standard library only) - Curses mode: Requires <code>urwid</code> for terminal UI - Tk mode: Requires <code>tkinter</code> (usually pre-installed with Python) - Web mode: Requires <code>nicegui</code> for browser-based UI</p> <p>If you only plan to use CLI mode, you can skip this step.</p>"},{"location":"user/INSTALL/#step-5-run-the-interpreter","title":"Step 5: Run the interpreter","text":"<pre><code>python3 mbasic\n</code></pre> <p>Or run a BASIC program:</p> <pre><code>python3 mbasic basic/bas_tests1/hello.bas\n</code></pre>"},{"location":"user/INSTALL/#deactivating-the-virtual-environment","title":"Deactivating the virtual environment","text":"<p>When you're done, you can deactivate the virtual environment:</p> <pre><code>deactivate\n</code></pre>"},{"location":"user/INSTALL/#method-2-direct-installation-simple","title":"Method 2: Direct Installation (Simple)","text":"<p>If you don't want to use a virtual environment, you can run the interpreter directly:</p> <pre><code># Navigate to the project directory\ncd mbasic\n\n# Run the interpreter (CLI mode - no dependencies required)\npython3 mbasic\n</code></pre> <p>Note: CLI mode uses only Python's standard library and requires no external dependencies. For other UIs (Curses, Tk, Web), you'll need to install their dependencies via <code>pip install -r requirements.txt</code>.</p>"},{"location":"user/INSTALL/#method-3-install-as-a-python-package","title":"Method 3: Install as a Python Package","text":"<p>For system-wide installation:</p> <pre><code>cd mbasic\npip install -e .\n</code></pre> <p>After this, you can run <code>mbasic</code> from anywhere on your system.</p>"},{"location":"user/INSTALL/#verifying-the-installation","title":"Verifying the Installation","text":""},{"location":"user/INSTALL/#test-interactive-mode","title":"Test Interactive Mode","text":"<p>Run the interpreter without arguments:</p> <pre><code>python3 mbasic\n</code></pre> <p>You should see:</p> <pre><code>MBASIC 5.21 Interpreter\nReady\n\nOk\n</code></pre> <p>Try entering:</p> <pre><code>PRINT \"Hello, World!\"\n</code></pre> <p>You should see the output immediately.</p>"},{"location":"user/INSTALL/#test-file-execution","title":"Test File Execution","text":"<p>Run one of the included test programs:</p> <pre><code>python3 mbasic basic/tests_with_results/test_operator_precedence.bas\n</code></pre> <p>You should see:</p> <pre><code>All 20 tests PASS\n</code></pre>"},{"location":"user/INSTALL/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user/INSTALL/#python3-command-not-found","title":"\"python3: command not found\"","text":"<p>On some systems, Python 3 is available as <code>python</code> instead of <code>python3</code>:</p> <pre><code>python --version\n</code></pre> <p>If this shows Python 3.8 or later, you can use <code>python</code> instead of <code>python3</code>:</p> <pre><code>python mbasic\n</code></pre>"},{"location":"user/INSTALL/#permission-denied-on-linuxmac","title":"Permission Denied on Linux/Mac","text":"<p>Make sure the script is executable:</p> <pre><code>chmod +x mbasic\n./mbasic\n</code></pre>"},{"location":"user/INSTALL/#virtual-environment-not-activating-on-windows","title":"Virtual Environment Not Activating on Windows","text":"<p>If you get an error about execution policies in PowerShell, you may need to allow scripts:</p> <pre><code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser\n</code></pre> <p>Then try activating again.</p>"},{"location":"user/INSTALL/#module-not-found-errors","title":"\"Module not found\" errors","text":"<p>Make sure you're in the correct directory (the <code>mbasic</code> folder containing <code>mbasic</code>).</p>"},{"location":"user/INSTALL/#ensurepip-is-not-available-when-creating-venv","title":"\"ensurepip is not available\" when creating venv","text":"<p>On Debian/Ubuntu/Linux Mint, if you get this error: <pre><code>The virtual environment was not created successfully because ensurepip is not available.\n</code></pre></p> <p>You need to install the <code>python3-venv</code> package: <pre><code>sudo apt install python3-venv\n# OR for specific Python version:\nsudo apt install python3.12-venv\n</code></pre></p> <p>This is a required system package for creating virtual environments on Debian-based systems.</p>"},{"location":"user/INSTALL/#feature-status","title":"Feature Status","text":"<p>This is a comprehensive implementation of MBASIC 5.21. All core language features and statements are implemented and tested, with some hardware-specific features emulated or adapted for modern systems.</p>"},{"location":"user/INSTALL/#what-works","title":"What Works","text":"<ul> <li>\u2713 Mathematical calculations and expressions</li> <li>\u2713 String processing and manipulation</li> <li>\u2713 Arrays and data structures</li> <li>\u2713 Control flow (IF/THEN/ELSE, FOR/NEXT, WHILE/WEND, GOTO, GOSUB, ON GOTO/GOSUB)</li> <li>\u2713 Console input/output (INPUT, PRINT, PRINT USING)</li> <li>\u2713 DATA/READ/RESTORE statements</li> <li>\u2713 User-defined functions (DEF FN)</li> <li>\u2713 Interactive mode commands (RUN, LIST, SAVE, LOAD, EDIT, DELETE, RENUM, CONT)</li> <li>\u2713 Settings system (SET, SHOW SETTINGS commands with global/project configuration files)</li> <li>\u2713 Sequential file I/O (OPEN, CLOSE, PRINT#, INPUT#, LINE INPUT#, WRITE#, EOF)</li> <li>\u2713 Random file I/O (FIELD, GET, PUT, LSET, RSET, LOC, LOF)</li> <li>\u2713 Binary file I/O (MKI/MKS/MKD$, CVI/CVS/CVD)</li> <li>\u2713 Error handling (ON ERROR GOTO/GOSUB, RESUME, ERL, ERR)</li> <li>\u2713 File system operations (KILL, NAME AS, RESET)</li> <li>\u2713 Non-blocking keyboard input (INKEY$)</li> <li>\u2713 Execution tracing (TRON/TROFF)</li> <li>\u2713 SWAP statement and MID$ assignment</li> </ul>"},{"location":"user/INSTALL/#what-doesnt-work","title":"What Doesn't Work","text":"<p>These are hardware-specific features that cannot work in a modern environment: - \u2717 Hardware access - PEEK/POKE for hardware memory access (PEEK returns random values for compatibility) - \u2717 I/O ports - INP/OUT for hardware ports - \u2717 Line printer - LPRINT, LLIST (dedicated printer output)</p> <p>These limitations are inherent to running vintage BASIC in a modern environment and do not affect most programs.</p> <p>For complete implementation status and compatibility notes, see PROJECT_STATUS.md</p>"},{"location":"user/INSTALL/#next-steps","title":"Next Steps","text":"<p>Once installed, check out:</p> <ul> <li>Project overview and quick start guide in the main README</li> <li>PROJECT_STATUS.md - Complete implementation status</li> <li>Additional documentation in the docs/ directory</li> <li>Example BASIC programs in the basic/ directory</li> </ul>"},{"location":"user/INSTALL/#getting-help","title":"Getting Help","text":"<p>If you encounter issues:</p> <ol> <li>Check that you're using Python 3.8 or later</li> <li>Make sure you're in the project directory</li> <li>Try running with <code>DEBUG=1</code> for more detailed error messages:    <pre><code>DEBUG=1 python3 mbasic yourprogram.bas\n</code></pre></li> </ol> <p>Happy BASIC programming!</p>"},{"location":"user/INSTALLATION/","title":"MBASIC Installation Guide","text":"<p>Note: This is a redirect file. For complete installation instructions, see INSTALL.md.</p> <p>This file exists for compatibility with different documentation linking conventions. All installation documentation has been consolidated in INSTALL.md.</p>"},{"location":"user/INSTALLATION/#quick-links","title":"Quick Links","text":"<ul> <li>Complete Installation Guide - Full step-by-step instructions</li> <li>Choosing Your UI - Select the right interface for your needs</li> <li>Quick Reference - Command reference for Curses UI</li> </ul>"},{"location":"user/QUICK_REFERENCE/","title":"MBASIC Curses IDE - Quick Reference Card","text":"<p>Note: This reference uses <code>{{kbd:command}}</code> notation for keyboard shortcuts (e.g., <code>{{kbd:run}}</code> is typically <code>^R</code> for Ctrl+R). Actual key mappings are configurable. To see your current key bindings, press the Help key or check <code>~/.mbasic/curses_keybindings.json</code> for the full list of default and customized keys.</p>"},{"location":"user/QUICK_REFERENCE/#starting-the-ide","title":"Starting the IDE","text":"<pre><code>python3 mbasic --ui curses [filename.bas]\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#editor-commands","title":"Editor Commands","text":"Key Command Description <code>{{kbd:new}}</code> New Clear program, start fresh <code>{{kbd:open}}</code> Load Load program from file <code>{{kbd:save}}</code> Save Save program to file <code>{{kbd:quit}}</code> Quit Exit IDE <code>{{kbd:help}}</code> Help Open help browser <code>ESC</code> Menu Open/close menu bar Arrow Keys Navigate Move cursor in editor"},{"location":"user/QUICK_REFERENCE/#running-programs","title":"Running Programs","text":"Key Command Description <code>{{kbd:run}}</code> Run Execute current program"},{"location":"user/QUICK_REFERENCE/#breakpoint-debugging","title":"Breakpoint Debugging","text":""},{"location":"user/QUICK_REFERENCE/#setting-breakpoints","title":"Setting Breakpoints","text":"Key Command Description <code>b</code> or <code>F9</code> Toggle Set/clear breakpoint on current line <p>Visual indicator: <code>\u25cf</code> appears next to line number</p>"},{"location":"user/QUICK_REFERENCE/#at-a-breakpoint","title":"At a Breakpoint","text":"<p>Status shows: <code>BREAKPOINT at line XX - Press 'c' continue, 's' step, 'e' end</code></p> Key Command What Happens <code>c</code> or <code>C</code> Continue Run until next breakpoint or end <code>s</code> or <code>S</code> Step Execute one line, stop at next <code>e</code> or <code>E</code> End Stop execution immediately <code>ESC</code> End Stop execution immediately"},{"location":"user/QUICK_REFERENCE/#screen-layout","title":"Screen Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Menu Bar (ESC to activate)               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  Editor Window (70%)                     \u2502\n\u2502  - Edit your BASIC program here          \u2502\n\u2502  - \u25cf markers show breakpoints            \u2502\n\u2502                                          \u2502\n\u2502                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                          \u2502\n\u2502  Output Window (30%)                     \u2502\n\u2502  - Shows program output                  \u2502\n\u2502  - Shows errors                          \u2502\n\u2502                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#typical-workflows","title":"Typical Workflows","text":""},{"location":"user/QUICK_REFERENCE/#1-write-and-run","title":"1. Write and Run","text":"<pre><code>1. Type program in editor\n2. {{kbd:run}} to run\n3. Check output window\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#2-debug-with-breakpoints","title":"2. Debug with Breakpoints","text":"<pre><code>1. Set breakpoints on key lines (press 'b')\n2. {{kbd:run}} to run\n3. At each breakpoint:\n   - Press 'c' to continue to next breakpoint\n   - Press 's' to step through line-by-line\n   - Press 'e' to stop\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#3-load-edit-save","title":"3. Load, Edit, Save","text":"<pre><code>1. {{kbd:open}} to load existing .bas file\n2. Edit in editor window\n3. {{kbd:run}} to test\n4. {{kbd:save}} to save changes\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#help-system","title":"Help System","text":"Key Where What <code>{{kbd:help}}</code> Anywhere Open help browser Arrow Keys In help Scroll up/down <code>Space</code> In help Page down <code>B</code> In help Page up <code>Enter</code> In help Follow link <code>U</code> In help Go back/up <code>Q</code> or <code>ESC</code> In help Exit help"},{"location":"user/QUICK_REFERENCE/#help-topics","title":"Help Topics","text":"<ul> <li>Keyboard Shortcuts</li> <li>BASIC Language Reference</li> <li>Examples</li> </ul>"},{"location":"user/QUICK_REFERENCE/#debugging-strategy-guide","title":"Debugging Strategy Guide","text":""},{"location":"user/QUICK_REFERENCE/#quick-testing-no-breakpoints","title":"Quick Testing (No Breakpoints)","text":"<pre><code>{{kbd:run}} \u2192 Watch output \u2192 Done\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#checkpoint-debugging","title":"Checkpoint Debugging","text":"<pre><code>Set breakpoints at phase boundaries\n\u2193\n{{kbd:run}} to start\n\u2193\nPress 'c' at each breakpoint to jump to next phase\n\u2193\nVerify output at each checkpoint\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#detailed-investigation","title":"Detailed Investigation","text":"<pre><code>Set breakpoint before problem area\n\u2193\n{{kbd:run}} to start\n\u2193\nPress 'c' to get to breakpoint\n\u2193\nPress 's' to step through suspect code\n\u2193\nPress 'e' when done\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#loop-analysis","title":"Loop Analysis","text":"<pre><code>Set breakpoint at loop start\n\u2193\n{{kbd:run}} to start\n\u2193\nPress 's' to watch first few iterations\n\u2193\nPress 'c' to let rest complete\n</code></pre>"},{"location":"user/QUICK_REFERENCE/#tips","title":"Tips","text":"<p>\u2713 Multiple breakpoints: Set as many as you need \u2713 Toggle freely: Press 'b' to add/remove anytime (before running) \u2713 Continue is your friend: Use 'c' to skip over working code \u2713 Step when uncertain: Use 's' only in problem areas \u2713 Watch the output: Output window updates as program runs \u2713 Use help: Press {{kbd:help}} anytime for full documentation</p>"},{"location":"user/QUICK_REFERENCE/#common-issues","title":"Common Issues","text":"<p>Problem: Breakpoint not stopping - Solution: Make sure \u25cf is visible next to line number</p> <p>Problem: Can't type in editor - Solution: Press ESC to exit menu mode</p> <p>Problem: Output not visible - Solution: Output window is at bottom; scroll if needed</p> <p>Problem: Pressed 's', now every line stops - Solution: Press 'c' to exit step mode</p>"},{"location":"user/QUICK_REFERENCE/#examples","title":"Examples","text":"<p>See example programs in the <code>basic/</code> directory of the MBASIC installation.</p>"},{"location":"user/QUICK_REFERENCE/#more-information","title":"More Information","text":"<ul> <li>Press {{kbd:help}} within the Curses UI to access the built-in help system</li> <li>See <code>docs/help/</code> directory for full help documentation</li> <li>Visit CHOOSING_YOUR_UI.md for UI comparison and selection guide</li> </ul> <p>Pro Tip: Start every debugging session with strategic breakpoints, then use 'c' to jump between them. Only switch to 's' (step) when you find something interesting!</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/","title":"Settings and Configuration","text":"<p>Status: The settings system is implemented and available in all UIs. Core commands (SET, SHOW SETTINGS, HELP SET) work as documented. Settings files are automatically created in ~/.mbasic/settings.json (Linux/Mac) or %APPDATA%/mbasic/settings.json (Windows). Note: Some individual settings are still planned (see status notes for each setting).</p> <p>MBASIC includes a comprehensive settings system that allows you to customize its behavior. Settings can be configured globally, per-project, or per-file.</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#quick-start","title":"Quick Start","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#view-all-settings","title":"View All Settings","text":"<pre><code>SHOW SETTINGS\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#change-a-setting","title":"Change a Setting","text":"<p>Using SET command (in BASIC): <pre><code>SET \"variables.case_conflict\" \"error\"\nSET \"editor.auto_number\" true\n</code></pre></p> <p>Using JSON file (in settings.json): <pre><code>{\n  \"variables.case_conflict\": \"error\",\n  \"editor.auto_number\": true\n}\n</code></pre></p> <p>Note: Both methods are equivalent. SET commands affect the current session; JSON files persist across sessions.</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#get-help-on-a-setting","title":"Get Help on a Setting","text":"<pre><code>HELP SET \"variables.case_conflict\"\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#settings-scope","title":"Settings Scope","text":"<p>Settings are applied in this order (most specific wins):</p> <ol> <li>File scope - Per-file settings (future feature)</li> <li>Project scope - <code>.mbasic/settings.json</code> in project directory</li> <li>Global scope - <code>~/.mbasic/settings.json</code> in home directory</li> <li>Default - Built-in defaults</li> </ol>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#global-settings-file","title":"Global Settings File","text":"<p>Location: - Linux/Mac: <code>~/.mbasic/settings.json</code> - Windows: <code>%APPDATA%/mbasic/settings.json</code> (typically <code>C:\\Users\\YourName\\AppData\\Roaming\\mbasic\\settings.json</code>)</p> <p>Example: <pre><code>{\n  \"variables.case_conflict\": \"first_wins\",\n  \"editor.auto_number\": true,\n  \"ui.theme\": \"dark\"\n}\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#project-settings-file","title":"Project Settings File","text":"<p>Location: <code>.mbasic/settings.json</code> (in your project directory)</p> <p>Use for project-specific preferences: <pre><code>{\n  \"variables.case_conflict\": \"error\",\n  \"editor.auto_number_step\": 5\n}\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#variable-settings","title":"Variable Settings","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#variablescase_conflict","title":"variables.case_conflict","text":"<p>Controls: How to handle variable name case variations</p> <p>Type: Choice (enum)</p> <p>Default: <code>\"first_wins\"</code></p> <p>Options: - <code>\"first_wins\"</code> - First usage sets the case (silent) - <code>\"error\"</code> - Flag conflicts as errors requiring user intervention - <code>\"prefer_upper\"</code> - Choose version with most uppercase letters - <code>\"prefer_lower\"</code> - Choose version with most lowercase letters - <code>\"prefer_mixed\"</code> - Prefer mixed case (camelCase/PascalCase)</p> <p>Examples:</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#first_wins-default","title":"first_wins (default)","text":"<p><pre><code>10 TargetAngle = 45\n20 targetangle = 90  ' Uses \"TargetAngle\" (first case)\n30 PRINT TargetAngle  ' Displays as \"TargetAngle\" everywhere\n</code></pre> Variable window shows: <code>TargetAngle = 90</code></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#error","title":"error","text":"<p><pre><code>SET \"variables.case_conflict\" \"error\"\n10 TargetAngle = 45\n20 targetangle = 90  ' ERROR: Variable name case conflict\n</code></pre> Program stops with error message showing line numbers.</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#prefer_upper","title":"prefer_upper","text":"<p><pre><code>SET \"variables.case_conflict\" \"prefer_upper\"\n10 TargetAngle = 45  ' 1 uppercase letter\n20 targetangle = 90  ' 0 uppercase letters\n30 TARGETANGLE = 100  ' 11 uppercase letters (wins)\n</code></pre> Variable window shows: <code>TARGETANGLE = 100</code></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#prefer_lower","title":"prefer_lower","text":"<p><pre><code>SET \"variables.case_conflict\" \"prefer_lower\"\n10 COUNTER = 10  ' 7 uppercase letters\n20 counter = 20  ' 7 lowercase letters (wins)\n30 Counter = 30  ' Mixed case\n</code></pre> Variable window shows: <code>counter = 30</code></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#prefer_mixed","title":"prefer_mixed","text":"<p><pre><code>SET \"variables.case_conflict\" \"prefer_mixed\"\n10 myvar = 10      ' All lowercase\n20 MYVAR = 20      ' All uppercase\n30 MyVar = 30      ' Mixed case (wins)\n</code></pre> Variable window shows: <code>MyVar = 30</code></p> <p>Use Cases: - first_wins: Default, least surprising for most users - error: Team projects requiring consistent naming - prefer_upper: Classic BASIC style (all caps) - prefer_lower: Modern Python/C style - prefer_mixed: Modern camelCase/PascalCase style</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#variablesshow_types_in_window","title":"variables.show_types_in_window","text":"<p>Controls: Show type suffixes ($, %, !, #) in variable window</p> <p>Type: Boolean</p> <p>Default: <code>true</code></p> <p>Example: <pre><code>' With show_types_in_window = true\nVariable window shows: Counter%, Message$, Value!\n\n' With show_types_in_window = false\nVariable window shows: Counter, Message, Value\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#editor-settings","title":"Editor Settings","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#editorauto_number","title":"editor.auto_number","text":"<p>Controls: Automatically number typed lines</p> <p>Type: Boolean</p> <p>Default: <code>true</code></p> <p>When enabled: <pre><code>' You type (without line number):\nPRINT \"Hello\"\n\n' MBASIC adds:\n10 PRINT \"Hello\"\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#editorauto_number_step","title":"editor.auto_number_step","text":"<p>Controls: Line number increment for auto-numbering</p> <p>Type: Integer (1-1000)</p> <p>Default: <code>10</code></p> <p>Example: <pre><code>SET \"editor.auto_number_step\" 5\n\n' Lines numbered: 5, 10, 15, 20, ...\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#editortab_size","title":"editor.tab_size","text":"<p>Controls: Tab width in spaces</p> <p>Type: Integer (1-16)</p> <p>Default: <code>4</code></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#editorshow_line_numbers","title":"editor.show_line_numbers","text":"<p>Controls: Display line numbers in editor</p> <p>Type: Boolean</p> <p>Default: <code>true</code></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#interpreter-settings","title":"Interpreter Settings","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#interpreterstrict_mode","title":"interpreter.strict_mode","text":"<p>Status: \ud83d\udd27 PLANNED - Not yet implemented</p> <p>Controls: Enable strict error checking</p> <p>Type: Boolean</p> <p>Default: <code>false</code></p> <p>When enabled (future): - Additional error checks - Undefined variable warnings - Type mismatch warnings</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#interpretermax_execution_time","title":"interpreter.max_execution_time","text":"<p>Controls: Maximum program execution time in seconds</p> <p>Type: Integer (1-3600)</p> <p>Default: <code>30</code></p> <p>Example: <pre><code>SET \"interpreter.max_execution_time\" 60\n' Program will stop after 60 seconds\n</code></pre></p> <p>Set to <code>0</code> for unlimited execution time (use with caution).</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#interpreterdebug_mode","title":"interpreter.debug_mode","text":"<p>Status: \ud83d\udd27 PLANNED - Not yet implemented</p> <p>Controls: Enable debug output</p> <p>Type: Boolean</p> <p>Default: <code>false</code></p> <p>When enabled (future): - Detailed execution traces - Variable access tracking - Performance metrics</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#ui-settings","title":"UI Settings","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#uitheme","title":"ui.theme","text":"<p>Status: \ud83d\udd27 PLANNED - Not yet implemented</p> <p>Controls: Color theme for UI</p> <p>Type: Choice (enum)</p> <p>Default: <code>\"default\"</code></p> <p>Options (future): - <code>\"default\"</code> - Standard theme - <code>\"dark\"</code> - Dark background - <code>\"light\"</code> - Light background - <code>\"classic\"</code> - Retro BASIC terminal style</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#uifont_size","title":"ui.font_size","text":"<p>Status: \ud83d\udd27 PLANNED - Not yet implemented</p> <p>Controls: UI font size in points</p> <p>Type: Integer (8-32)</p> <p>Default: <code>12</code></p> <p>Example (when implemented): <pre><code>SET \"ui.font_size\" 14\n' Increases font size for better readability\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#command-reference","title":"Command Reference","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#set-command","title":"SET Command","text":"<p>Syntax: <pre><code>SET \"setting.name\" value\n</code></pre></p> <p>Examples: <pre><code>SET \"variables.case_conflict\" \"error\"\nSET \"editor.auto_number_step\" 5\nSET \"ui.theme\" \"dark\"\nSET \"editor.show_line_numbers\" true\n</code></pre></p> <p>Type Conversion: - Strings: <code>\"value\"</code> (with quotes) - Numbers: <code>5</code> (without quotes) - Booleans: <code>true</code> or <code>false</code> (lowercase, no quotes in both commands and JSON files)</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#show-settings-command","title":"SHOW SETTINGS Command","text":"<p>Syntax: <pre><code>SHOW SETTINGS               ' Show all settings\nSHOW SETTINGS \"pattern\"     ' Show matching settings\n</code></pre></p> <p>Examples: <pre><code>SHOW SETTINGS\n' Displays all settings with current values\n\nSHOW SETTINGS \"editor\"\n' Shows only editor.* settings\n\nSHOW SETTINGS \"case\"\n' Shows settings containing \"case\" in name\n</code></pre></p> <p>Output Format: <pre><code>Category: Variables\n  variables.case_conflict = first_wins (default)\n  variables.show_types_in_window = true\n\nCategory: Editor\n  editor.auto_number = true\n  ...\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#help-set-command","title":"HELP SET Command","text":"<p>Syntax: <pre><code>HELP SET \"setting.name\"\n</code></pre></p> <p>Example: <pre><code>HELP SET \"variables.case_conflict\"\n\n' Output:\n' Setting: variables.case_conflict\n' Type: enum\n' Default: first_wins\n' Choices: first_wins, error, prefer_upper, prefer_lower, prefer_mixed\n'\n' Description:\n' Controls what happens when the same variable appears with different cases.\n' ...\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#common-workflows","title":"Common Workflows","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#team-project-with-consistent-naming","title":"Team Project with Consistent Naming","text":"<pre><code>' In project .mbasic/settings.json:\n{\n  \"variables.case_conflict\": \"error\",\n  \"editor.auto_number_step\": 5\n}\n\n' Now all team members must use consistent case\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#classic-basic-style-all-caps","title":"Classic BASIC Style (All Caps)","text":"<pre><code>SET \"variables.case_conflict\" \"prefer_upper\"\nSET \"ui.theme\" \"classic\"\n\n' Variables display in uppercase like vintage BASIC\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#modern-python-like-style","title":"Modern Python-like Style","text":"<pre><code>SET \"variables.case_conflict\" \"prefer_lower\"\nSET \"ui.theme\" \"dark\"\n\n' Variables display in lowercase like modern languages\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#debugging-session","title":"Debugging Session","text":"<pre><code>SET \"interpreter.debug_mode\" true\nSET \"interpreter.max_execution_time\" 300\nRUN\n\n' See detailed execution traces\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#case-conflict-scenarios","title":"Case Conflict Scenarios","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#scenario-1-accidental-typos","title":"Scenario 1: Accidental Typos","text":"<p>Without error checking: <pre><code>' Default: first_wins\n10 TotalCount = 0\n20 FOR I = 1 TO 10\n30   TotalCont = TotalCont + I  ' Typo! Different variable\n40 NEXT I\n50 PRINT TotalCount  ' Prints 0 (bug!)\n</code></pre></p> <p>With error checking: <pre><code>SET \"variables.case_conflict\" \"error\"\n10 TotalCount = 0\n20 FOR I = 1 TO 10\n30   TotalCont = TotalCont + I\n40 NEXT I\n\n' ERROR at line 30: Variable name case conflict:\n' \"TotalCont\" vs \"TotalCount\" at line 10\n' Bug caught immediately!\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#scenario-2-merging-code","title":"Scenario 2: Merging Code","text":"<p>Problem: <pre><code>' Program 1 uses:\nPlayerScore = 100\n\n' Program 2 uses:\nplayerscore = 200\n\n' After MERGE:\n10 PlayerScore = 100\n20 playerscore = 200  ' Same variable, different case\n</code></pre></p> <p>Solution: <pre><code>SET \"variables.case_conflict\" \"first_wins\"\n' Uses \"PlayerScore\" everywhere\n\n' OR\nSET \"variables.case_conflict\" \"error\"\n' Forces you to fix the conflict\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#scenario-3-code-style-enforcement","title":"Scenario 3: Code Style Enforcement","text":"<p>Team wants camelCase: <pre><code>SET \"variables.case_conflict\" \"prefer_mixed\"\n\n' Team members use different cases:\n10 targetangle = 45   ' All lowercase\n20 TARGETANGLE = 90   ' All uppercase\n30 TargetAngle = 100  ' Mixed case (camelCase)\n\n' Variable window shows: TargetAngle\n' Enforces team's camelCase style\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#tips-and-best-practices","title":"Tips and Best Practices","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#1-use-error-mode-for-team-projects","title":"1. Use error Mode for Team Projects","text":"<p>Prevents accidental case variations across team members.</p> <pre><code>' In project .mbasic/settings.json:\n{\n  \"variables.case_conflict\": \"error\"\n}\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#2-use-first_wins-for-personal-projects","title":"2. Use first_wins for Personal Projects","text":"<p>Least surprising behavior, lets you code freely.</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#3-check-variable-window","title":"3. Check Variable Window","text":"<p>The Variables &amp; Resources window ({{kbd:toggle_variables}} in TK UI) shows the canonical case being used.</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#4-document-your-choice","title":"4. Document Your Choice","text":"<p>Add a comment at the top of programs: <pre><code>10 REM Case policy: first_wins\n20 REM Use consistent case for readability\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#5-test-after-changing-policies","title":"5. Test After Changing Policies","text":"<pre><code>SET \"variables.case_conflict\" \"error\"\nRUN\n\n' Fix any conflicts found\n' Then set back to first_wins if desired\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#case-conflict-error-what-to-do","title":"\"Case conflict error\" - What to do?","text":"<p>Error message: <pre><code>Variable name case conflict: 'TargetAngle' at line 10 vs 'targetangle' at line 20\n</code></pre></p> <p>Solutions: 1. Fix the code to use consistent case 2. Change policy: <code>SET \"variables.case_conflict\" \"first_wins\"</code> 3. Choose a policy that picks one: <code>\"prefer_upper\"</code>, <code>\"prefer_lower\"</code>, etc.</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#settings-not-persisting","title":"Settings not persisting?","text":"<p>Check that you're editing the right file: - Global (Linux/Mac): <code>~/.mbasic/settings.json</code> - Global (Windows): <code>%APPDATA%/mbasic/settings.json</code> - Project: <code>.mbasic/settings.json</code> (create directory if needed)</p> <p>Settings in files persist across sessions. Settings via <code>SET</code> command only affect current session.</p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#which-setting-is-being-used","title":"Which setting is being used?","text":"<pre><code>SHOW SETTINGS \"variables.case_conflict\"\n\n' Output shows:\n' variables.case_conflict = error (project)\n'                          ^^^^^^^ shows scope\n</code></pre> <p>Possible scopes: <code>(default)</code>, <code>(global)</code>, <code>(project)</code>, <code>(file)</code></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#advanced-usage","title":"Advanced Usage","text":""},{"location":"user/SETTINGS_AND_CONFIGURATION/#create-project-settings-directory","title":"Create Project Settings Directory","text":"<pre><code>mkdir -p .mbasic\ncat &gt; .mbasic/settings.json &lt;&lt; 'EOF'\n{\n  \"variables.case_conflict\": \"error\",\n  \"editor.auto_number_step\": 5,\n  \"ui.theme\": \"dark\"\n}\nEOF\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#backup-global-settings","title":"Backup Global Settings","text":"<pre><code>cp ~/.mbasic/settings.json ~/.mbasic/settings.json.backup\n</code></pre>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#reset-to-defaults","title":"Reset to Defaults","text":"<p>Delete settings files and MBASIC will use built-in defaults: <pre><code>rm ~/.mbasic/settings.json\nrm .mbasic/settings.json\n</code></pre></p>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#related-documentation","title":"Related Documentation","text":"<ul> <li>Quick Reference: <code>docs/user/QUICK_REFERENCE.md</code></li> <li>TK UI Guide: <code>docs/user/TK_UI_QUICK_START.md</code></li> <li>Developer Notes: <code>docs/dev/WORK_IN_PROGRESS.md</code></li> </ul>"},{"location":"user/SETTINGS_AND_CONFIGURATION/#future-settings-planned","title":"Future Settings (Planned)","text":"<p>The following settings are designed but not yet implemented:</p> <ul> <li><code>keywords.case_style</code> - Keyword case handling (PRINT vs print)</li> <li><code>spacing.operator_style</code> - Spacing around operators</li> <li><code>spacing.comma_style</code> - Spacing after commas</li> <li><code>merge.case_conflict_behavior</code> - How MERGE handles conflicts</li> </ul> <p>See <code>docs/dev/KEYWORD_CASE_HANDLING_TODO.md</code> for details on upcoming features.</p>"},{"location":"user/TK_UI_QUICK_START/","title":"MBASIC Tk UI - Quick Start Guide","text":"<p>Note: This guide uses <code>{{kbd:command}}</code> notation for keyboard shortcuts. Actual key mappings shown in the Help menu (Help \u2192 Keyboard Shortcuts) or in the Tk UI documentation.</p>"},{"location":"user/TK_UI_QUICK_START/#starting-the-tk-ui","title":"Starting the Tk UI","text":"<pre><code>python3 mbasic --ui tk [filename.bas]\n</code></pre> <p>Or simply: <pre><code>python3 mbasic [filename.bas]\n</code></pre></p> <p>The Tk UI is the default graphical interface for MBASIC.</p>"},{"location":"user/TK_UI_QUICK_START/#first-program-hello-world","title":"First Program - Hello World","text":"<ol> <li>Start the Tk UI: <code>python3 mbasic --ui tk</code></li> <li>In the editor window, type:    <pre><code>10 PRINT \"HELLO, WORLD!\"\n20 END\n</code></pre></li> <li>Press {{kbd:run_program}} to run</li> <li>See output in the lower pane</li> </ol>"},{"location":"user/TK_UI_QUICK_START/#essential-keyboard-shortcuts","title":"Essential Keyboard Shortcuts","text":"Shortcut Action {{kbd:run_program}} Run program {{kbd:file_save}} Save file {{kbd:file_open}} Open file {{kbd:file_new}} New program {{kbd:smart_insert}} Smart insert blank line {{kbd:renumber}} Renumber program {{kbd:toggle_variables}} Show/hide Variables Window {{kbd:toggle_stack}} Show/hide Execution Stack Window {{kbd:toggle_breakpoint}} Toggle breakpoint {{kbd:replace}} Find and replace (Tk UI only) <p>Note: Step, Continue, and Stop are available via toolbar buttons or the Run menu (no keyboard shortcuts).</p>"},{"location":"user/TK_UI_QUICK_START/#screen-layout","title":"Screen Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Menu Bar                                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Line #  \u2502  Editor Window                           \u2502\n\u2502  Gutter \u2502  - Write your BASIC program here         \u2502\n\u2502         \u2502  - Line numbers on left                  \u2502\n\u2502  10     \u2502  - Syntax errors marked with ?           \u2502\n\u2502  20  \u25cf  \u2502  - Breakpoints marked with \u25cf             \u2502\n\u2502  30  ?  \u2502                                           \u2502\n\u2502         \u2502                                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Output Window                                      \u2502\n\u2502 - Program output appears here                      \u2502\n\u2502 - Error messages shown here                        \u2502\n\u2502 - Execution status displayed                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"user/TK_UI_QUICK_START/#smart-insert-workflow","title":"Smart Insert Workflow","text":"<p>Smart Insert ({{kbd:smart_insert}}) is the fastest way to add code between existing lines. No more mental math to figure out line numbers!</p>"},{"location":"user/TK_UI_QUICK_START/#example-1-basic-usage","title":"Example 1: Basic Usage","text":"<p>You have this program: <pre><code>10 PRINT \"START\"\n20 PRINT \"END\"\n</code></pre></p> <p>Want to add a line between them?</p> <ol> <li>Click on line 10 (or position cursor anywhere on that line)</li> <li>Press {{kbd:smart_insert}}</li> <li>A blank line 15 is automatically inserted!</li> </ol> <p>Result: <pre><code>10 PRINT \"START\"\n15\n20 PRINT \"END\"\n</code></pre></p> <p>The cursor is positioned right after the line number, ready to type.</p>"},{"location":"user/TK_UI_QUICK_START/#example-2-no-gap-auto-renumber","title":"Example 2: No Gap - Auto Renumber","text":"<p>You have consecutive lines: <pre><code>10 PRINT \"ONE\"\n11 PRINT \"TWO\"\n12 PRINT \"THREE\"\n</code></pre></p> <p>Position cursor on line 10, press {{kbd:smart_insert}}:</p> <p>A dialog appears: \"No room between lines 10 and 11. Would you like to renumber the program to make room?\"</p> <p>Click Yes \u2192 Lines 11 onwards are renumbered to 1000, 1010, 1020... creating plenty of room!</p> <p>Result: <pre><code>10 PRINT \"ONE\"\n15\n1000 PRINT \"TWO\"\n1010 PRINT \"THREE\"\n</code></pre></p>"},{"location":"user/TK_UI_QUICK_START/#example-3-at-end-of-program","title":"Example 3: At End of Program","text":"<p>You have: <pre><code>10 PRINT \"START\"\n20 PRINT \"MIDDLE\"\n30 PRINT \"END\"\n</code></pre></p> <p>Cursor on line 30, press {{kbd:smart_insert}}:</p> <p>A blank line 40 is inserted (using standard increment of 10).</p> <p>Result: <pre><code>10 PRINT \"START\"\n20 PRINT \"MIDDLE\"\n30 PRINT \"END\"\n40\n</code></pre></p>"},{"location":"user/TK_UI_QUICK_START/#smart-insert-vs-manual-numbering","title":"Smart Insert vs Manual Numbering","text":"<p>Old way (manual): <pre><code>1. Look at line 10 and line 20\n2. Calculate: (10 + 20) / 2 = 15\n3. Type: \"15 PRINT ...\"\n</code></pre></p> <p>New way (Smart Insert): <pre><code>1. Position on line 10\n2. Press {{kbd:smart_insert}}\n3. Start typing your code\n</code></pre></p> <p>Time saved: ~5-10 seconds per line insertion. Over a programming session, this adds up!</p>"},{"location":"user/TK_UI_QUICK_START/#typical-workflows","title":"Typical Workflows","text":""},{"location":"user/TK_UI_QUICK_START/#1-write-new-program","title":"1. Write New Program","text":"<pre><code>1. Press {{kbd:file_new}} for new program\n2. Type first line: 10 PRINT \"START\"\n3. Press Enter\n4. Type next line: 20 END\n5. Press {{kbd:run_program}} to run\n6. Check output in lower pane\n7. Press {{kbd:file_save}} to save\n</code></pre>"},{"location":"user/TK_UI_QUICK_START/#2-expand-existing-program","title":"2. Expand Existing Program","text":"<p>You have a working program and need to add functionality:</p> <pre><code>1. Find the spot where new code goes\n2. Press {{kbd:smart_insert}} to insert blank line\n3. Type your new code\n4. Press {{kbd:run_program}} to test\n5. Press {{kbd:file_save}} to save\n</code></pre> <p>Example: <pre><code>Before:\n10 INPUT \"Enter number\"; N\n20 PRINT \"You entered\"; N\n30 END\n\nAfter (cursor on 10, {{kbd:smart_insert}} twice):\n10 INPUT \"Enter number\"; N\n15 IF N &lt; 0 THEN PRINT \"Must be positive\" : GOTO 10\n17 ' Validate input\n20 PRINT \"You entered\"; N\n30 END\n</code></pre></p>"},{"location":"user/TK_UI_QUICK_START/#3-major-restructuring-use-renumber","title":"3. Major Restructuring - Use Renumber","text":"<p>Your program has grown and line numbers are a mess:</p> <pre><code>1. Press {{kbd:renumber}} (Renumber dialog opens)\n2. Set \"Start at\": 100\n3. Set \"Increment\": 10\n4. Click \"Renumber\"\n5. All line numbers and GOTO/GOSUB references updated!\n</code></pre> <p>Before renumber: <pre><code>10 X=1\n15 Y=2\n17 GOTO 10\n21 END\n</code></pre></p> <p>After renumber (start=100, increment=10): <pre><code>100 X=1\n110 Y=2\n120 GOTO 100\n130 END\n</code></pre></p> <p>Notice: GOTO 10 automatically became GOTO 100!</p>"},{"location":"user/TK_UI_QUICK_START/#4-debug-with-breakpoints-and-variables","title":"4. Debug with Breakpoints and Variables","text":"<pre><code>1. Click line number gutter to set breakpoint (\u25cf appears)\n2. Press {{kbd:toggle_variables}} to open Variables Window\n3. Press {{kbd:run_program}} to run\n4. Program stops at breakpoint\n5. Check variable values in Variables Window\n6. Click \"Step\" toolbar button to step through code one statement at a time\n7. Watch variables update in real-time\n8. Click \"Cont\" toolbar button to continue running\n</code></pre> <p>Variables Window Features: - Click column headers to sort (Name, Value, Type) - Shows all variables and their current values - Displays variables with original case (TargetAngle, not targetangle) - Updates automatically as you step - Types displayed (integer, float, string, array) - Filter box to search for specific variables</p>"},{"location":"user/TK_UI_QUICK_START/#5-advanced-editing-find-and-replace","title":"5. Advanced Editing - Find and Replace","text":"<p>Large program with repeated code?</p> <pre><code>1. Press {{kbd:replace}} (Find and Replace)\n2. Enter find text: \"OLDVAR\"\n3. Enter replace text: \"NEWVAR\"\n4. Click \"Replace All\"\n5. All occurrences updated\n</code></pre>"},{"location":"user/TK_UI_QUICK_START/#common-tasks","title":"Common Tasks","text":""},{"location":"user/TK_UI_QUICK_START/#load-edit-save","title":"Load, Edit, Save","text":"<pre><code># Start with existing file\npython3 mbasic --ui tk myprogram.bas\n\n# Or load from menu\n1. Press {{kbd:file_open}}\n2. Browse to file\n3. Click Open\n4. Edit in editor\n5. Press {{kbd:file_save}} to save\n</code></pre>"},{"location":"user/TK_UI_QUICK_START/#create-program-template","title":"Create Program Template","text":"<pre><code>10 REM Program: [Name]\n20 REM Author: [Your Name]\n30 REM Date: [Date]\n40 REM Purpose: [Description]\n50 REM\n100 ' Initialize variables\n110\n200 ' Main program\n210\n900 ' Subroutines\n910\n1000 END\n</code></pre> <p>Use {{kbd:smart_insert}} to fill in sections!</p>"},{"location":"user/TK_UI_QUICK_START/#fix-syntax-errors","title":"Fix Syntax Errors","text":"<p>Red ? markers appear in line number gutter for syntax errors:</p> <pre><code>1. Look for ? in gutter\n2. Read error in output pane\n3. Fix the syntax\n4. ? disappears automatically (100ms delay)\n5. Press {{kbd:run_program}} to run\n</code></pre> <p>Common errors: - Missing quotes: <code>PRINT HELLO</code> \u2192 <code>PRINT \"HELLO\"</code> - Missing THEN: <code>IF X=1 GOTO 100</code> \u2192 <code>IF X=1 THEN GOTO 100</code> - Typos: <code>PIRNT</code> \u2192 <code>PRINT</code></p>"},{"location":"user/TK_UI_QUICK_START/#work-with-arrays","title":"Work with Arrays","text":"<pre><code>10 DIM A(10)\n20 FOR I = 1 TO 10\n30   A(I) = I * 10\n40 NEXT I\n50 PRINT A(5)\n60 END\n</code></pre> <p>Run with {{kbd:run_program}}, then check Variables Window ({{kbd:toggle_variables}}) to see array contents!</p>"},{"location":"user/TK_UI_QUICK_START/#variable-case-preservation","title":"Variable Case Preservation","text":"<p>MBASIC now preserves the original case of your variables while maintaining case-insensitive behavior!</p>"},{"location":"user/TK_UI_QUICK_START/#how-it-works","title":"How It Works","text":"<pre><code>10 TargetAngle = 45\n20 targetangle = 90  ' Same variable, different case\n30 PRINT TargetAngle  ' Displays \"TargetAngle = 90\"\n</code></pre> <p>What you see: - Variables window shows: <code>TargetAngle = 90</code> (using first case seen) - All references use the same display case - Lookups remain case-insensitive (BASIC compatibility)</p>"},{"location":"user/TK_UI_QUICK_START/#configure-case-behavior","title":"Configure Case Behavior","text":"<p>Use the settings system to control how case conflicts are handled:</p> <pre><code>' View current setting\nSHOW SETTINGS \"case\"\n\n' Change policy\nSET \"variables.case_conflict\" \"error\"        ' Strict: flag conflicts\nSET \"variables.case_conflict\" \"first_wins\"   ' Default: first case wins\nSET \"variables.case_conflict\" \"prefer_upper\" ' Prefer UPPERCASE\nSET \"variables.case_conflict\" \"prefer_lower\" ' Prefer lowercase\nSET \"variables.case_conflict\" \"prefer_mixed\" ' Prefer CamelCase\n\n' Get help on a setting\nHELP SET \"variables.case_conflict\"\n</code></pre>"},{"location":"user/TK_UI_QUICK_START/#example-catching-typos-with-error-mode","title":"Example: Catching Typos with Error Mode","text":"<pre><code>SET \"variables.case_conflict\" \"error\"\n10 TotalCount = 0\n20 FOR I = 1 TO 10\n30   TotalCont = TotalCont + I  ' ERROR: Typo detected!\n40 NEXT I\n</code></pre> <p>With error mode enabled, MBASIC catches the typo at line 30 immediately!</p> <p>Learn more: See <code>docs/user/SETTINGS_AND_CONFIGURATION.md</code> for complete settings guide.</p>"},{"location":"user/TK_UI_QUICK_START/#improved-debugging-features","title":"Improved Debugging Features","text":"<p>The TK UI now provides enhanced debugging with intuitive statement highlighting.</p>"},{"location":"user/TK_UI_QUICK_START/#next-statement-highlighting","title":"Next-Statement Highlighting","text":"<p>When stepping through code or hitting a breakpoint, MBASIC highlights what will execute next, not what just executed.</p> <p>Example: <pre><code>10 PRINT \"A\"\n20 PRINT \"B\"  ' \u2190 Highlighted when you pause here\n30 PRINT \"C\"\n</code></pre></p> <p>When you hit a breakpoint on line 20, you see line 20 highlighted BEFORE it executes. This lets you: - See what's about to happen - Examine variable values before the statement runs - Decide whether to step or continue</p>"},{"location":"user/TK_UI_QUICK_START/#control-flow-visualization","title":"Control Flow Visualization","text":"<p>The highlight automatically jumps to show where execution is going during GOSUB, RETURN, GOTO, NEXT, etc.</p> <p>Example: <pre><code>10 PRINT \"Start\"\n20 GOSUB 100\n30 PRINT \"End\"   ' \u2190 Highlights here after RETURN\n40 END\n100 PRINT \"Sub\"\n110 RETURN\n</code></pre></p> <p>What you see: 1. Step at line 20 \u2192 Highlights GOSUB 100 2. Step again \u2192 Highlight jumps to line 100 (subroutine entry) 3. Step through 100, 110 4. Step at RETURN \u2192 Highlight jumps to line 30 (statement AFTER the GOSUB)</p> <p>This makes control flow visible and easy to follow!</p>"},{"location":"user/TK_UI_QUICK_START/#mid-line-statement-stepping","title":"Mid-Line Statement Stepping","text":"<p>For lines with multiple statements (colon-separated), stepping shows exactly which statement will execute:</p> <pre><code>10 PRINT \"A\": X=5: GOSUB 100: PRINT \"B\": END\n</code></pre> <p>Click the Stmt toolbar button (step statement) to move through each part: 1. <code>PRINT \"A\"</code> \u2190 First 2. <code>X=5</code> \u2190 Second 3. <code>GOSUB 100</code> \u2190 Third (jumps to subroutine) 4. After RETURN: <code>PRINT \"B\"</code> \u2190 Resumes here (not at start of line) 5. <code>END</code> \u2190 Last</p> <p>Click the Step toolbar button (step line) to execute the entire line at once.</p>"},{"location":"user/TK_UI_QUICK_START/#execution-stack-window","title":"Execution Stack Window","text":"<p>Press {{kbd:toggle_stack}} to see the Execution Stack Window showing active loops and subroutine calls:</p> <pre><code>10 FOR I = 1 TO 3\n20   FOR J = 1 TO 2\n30     GOSUB 100\n40   NEXT J\n50 NEXT I\n100 PRINT I; J\n110 RETURN\n</code></pre> <p>Stack display at line 100: <pre><code>FOR I=1 TO 3 STEP 1  [I=2]\n  FOR J=1 TO 2 STEP 1  [J=1]\n    GOSUB from line 30\n</code></pre></p> <p>Perfect for understanding: - Nested loops - Subroutine call chains - Current loop variable values - Return addresses</p>"},{"location":"user/TK_UI_QUICK_START/#tips-and-tricks","title":"Tips and Tricks","text":""},{"location":"user/TK_UI_QUICK_START/#1-smart-insert-for-rapid-development","title":"1. Smart Insert for Rapid Development","text":"<p>Scenario: You have a skeleton program and need to flesh it out.</p> <pre><code>10 REM Initialize\n100 REM Process\n200 REM Output\n300 END\n</code></pre> <p>Use Smart Insert ({{kbd:smart_insert}}) to add details under each section header without worrying about line numbers!</p>"},{"location":"user/TK_UI_QUICK_START/#2-renumber-before-sharing","title":"2. Renumber Before Sharing","text":"<p>Your development version might have messy line numbers: <pre><code>10 PRINT \"START\"\n15 X=1\n17 Y=2\n21 GOTO 50\n50 END\n</code></pre></p> <p>Before sharing, make it clean: 1. Press {{kbd:renumber}} 2. Start=10, Increment=10 3. Result: <pre><code>10 PRINT \"START\"\n20 X=1\n30 Y=2\n40 GOTO 50\n50 END\n</code></pre></p>"},{"location":"user/TK_UI_QUICK_START/#3-use-comments-liberally","title":"3. Use Comments Liberally","text":"<p>MBASIC supports two comment styles: <pre><code>10 REM This is a remark statement\n20 ' This is also a comment (shorter!)\n</code></pre></p> <p>Add comments while developing with Smart Insert: <pre><code>10 X = 5\n' {{kbd:smart_insert}} here creates line 15\n15 ' Calculate result\n20 Y = X * 10\n</code></pre></p>"},{"location":"user/TK_UI_QUICK_START/#4-variables-window-for-arrays","title":"4. Variables Window for Arrays","text":"<p>When working with arrays, keep Variables Window open:</p> <pre><code>10 DIM SCORES(5)\n20 FOR I = 1 TO 5\n30   INPUT \"Score\"; SCORES(I)\n40 NEXT I\n</code></pre> <p>Run this with {{kbd:toggle_variables}} window open - you'll see each array element as it's filled!</p>"},{"location":"user/TK_UI_QUICK_START/#5-execution-stack-window-for-loops","title":"5. Execution Stack Window for Loops","text":"<p>Press {{kbd:toggle_stack}} to see Execution Stack Window while stepping through nested loops:</p> <pre><code>10 FOR I = 1 TO 3\n20   FOR J = 1 TO 2\n30     PRINT I; J\n40   NEXT J\n50 NEXT I\n</code></pre> <p>The stack shows: <pre><code>FOR I=1 TO 3 STEP 1  [I=1]\n  FOR J=1 TO 2 STEP 1  [J=1]\n</code></pre></p> <p>Perfect for debugging complex loop logic!</p>"},{"location":"user/TK_UI_QUICK_START/#6-quick-testing-cycle","title":"6. Quick Testing Cycle","text":"<p>Fastest workflow for iterative development:</p> <pre><code>Type \u2192 {{kbd:run_program}} \u2192 Check \u2192 Edit \u2192 {{kbd:run_program}} \u2192 Check \u2192 ...\n</code></pre> <p>No need to save between test runs! Save with {{kbd:file_save}} only when you're happy with results.</p>"},{"location":"user/TK_UI_QUICK_START/#7-breakpoint-shortcuts","title":"7. Breakpoint Shortcuts","text":"<p>Mouse: Click line number to toggle breakpoint Keyboard: Position cursor, press {{kbd:toggle_breakpoint}}</p> <p>Try both and use whichever feels faster!</p>"},{"location":"user/TK_UI_QUICK_START/#next-steps","title":"Next Steps","text":""},{"location":"user/TK_UI_QUICK_START/#learn-more-about","title":"Learn More About...","text":"<ul> <li>Debugging: See Debugging Features</li> <li>Keyboard Shortcuts: See Tk Keyboard Shortcuts</li> <li>BASIC Language: See Language Reference</li> <li>Editor Features: See Editor Commands</li> </ul>"},{"location":"user/TK_UI_QUICK_START/#try-these-sample-programs","title":"Try These Sample Programs","text":"<p>Start with simple examples in <code>basic/</code> directory:</p> <pre><code>python3 mbasic --ui tk basic/hello.bas\npython3 mbasic --ui tk basic/loops.bas\npython3 mbasic --ui tk basic/arrays.bas\n</code></pre>"},{"location":"user/TK_UI_QUICK_START/#master-these-skills","title":"Master These Skills","text":"<p>In order of importance:</p> <ol> <li>Smart Insert ({{kbd:smart_insert}}) - Essential for efficient editing</li> <li>Run ({{kbd:run_program}}) and toolbar buttons (Step/Stmt/Cont) - Core debugging workflow</li> <li>Variables Window ({{kbd:toggle_variables}}) - See what your program is doing</li> <li>Renumber ({{kbd:renumber}}) - Keep code organized</li> <li>Breakpoints ({{kbd:toggle_breakpoint}}) - Stop at critical points</li> <li>Save Often ({{kbd:file_save}}) - Protect your work</li> </ol>"},{"location":"user/TK_UI_QUICK_START/#common-mistakes-to-avoid","title":"Common Mistakes to Avoid","text":"<p>\u274c Manually calculating line numbers \u2192 Use Smart Insert instead \u274c Running without saving \u2192 Save first with {{kbd:file_save}} \u274c Ignoring ? markers \u2192 Fix syntax errors before running \u274c Not using Variables Window \u2192 You're debugging blind! \u274c Stepping through entire program \u2192 Set breakpoints, use Continue</p>"},{"location":"user/TK_UI_QUICK_START/#getting-help","title":"Getting Help","text":"<ul> <li>In-app help: Press {{kbd:help_topics}} or use Help menu</li> <li>Online docs: See <code>docs/</code> directory</li> <li>Examples: Check <code>basic/</code> directory</li> <li>Issues: Report at GitHub repository</li> </ul> <p>Welcome to MBASIC! Start with simple programs, use Smart Insert to build them up, and explore the debugging features. You'll be productive in minutes!</p>"},{"location":"user/UI_FEATURE_COMPARISON/","title":"MBASIC UI Feature Comparison Guide","text":"<p>Note: This guide uses <code>{{kbd:action:ui}}</code> notation for keyboard shortcuts. These are template variables that represent actual key combinations. For specific key mappings, see the Help menu in each UI or the individual UI quick reference guides.</p> <p>This guide helps you choose the right UI for your needs and understand the feature differences between MBASIC's user interfaces.</p>"},{"location":"user/UI_FEATURE_COMPARISON/#quick-ui-selection-guide","title":"Quick UI Selection Guide","text":""},{"location":"user/UI_FEATURE_COMPARISON/#which-ui-should-i-use","title":"Which UI Should I Use?","text":"If you want... Use this UI Why Classic BASIC experience CLI Authentic MBASIC-80 command line Full-featured IDE Tk Most complete feature set Terminal-based IDE Curses Works over SSH, no GUI needed Browser-based access Web No installation, works anywhere Quick testing CLI Simplest, fastest startup Advanced debugging Tk or Web Visual breakpoints and inspectors Automated testing CLI Best for scripts and automation Teaching/Learning Web Easy sharing, no setup required"},{"location":"user/UI_FEATURE_COMPARISON/#feature-availability-matrix","title":"Feature Availability Matrix","text":""},{"location":"user/UI_FEATURE_COMPARISON/#legend","title":"Legend","text":"Symbol Meaning \u2705 Fully implemented and available \u26a0\ufe0f Partially implemented (see Notes column for details) \ud83d\udccb Planned for future implementation (not yet available) \u274c Not available or not applicable <p>Note: For \u26a0\ufe0f entries, check the Notes column to understand which parts are implemented versus planned.</p>"},{"location":"user/UI_FEATURE_COMPARISON/#core-features","title":"Core Features","text":"Feature CLI Curses Tk Web Notes Run BASIC programs \u2705 \u2705 \u2705 \u2705 All UIs run MBASIC 5.21 Edit programs \u2705 \u2705 \u2705 \u2705 Different editing styles Load/Save files \u2705 \u2705 \u2705 \u2705 Web uses browser storage Immediate mode \u2705 \u2705 \u2705 \u2705 Direct command execution Error messages \u2705 \u2705 \u2705 \u2705 Standard MBASIC errors"},{"location":"user/UI_FEATURE_COMPARISON/#file-operations","title":"File Operations","text":"Feature CLI Curses Tk Web Notes New program \u2705 \u2705 \u2705 \u2705 NEW command Open file \u2705 \u2705 \u2705 \u2705 LOAD \"filename\" command or File \u2192 Open Save (interactive) \u274c \u2705 \u2705 \u2705 Keyboard shortcut prompts for filename Save (command) \u2705 \u2705 \u2705 \u2705 SAVE \"filename\" command Recent files \u274c \u274c \u2705 \u2705 Tk: menu, Web: localStorage (filenames only) Drag &amp; drop \u274c \u274c \u2705 \u2705 GUI only Auto-save \u274c \u274c \ud83d\udccb \u2705 Tk: planned, Web: automatic"},{"location":"user/UI_FEATURE_COMPARISON/#editing-features","title":"Editing Features","text":"Feature CLI Curses Tk Web Notes Line editing \u2705 \u2705 \u2705 \u2705 Edit by line number Full-screen editor \u274c \u2705 \u2705 \u2705 CLI is line-based Syntax highlighting \u274c \u26a0\ufe0f \u2705 \u2705 Curses: basic Cut/Copy/Paste \u274c \u274c \u2705 \u2705 GUI clipboard support Find/Replace \u274c \u274c \u2705 \ud83d\udccb Tk: implemented, Web: planned Auto-complete \u274c \u274c \u274c \u2705 Web suggests keywords Smart Insert \u274c \u274c \u2705 \u274c Tk exclusive feature"},{"location":"user/UI_FEATURE_COMPARISON/#debugging-features","title":"Debugging Features","text":"Feature CLI Curses Tk Web Notes Breakpoints \u2705 \u2705 \u2705 \u2705 CLI: BREAK command Step execution \u2705 \u2705 \u2705 \u2705 CLI: STEP command Variable inspector \u2705 \u2705 \u2705 \u2705 CLI: immediate mode print Edit variables \u274c \u26a0\ufe0f \u2705 \u2705 CLI: immediate mode only Call stack view \u2705 \u2705 \u2705 \u2705 CLI: STACK command Visual breakpoints \u274c \u2705 \u2705 \u2705 Click line numbers Conditional breaks \u274c \u274c \u274c \u274c Not implemented Execution trace \u274c \u2705 \u2705 \u2705 Show execution path"},{"location":"user/UI_FEATURE_COMPARISON/#help-system","title":"Help System","text":"Feature CLI Curses Tk Web Notes Built-in help \u2705 \u2705 \u2705 \u2705 All have help Context help \u274c \u2705 \u2705 \u2705 Curses/Web: F1; Tk: menu Searchable help \u2705 \u2705 \u2705 \u2705 HELP SEARCH External browser \u274c \u274c \u2705 N/A Tk opens browser"},{"location":"user/UI_FEATURE_COMPARISON/#user-interface","title":"User Interface","text":"Feature CLI Curses Tk Web Notes Mouse support \u274c \u26a0\ufe0f \u2705 \u2705 Curses: limited, terminal-dependent Menus \u274c \u2705 \u2705 \u2705 CLI: commands only Keyboard shortcuts \u26a0\ufe0f \u2705 \u2705 \u2705 CLI: limited Resizable panels \u274c \u274c \u2705 \u2705 Curses: fixed 70/30 split (not user-resizable) Themes \u274c \u274c \u26a0\ufe0f \u2705 Web: light/dark Font options \u274c \u274c \u2705 \u2705"},{"location":"user/UI_FEATURE_COMPARISON/#detailed-ui-descriptions","title":"Detailed UI Descriptions","text":""},{"location":"user/UI_FEATURE_COMPARISON/#cli-command-line-interface","title":"CLI (Command Line Interface)","text":"<p>Best for: Purists, automation, testing, classic experience</p> <p>Strengths: - Authentic MBASIC-80 experience - Lightweight and fast - Perfect for automation/scripting - NEW debugging commands (BREAK, STEP, STACK) - Extensive test coverage - Works everywhere Python runs</p> <p>Limitations: - No visual editor (line-based only) - No mouse support - Limited UI features - No interactive save prompt (must use SAVE \"filename\" command)</p> <p>Unique Features: - Direct command-line debugging - Best for batch processing - Scriptable via stdin/stdout</p>"},{"location":"user/UI_FEATURE_COMPARISON/#curses-terminal-ui","title":"Curses (Terminal UI)","text":"<p>Best for: SSH access, terminal lovers, remote development</p> <p>Strengths: - Full-screen terminal interface - Works over SSH - Good keyboard support - Visual debugging - Split-screen layout - No GUI required</p> <p>Limitations: - Limited mouse support - No clipboard integration - Terminal color limitations - Partial variable editing</p> <p>Unique Features: - Terminal-based IDE - Works in console mode - Resource efficient</p>"},{"location":"user/UI_FEATURE_COMPARISON/#tk-desktop-gui","title":"Tk (Desktop GUI)","text":"<p>Best for: Desktop development, full IDE experience</p> <p>Strengths: - Most complete feature set - Native desktop application - Full mouse and keyboard - Find/Replace functionality - Smart Insert feature - Variable editing - Recent files list</p> <p>Limitations: - Requires Tkinter installation - Desktop only (no remote) - Heavier resource usage</p> <p>Unique Features: - Find/Replace ({{kbd:find:tk}}/{{kbd:replace:tk}}) - Smart Insert mode - Most UI polish - Native file dialogs - Web browser help integration</p>"},{"location":"user/UI_FEATURE_COMPARISON/#web-browser-based","title":"Web (Browser-based)","text":"<p>Best for: Education, sharing, no-install access</p> <p>Strengths: - No installation required - Works on any device with browser - Modern interface - Auto-save to browser - Shareable programs - Best debugging visuals</p> <p>Limitations: - Requires web server - Browser storage limits - No local file system access - Session-based storage</p> <p>Unique Features: - Browser-based IDE - Auto-completion - Theme support - Touch device support</p>"},{"location":"user/UI_FEATURE_COMPARISON/#feature-implementation-status","title":"Feature Implementation Status","text":""},{"location":"user/UI_FEATURE_COMPARISON/#recently-added-2025-10-29","title":"Recently Added (2025-10-29)","text":"<ul> <li>\u2705 CLI: Debugging commands (BREAK, STEP, STACK)</li> <li>\u2705 Tk: Find/Replace functionality</li> <li>\u2705 Curses: Save As support</li> <li>\u2705 Tk: Web browser help launcher</li> </ul>"},{"location":"user/UI_FEATURE_COMPARISON/#coming-soon","title":"Coming Soon","text":"<ul> <li>\u23f3 DATA/READ/RESTORE statements (all UIs)</li> <li>\u23f3 ON GOTO/GOSUB support (all UIs)</li> <li>\u23f3 Variable editing in Curses</li> <li>\u23f3 Find/Replace in Web UI</li> </ul>"},{"location":"user/UI_FEATURE_COMPARISON/#known-gaps","title":"Known Gaps","text":"<ul> <li>CLI: No interactive save prompt (use SAVE \"filename\" command instead)</li> <li>Web: No Find/Replace yet</li> <li>Curses: Limited variable editing</li> <li>All: No collaborative editing</li> </ul>"},{"location":"user/UI_FEATURE_COMPARISON/#keyboard-shortcuts-comparison","title":"Keyboard Shortcuts Comparison","text":""},{"location":"user/UI_FEATURE_COMPARISON/#common-shortcuts","title":"Common Shortcuts","text":"Action CLI Curses Tk Web Run {{kbd:run:cli}} {{kbd:run:curses}} {{kbd:run_program:tk}} {{kbd:run:web}} Stop {{kbd:stop:cli}} {{kbd:stop:curses}}/Esc Esc {{kbd:stop:web}} Save {{kbd:save:cli}} {{kbd:save:curses}} {{kbd:file_save:tk}} {{kbd:save:web}} New {{kbdcli}} {{kbdcurses}} {{kbd:file_new:tk}} {{kbdweb}} Open {{kbd:open:cli}} {{kbd:open:curses}} {{kbd:file_open:tk}} {{kbd:open:web}} Help {{kbd:help:cli}} {{kbd:help:curses}} {{kbd:help_topics:tk}} {{kbd:help:web}} Quit {{kbd:quit:cli}} {{kbd:quit:curses}} {{kbd:file_quit:tk}} N/A"},{"location":"user/UI_FEATURE_COMPARISON/#debugging-shortcuts","title":"Debugging Shortcuts","text":"Action CLI Curses Tk Web Toggle Breakpoint {{kbd:toggle_breakpoint:cli}} {{kbd:toggle_breakpoint:curses}} {{kbd:toggle_breakpoint:tk}} {{kbd:toggle_breakpoint:web}} Step {{kbd:step:cli}} {{kbd:step:curses}} Menu/Toolbar {{kbd:step:web}} Continue {{kbd:continue:cli}} {{kbd:continue:curses}} Menu/Toolbar {{kbd:continue:web}} Variables PRINT (none) {{kbd:toggle_variables:tk}} {{kbd:toggle_variables:web}}"},{"location":"user/UI_FEATURE_COMPARISON/#performance-comparison","title":"Performance Comparison","text":"Aspect CLI Curses Tk Web Startup time Fastest Fast Medium Slow Memory usage Lowest Low Medium High Large files Best Good Good Limited Execution speed Fastest Fast Fast Good"},{"location":"user/UI_FEATURE_COMPARISON/#choosing-your-ui","title":"Choosing Your UI","text":""},{"location":"user/UI_FEATURE_COMPARISON/#for-beginners","title":"For Beginners","text":"<p>Recommended: Web UI - No installation needed - Modern, familiar interface - Good documentation - Visual debugging</p>"},{"location":"user/UI_FEATURE_COMPARISON/#for-power-users","title":"For Power Users","text":"<p>Recommended: Tk UI - Most features - Best editing tools - Complete IDE experience - Efficient workflow</p>"},{"location":"user/UI_FEATURE_COMPARISON/#for-remote-work","title":"For Remote Work","text":"<p>Recommended: Curses UI - SSH friendly - Low bandwidth - Terminal-based - Full featured</p>"},{"location":"user/UI_FEATURE_COMPARISON/#for-automation","title":"For Automation","text":"<p>Recommended: CLI - Scriptable - Fast execution - Minimal overhead - Batch processing</p>"},{"location":"user/UI_FEATURE_COMPARISON/#migration-between-uis","title":"Migration Between UIs","text":""},{"location":"user/UI_FEATURE_COMPARISON/#moving-from-cli-to-gui","title":"Moving from CLI to GUI","text":"<ol> <li>Your .bas files work in any UI</li> <li>Learn visual debugging tools</li> <li>Explore menu options</li> <li>Use keyboard shortcuts</li> </ol>"},{"location":"user/UI_FEATURE_COMPARISON/#moving-from-gui-to-cli","title":"Moving from GUI to CLI","text":"<ol> <li>Learn command syntax</li> <li>Use HELP frequently</li> <li>Master line-based editing</li> <li>Learn debugging commands</li> </ol>"},{"location":"user/UI_FEATURE_COMPARISON/#sharing-between-uis","title":"Sharing Between UIs","text":"<ul> <li>All UIs use same .bas format</li> <li>Programs are 100% compatible</li> <li>Only UI features differ</li> <li>Same MBASIC 5.21 interpreter</li> </ul>"},{"location":"user/UI_FEATURE_COMPARISON/#getting-help","title":"Getting Help","text":"<ul> <li>CLI: Type {{kbd:help:cli}} or <code>HELP &lt;topic&gt;</code></li> <li>Curses: Press {{kbd:help:curses}} to open help browser</li> <li>Tk: Press {{kbd:help_topics:tk}} or use Help menu</li> <li>Web: Press {{kbd:help:web}} or click Help</li> </ul>"},{"location":"user/UI_FEATURE_COMPARISON/#reporting-issues","title":"Reporting Issues","text":"<p>Found a bug or missing feature? Report at: https://github.com/anthropics/mbasic/issues</p> <p>Include: - Which UI you're using - What feature is affected - Steps to reproduce - Expected vs actual behavior</p>"},{"location":"user/keyboard-shortcuts/","title":"MBASIC Curses UI Keyboard Shortcuts","text":""},{"location":"user/keyboard-shortcuts/#editor","title":"Editor","text":"Key Action <code>Ctrl+C</code> Continue execution <code>Ctrl+G</code> Go to line <code>Ctrl+H</code> Open help browser <code>Ctrl+N</code> New program <code>Ctrl+O</code> Open/Load BASIC file <code>Ctrl+Q</code> Quit <code>Ctrl+E</code> Renumber all lines (RENUM) <code>Ctrl+R</code> Run program <code>Ctrl+V</code> Save program (Ctrl+S unavailable - terminal flow control) <code>Ctrl+P</code> Settings <code>Ctrl+T</code> Step statement (execute one statement) <code>Ctrl+K</code> Step Line (execute all statements on current line) <code>Ctrl+X</code> Stop program execution <code>Ctrl+B</code> Toggle breakpoint <code>Ctrl+W</code> Toggle variables window"},{"location":"user/keyboard-shortcuts/#help-browser","title":"Help Browser","text":"Key Action <code>U</code> Navigate back <code>Enter</code> Follow link <code>Tab</code> Next link <code>ESC</code> Close help browser <code>\u2193</code> Scroll down <code>\u2191</code> Scroll up <code>/</code> Search help"},{"location":"user/sequential-files/","title":"Sequential File Format Compatibility","text":"<p>This document covers line ending handling and CP/M file format compatibility (^Z EOF markers) for sequential file I/O. For general sequential file operations, see the OPEN, INPUT#, LINE INPUT#, and PRINT# statement documentation.</p>"},{"location":"user/sequential-files/#line-ending-differences","title":"Line Ending Differences","text":""},{"location":"user/sequential-files/#background","title":"Background","text":"<p>Different operating systems use different line ending conventions:</p> <ul> <li>CP/M, DOS, Windows: CRLF (<code>\\r\\n</code> - two characters: carriage return + line feed)</li> <li>Unix, Linux, Mac OS X: LF (<code>\\n</code> - single line feed character)</li> <li>Classic Mac OS (pre-OSX): CR (<code>\\r</code> - single carriage return character)</li> </ul>"},{"location":"user/sequential-files/#line-ending-support","title":"Line Ending Support","text":"<p>This MBASIC implementation supports all three line ending formats for maximum cross-platform compatibility:</p> Line Ending Format Support Example Use CRLF <code>\\r\\n</code> \u2705 Yes CP/M, DOS, Windows files LF <code>\\n</code> \u2705 Yes Linux, Unix, Mac OSX files CR <code>\\r</code> \u2705 Yes Classic Mac OS files <p>Important: CRLF (<code>\\r\\n</code>) is treated as one line ending, not two.</p>"},{"location":"user/sequential-files/#behavior-examples","title":"Behavior Examples","text":""},{"location":"user/sequential-files/#single-line-endings","title":"Single Line Endings","text":"<p>File with different endings: <pre><code>Line1\\n\nLine2\\r\\n\nLine3\\r\nLine4\n</code></pre></p> <p>Reads as 4 lines: 1. \"Line1\" (LF ending) 2. \"Line2\" (CRLF ending) 3. \"Line3\" (CR ending) 4. \"Line4\" (no ending, at EOF)</p>"},{"location":"user/sequential-files/#double-line-endings-empty-lines","title":"Double Line Endings (Empty Lines)","text":"<p>File content: <pre><code>Line1\\n\\nLine3\n</code></pre></p> <p>Reads as 3 lines: 1. \"Line1\" 2. \"\" (empty line) 3. \"Line3\"</p> <p>Important: <code>\\n\\n</code> creates two line endings (empty line between), but <code>\\r\\n</code> is still one line ending.</p>"},{"location":"user/sequential-files/#mixed-line-endings","title":"Mixed Line Endings","text":"<p>File content: <pre><code>A\\r\\n\nB\\n\nC\\r\nD\n</code></pre></p> <p>Reads as 4 lines: \"A\", \"B\", \"C\", \"D\"</p>"},{"location":"user/sequential-files/#comparison-with-cpm-mbasic-521","title":"Comparison with CP/M MBASIC 5.21","text":"<p>CP/M MBASIC 5.21 (real hardware): - Only recognizes CRLF (<code>\\r\\n</code>) as line ending - LF alone or CR alone are not recognized as line endings - Files with LF-only or CR-only endings won't read correctly</p> <p>This implementation: - Recognizes all three formats (CRLF, LF, CR) - More permissive for cross-platform compatibility - Can read files created on Linux, Windows, or Mac</p> <p>Why the difference?</p> <p>CP/M was designed for a single platform with CRLF line endings. This implementation runs on multiple platforms (Linux, Mac, Windows) and needs to handle files from all sources.</p>"},{"location":"user/sequential-files/#testing-line-endings","title":"Testing Line Endings","text":"<p>Test program: <pre><code>10 OPEN \"I\", #1, \"TESTFILE.TXT\"\n20 N = 0\n30 IF EOF(1) THEN 60\n40 LINE INPUT #1, A$\n50 N = N + 1: PRINT N; \": [\"; A$; \"]\"\n60 IF NOT EOF(1) THEN 30\n70 CLOSE #1\n80 PRINT \"TOTAL LINES:\"; N\n90 SYSTEM\n</code></pre></p> <p>The brackets <code>[]</code> make empty lines visible.</p>"},{"location":"user/sequential-files/#cpm-file-format-and-z-control-z-eof-marker","title":"CP/M File Format and ^Z (Control-Z) EOF Marker","text":""},{"location":"user/sequential-files/#background_1","title":"Background","text":"<p>On CP/M 1.x and 2.x systems, files were stored in 128-byte sectors. When a text file did not end exactly on a 128-byte boundary, the remaining bytes in the final sector were filled with padding. To mark the actual end of file, CP/M used a ^Z (Control-Z, ASCII 26) character as the EOF marker.</p>"},{"location":"user/sequential-files/#z-eof-behavior","title":"^Z EOF Behavior","text":"<p>This MBASIC implementation correctly handles ^Z as EOF for sequential file input, matching MBASIC 5.21 behavior exactly.</p>"},{"location":"user/sequential-files/#when-reading-sequential-files","title":"When Reading Sequential Files","text":"<p>When using <code>INPUT #</code> or <code>LINE INPUT #</code> to read from sequential files:</p> <ol> <li>^Z marks end of file - Reading stops at the first ^Z character encountered</li> <li>Partial lines returned - If ^Z appears mid-line, the partial line up to ^Z is returned</li> <li>Data after ^Z ignored - Any bytes after ^Z are not read</li> </ol>"},{"location":"user/sequential-files/#example-z-at-end-of-file","title":"Example: ^Z at End of File","text":"<pre><code>10 OPEN \"I\", #1, \"DATA.TXT\"\n20 IF EOF(1) THEN 60\n30 LINE INPUT #1, A$\n40 PRINT A$\n50 GOTO 20\n60 CLOSE #1\n70 PRINT \"EOF reached\"\n</code></pre> <p>If <code>DATA.TXT</code> contains: <pre><code>Line 1\nLine 2\nLine 3\n^Z\nJunk data\nMore junk\n</code></pre></p> <p>Output: <pre><code>Line 1\nLine 2\nLine 3\nEOF reached\n</code></pre></p> <p>The \"Junk data\" and \"More junk\" lines after ^Z are not read.</p>"},{"location":"user/sequential-files/#example-z-mid-line","title":"Example: ^Z Mid-Line","text":"<p>If <code>DATA.TXT</code> contains: <pre><code>Line 1\nLine 2 has^Z more text\nLine 3\n</code></pre></p> <p>Output: <pre><code>Line 1\nLine 2 has\nEOF reached\n</code></pre></p> <p>The text \" more text\" after ^Z is not read, and the partial line \"Line 2 has\" is returned before EOF is signaled.</p>"},{"location":"user/sequential-files/#compatibility","title":"Compatibility","text":"<p>This behavior matches: - \u2705 MBASIC 5.21 on CP/M (tested with tnylpo emulator) - \u2705 CP/M text file conventions - \u2705 Most CP/M-era BASIC interpreters</p>"},{"location":"user/sequential-files/#when-z-handling-matters","title":"When ^Z Handling Matters","text":"<p>You need to be aware of ^Z EOF if:</p> <ol> <li>Reading CP/M-era files - Files created on CP/M systems may contain ^Z markers</li> <li>Binary data in text files - If byte value 26 (0x1A) appears in data, it will be treated as EOF</li> <li>Porting from CP/M - Programs written for CP/M expect this behavior</li> </ol> <p>You can ignore ^Z if:</p> <ol> <li>Creating new files - Modern text files typically don't need ^Z markers</li> <li>Using random access files - ^Z is only significant for sequential (text) files</li> <li>Binary file I/O - Use random access mode for binary data</li> </ol>"},{"location":"user/sequential-files/#implementation-details","title":"Implementation Details","text":"<p>The ^Z EOF handling is implemented in <code>_read_line_from_file()</code> method in the interpreter:</p> <pre><code>if b == 26:  # ^Z (EOF marker in CP/M)\n    file_info['eof'] = True\n    if line_bytes:\n        return line_bytes.decode('latin-1', errors='replace').rstrip('\\r\\n')\n    return None\n</code></pre> <p>This ensures: - Byte value 26 (^Z) triggers EOF - Partial lines before ^Z are returned - EOF flag is set to prevent further reads - Behavior matches CP/M MBASIC 5.21 exactly</p>"},{"location":"user/sequential-files/#random-access-files","title":"Random Access Files","text":"<p>Note: ^Z is NOT significant for random access files opened with <code>OPEN \"R\"</code>. Random access files:</p> <ul> <li>Read/write fixed-length records</li> <li>Use <code>GET</code> and <code>PUT</code> statements</li> <li>Treat all bytes (including 26) as data</li> <li>Do not recognize EOF markers</li> </ul>"},{"location":"user/sequential-files/#testing","title":"Testing","text":"<p>Test files included in <code>tests/</code> directory:</p> <ul> <li><code>ctrlz.txt</code> - Sequential file with ^Z at end</li> <li><code>ctrlz2.txt</code> - Sequential file with ^Z mid-line</li> <li><code>testeof.bas</code> - Test program for LINE INPUT</li> <li><code>testeof2.bas</code> - Test program for mid-line ^Z</li> </ul> <p>Run tests: <pre><code>cd tests/\n# Test with our MBASIC\npython3 ../mbasic testeof.bas\n\n# Test with real MBASIC 5.21 (requires tnylpo)\n(cat testeof.bas &amp;&amp; echo \"RUN\") | tnylpo ../com/mbasic.com\n</code></pre></p> <p>Both should produce identical output.</p>"},{"location":"user/sequential-files/#summary","title":"Summary","text":"Aspect Behavior Line Endings CRLF support (<code>\\r\\n</code>) \u2705 Yes - CP/M, DOS, Windows LF support (<code>\\n</code>) \u2705 Yes - Linux, Unix, Mac OSX CR support (<code>\\r</code>) \u2705 Yes - Classic Mac OS CRLF treated as one ending \u2705 Yes - not counted as two Empty lines (<code>\\n\\n</code>) \u2705 Yes - preserved correctly MBASIC 5.21 line ending compatibility \u26a0\ufe0f More permissive (MBASIC only accepts CRLF) ^Z EOF Marker ^Z detection \u2705 Yes - triggers EOF immediately Partial line handling \u2705 Returns data up to ^Z Data after ^Z \u274c Ignored - not read Sequential files \u2705 Applies to INPUT# and LINE INPUT# Random files \u274c Does not apply (^Z is data) MBASIC 5.21 ^Z compatibility \u2705 Exact match"},{"location":"user/sequential-files/#see-also","title":"See Also","text":"<ul> <li>OPEN Statement - Opening files for input/output</li> <li>INPUT# Statement - Reading from sequential files</li> <li>LINE INPUT# Statement - Reading lines from sequential files</li> <li>EOF Function - Checking for end of file</li> <li>File Format Compatibility - Line endings and file format compatibility</li> </ul>"}]}