# Complete Issue Catalog - Documentation Inconsistencies v11
================================================================================


## High Severity Issues (20 total)
================================================================================

### 1. code_vs_comment
**Files:** src/case_string_handler.py
**Issue:** Comment claims identifiers preserve case but implementation returns original_text without using identifier_table


### 2. documentation_inconsistency
**Files:** src/editing/manager.py, src/file_io.py
**Issue:** Contradictory documentation about ProgramManager file I/O methods and their relationship to FileIO abstraction


### 3. code_vs_comment
**Files:** src/immediate_executor.py
**Issue:** Comment describes validation behavior that doesn't exist in the code


### 4. code_vs_comment
**Files:** src/interactive.py
**Issue:** RENUM documentation claims conservative behavior for ERL expressions but implementation may incorrectly renumber arithmetic operations


### 5. code_vs_comment
**Files:** src/interactive.py
**Issue:** CONT command docstring describes state management but doesn't mention GOSUB/FOR stack clearing on edit


### 6. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment about error_info being set before _invoke_error_handler contradicts the actual flow


### 7. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_clear says 'Errors during file close are silently ignored (bare except: pass below)' but the code shows 'except: pass' without any comment marker indicating where this is


### 8. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_cont describes behavior distinction but the actual check doesn't verify the distinction works as described


### 9. code_vs_comment
**Files:** src/parser.py
**Issue:** Docstring describes behavior that code doesn't fully implement for INPUT statement


### 10. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment claims line numbers use fixed 5-character width, but code uses variable width


### 11. internal_inconsistency
**Files:** src/ui/curses_ui.py
**Issue:** Inconsistent line number formatting between _format_line and _parse_line_numbers methods


### 12. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment about main widget storage contradicts between methods


### 13. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment in _execute_immediate claims it syncs program to runtime but doesn't reset PC, yet the code shows _sync_program_to_runtime is called which may reset PC depending on implementation


### 14. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment claims interpreter.start() is not called to preserve PC, but then describes that immediate executor already called interpreter.start(start_line=120), which contradicts the preservation claim


### 15. code_vs_comment_conflict
**Files:** src/ui/help_widget.py
**Issue:** Comment claims help navigation keys are hardcoded and not loaded from keybindings, but HelpMacros class does load keybindings from JSON


### 16. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment about OPTION BASE behavior conflicts with code implementation for invalid values


### 17. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment in cmd_cont says stop_line and stop_stmt_index are optional extensions, but code uses them without checking if they exist


### 18. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment says 'Don't call interpreter.start()' but then manually replicates part of what start() would do


### 19. code_vs_comment
**Files:** src/ui/tk_widgets.py
**Issue:** Canvas width comment says '20 (pixels in Tkinter)' but this is misleading - the width parameter in Tkinter Canvas is in pixels by default, not a special Tkinter unit


### 20. code_vs_comment
**Files:** src/ui/ui_helpers.py
**Issue:** serialize_statement() has a fallback that creates REM comments for unhandled statement types, with a WARNING comment about potential invalid code during RENUM, but no error handling or validation


## Medium Severity Issues (101 total)
================================================================================

### 1. code_vs_comment
**Files:** medium_severity_fixes.py
**Issue:** Fix script claims to modify src/runtime.py but the replacement pattern is incomplete/malformed


### 2. code_vs_documentation
**Files:** src/ast_nodes.py
**Issue:** InputStatementNode documentation contradicts itself on semicolon behavior


### 3. code_vs_comment
**Files:** src/ast_nodes.py
**Issue:** LineNode docstring claims no source_text field exists but doesn't explain char_start/char_end on StatementNode


### 4. code_vs_comment
**Files:** src/basic_builtins.py
**Issue:** Comment claims original_negative is captured at line 269, but that line number is incorrect in the actual code


### 5. code_vs_comment
**Files:** src/basic_builtins.py
**Issue:** EOF function comment describes ^Z behavior but implementation details are unclear about when mode 'I' is set


### 6. code_vs_comment
**Files:** src/basic_builtins.py
**Issue:** Comment about next_byte indexing assumes binary mode but doesn't verify it


### 7. code_vs_documentation
**Files:** src/file_io.py, src/filesystem/sandboxed_fs.py
**Issue:** SandboxedFileIO documentation claims it delegates to backend.sandboxed_fs but implementation shows incomplete integration


### 8. documentation_inconsistency
**Files:** src/file_io.py, src/filesystem/base.py
**Issue:** Inconsistent explanation of overlap between FileIO and FileSystemProvider abstractions


### 9. code_vs_documentation
**Files:** src/editing/manager.py
**Issue:** ProgramManager.merge_from_file() return type documentation incomplete


### 10. code_vs_comment
**Files:** src/immediate_executor.py
**Issue:** Comment claims INPUT statements are 'blocked when input() is called, not at parse time' but the help text says INPUT 'will fail at runtime'


### 11. code_vs_comment
**Files:** src/immediate_executor.py
**Issue:** Comment about PC save/restore contradicts actual behavior


### 12. code_vs_comment
**Files:** src/immediate_executor.py
**Issue:** Help text claims INPUT is 'blocked' but implementation raises exception


### 13. code_vs_comment
**Files:** src/interactive.py
**Issue:** Comment claims EDIT command 'count prefixes and search commands are not yet implemented' but doesn't clarify what happens when digits are entered


### 14. code_vs_documentation
**Files:** src/interactive.py
**Issue:** CHAIN command documentation incomplete regarding execution flow


### 15. code_vs_comment
**Files:** src/interactive.py
**Issue:** MERGE command comment about runtime update doesn't match actual implementation location


### 16. code_vs_comment
**Files:** src/interactive.py
**Issue:** Comment about COMMON variable handling describes implementation that may not match actual behavior


### 17. code_vs_comment_conflict
**Files:** src/interactive.py
**Issue:** Comment claims GOTO/GOSUB in immediate mode are 'not recommended' and behavior 'may be confusing', but then describes that they actually work functionally. The comment is contradictory about whether t...


### 18. code_vs_comment
**Files:** src/interpreter.py
**Issue:** InterpreterState docstring describes checking order for UI code examining completed state, but the actual execution order in tick_pc() is different and more complex


### 19. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in current_statement_char_end property describes logic that doesn't fully match the implementation


### 20. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment about NEXT processing order conflicts with implementation details


### 21. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment about return_stmt validation range is confusing


### 22. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment describes WEND popping loop 'after setting npc above, before WHILE re-executes' but the actual pop happens after npc is set, which means the loop is popped before WHILE condition is re-evaluat...


### 23. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_next describes return_stmt validation logic but the explanation of 'len(statements)' as sentinel is confusing given the actual validation


### 24. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_input describes state machine steps but step numbering doesn't match the actual flow


### 25. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in _read_line_from_file describes latin-1 encoding but warns about CP/M code page mismatch without explaining the implications


### 26. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_optionbase describes 'Duplicate Definition' error conditions but the check logic comment is redundant


### 27. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment claims RSET truncates from left when value is too long, but code truncates from right


### 28. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment claims string concatenation limit is 255 characters, but check uses len() which counts characters not bytes, inconsistent with field buffer encoding note


### 29. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_step says 'not yet functional - no actual stepping occurs' but doesn't explain what the current implementation does


### 30. code_vs_comment
**Files:** src/interpreter.py
**Issue:** execute_put docstring and code don't validate that record_num is positive


### 31. Code vs Documentation inconsistency
**Files:** src/iohandler/web_io.py, src/iohandler/base.py
**Issue:** WebIOHandler has backward compatibility aliases print() and get_char() that are not documented in the base IOHandler interface or mentioned in the module-level documentation


### 32. Code vs Documentation inconsistency
**Files:** src/keyword_case_manager.py
**Issue:** Module docstring mentions SimpleKeywordCase and references src/simple_keyword_case.py, but this file is not included in the provided source code files, making it impossible to verify the relationship ...


### 33. code_vs_comment
**Files:** src/lexer.py
**Issue:** Comment claims SimpleKeywordCase 'validates policy strings and defaults to force_lower for invalid values', but the actual SimpleKeywordCase class is not shown in the provided code, so this cannot be ...


### 34. code_vs_comment
**Files:** src/lexer.py
**Issue:** Comment claims identifiers use 'original_case' field while keywords use 'original_case_keyword', but the code sets both fields inconsistently


### 35. code_vs_comment
**Files:** src/lexer.py
**Issue:** Comment claims 'MBASIC allows "PRINT#1" with no space' and describes special handling, but the implementation may not handle all file I/O keywords consistently


### 36. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment claims RND and INKEY$ can be called without parentheses as MBASIC 5.21 behavior, but implementation only allows this for RND and INKEY$, not universally


### 37. code_vs_comment
**Files:** src/parser.py
**Issue:** at_end_of_line() docstring contradicts its usage in statement parsing


### 38. code_vs_comment
**Files:** src/parser.py
**Issue:** MID$ statement detection comment describes complex lookahead but implementation may have issues


### 39. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment describes incorrect field name for ShowSettingsStatementNode


### 40. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment describes incorrect field name for SetSettingStatementNode


### 41. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment describes MID token representation inconsistently with lexer behavior


### 42. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment about LPRINT separators logic may have off-by-one confusion


### 43. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment describes malformed FOR loop handling that changes semantics


### 44. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment claims COMMON statement stores variable names as strings, but code actually stores them as strings (consistent). However, the comment about array indicators is misleading.


### 45. code_vs_comment
**Files:** src/parser.py
**Issue:** RESUME statement comment about RESUME 0 behavior may be misleading


### 46. code_vs_comment
**Files:** src/pc.py
**Issue:** PC class docstring describes stmt_offset as '0-based index' but also calls it 'offset' which is confusing terminology


### 47. code_vs_documentation
**Files:** src/position_serializer.py
**Issue:** apply_keyword_case_policy docstring says 'Callers may pass keywords in any case' but implementation behavior varies by policy


### 48. code_vs_comment
**Files:** src/position_serializer.py
**Issue:** emit_keyword docstring says 'Caller is responsible for normalizing keyword to lowercase' but apply_keyword_case_policy docstring says callers can pass any case


### 49. code_vs_comment
**Files:** src/position_serializer.py
**Issue:** PositionSerializer.__init__ docstring says keyword_case_manager is 'from parser' but doesn't specify which parser attribute


### 50. code_vs_comment
**Files:** src/resource_limits.py
**Issue:** Comment in check_array_allocation() states 'This calculation matches the array creation logic in src/interpreter.py execute_dim()' but the actual calculation uses (dim_size + 1) which may or may not m...


### 51. code_vs_documentation
**Files:** src/resource_limits.py
**Issue:** File system limits (max_open_files, max_file_size, max_total_files) are defined and documented but no tracking or enforcement methods are implemented


### 52. code_vs_comment
**Files:** src/runtime.py
**Issue:** Comment claims line=-1 in last_write distinguishes system variables from debugger sets, but both use line=-1


### 53. code_vs_comment
**Files:** src/runtime.py
**Issue:** get_variable() docstring says token is REQUIRED but allows fallback for missing attributes


### 54. code_vs_comment
**Files:** src/runtime.py
**Issue:** Docstring for get_execution_stack() contains misleading documentation about 'from_line' field


### 55. code_vs_comment
**Files:** src/runtime.py
**Issue:** reset_for_run() docstring claims it's 'like CLEAR + reload program' but implementation shows it preserves common_vars


### 56. documentation_inconsistency
**Files:** src/settings.py, src/settings_definitions.py
**Issue:** Inconsistent documentation about FILE scope settings availability


### 57. code_vs_documentation_inconsistency
**Files:** src/tokens.py, src/simple_keyword_case.py
**Issue:** Token.original_case_keyword field purpose conflicts with SimpleKeywordCase usage


### 58. documentation_inconsistency
**Files:** src/settings_definitions.py
**Issue:** keywords.case_style setting choices don't match SimpleKeywordCase policies


### 59. Documentation inconsistency
**Files:** src/ui/cli_debug.py, src/ui/curses_keybindings.json
**Issue:** CLI STEP command documentation claims it implements statement-level stepping 'similar to the curses UI Step Statement command (Ctrl+T)', but the curses keybindings show Ctrl+K is for 'Step Line' and C...


### 60. Code vs Comment conflict
**Files:** src/ui/cli_debug.py
**Issue:** The _execute_single_step() method's docstring claims it executes 'one statement at the current program counter position' and that tick()/execute_next() are 'expected to advance the program counter by ...


### 61. Code vs Documentation inconsistency
**Files:** src/ui/cli_debug.py
**Issue:** The cmd_step() docstring says 'After each step, displays the current line number in format: [{line_num}]' but the implementation only displays this format when current_line exists. If current_line is ...


### 62. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment describes 3-field format but implementation varies between methods


### 63. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment claims _parse_line_number extracts variable-width line numbers, but _parse_line_numbers reformats to fixed width


### 64. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment claims ImmediateExecutor is recreated in start() but interpreter is reused, but code shows interpreter is also created once in __init__ and reused


### 65. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment about IO handler lifecycle mentions two handlers but describes three


### 66. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment about help widget lifecycle contradicts toggle support claim


### 67. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment claims breakpoints are stored in editor and NOT in runtime, but code shows breakpoints ARE cleared by reset_for_run() and must be re-applied


### 68. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Docstring claims toggle behavior but implementation shows asymmetric open/close logic


### 69. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment about PC preservation logic contradicts the actual condition check


### 70. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment claims DELETE and RENUM update self.program immediately and runtime sync occurs automatically via _execute_immediate, but the code shows runtime=None is passed to helper functions, meaning run...


### 71. code_internal_inconsistency
**Files:** src/ui/curses_ui.py
**Issue:** Duplicate CapturingIOHandler class definition in _execute_immediate with comment acknowledging duplication but not fixing it


### 72. code_internal_inconsistency
**Files:** src/ui/curses_ui.py
**Issue:** Inconsistent output methods used: _write_output in cmd_* methods vs output_walker.append in _execute_immediate


### 73. code_internal_inconsistency
**Files:** src/ui/curses_ui.py
**Issue:** Autosave interval hardcoded to 30 seconds in multiple places instead of using a constant or configuration


### 74. code_vs_comment_conflict
**Files:** src/ui/help_macros.py
**Issue:** Docstring for _expand_kbd() describes searching across all sections, but implementation detail about 'action name' vs 'key name' terminology is inconsistent


### 75. code_vs_comment_conflict
**Files:** src/ui/interactive_menu.py
**Issue:** Comment in fmt_key() function claims limitation only handles Ctrl+ prefix, but this may be intentional design rather than limitation


### 76. code_inconsistency
**Files:** src/ui/help_widget.py, src/ui/help_macros.py
**Issue:** HelpWidget hardcodes 'curses' UI name but HelpMacros is designed to be UI-agnostic


### 77. code_vs_comment
**Files:** src/ui/keybindings.py
**Issue:** Variable name LIST_KEY doesn't match its actual functionality


### 78. code_vs_comment
**Files:** src/ui/keybindings.py
**Issue:** CONTINUE_KEY comment describes dual functionality but implementation doesn't show context-sensitivity


### 79. documentation_inconsistency
**Files:** src/ui/keybindings.py
**Issue:** Inconsistent documentation of Stack window access method


### 80. code_vs_documentation
**Files:** src/ui/keybindings.py, src/ui/keymap_widget.py
**Issue:** keymap_widget.py converts Ctrl+ to ^ notation but keybindings.py already has STATUS_BAR_SHORTCUTS in ^ notation


### 81. Code vs Documentation inconsistency
**Files:** src/ui/tk_help_browser.py, src/ui/tk_keybindings.json
**Issue:** ESC key binding to close in-page search is implemented but not documented in keybindings


### 82. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment describes 4-pane layout but implementation has 3 panes plus conditional INPUT row


### 83. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Docstring describes syntax highlighting as 'optional' but no implementation or configuration for it exists


### 84. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Variables window heading initialization doesn't match comment about default sort column


### 85. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Variables tree column headings comment describes sorting behavior but implementation is incomplete in provided code


### 86. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment claims auto-numbering is only called from _on_enter_key, but this contradicts the purpose of the method


### 87. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment about validation timing contradicts implementation details


### 88. code_internal_inconsistency
**Files:** src/ui/tk_ui.py
**Issue:** Inconsistent handling of yellow statement highlight clearing


### 89. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment claims clearing statement highlight on ANY key prevents visual artifacts, but code only clears when paused_at_breakpoint is True


### 90. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment claims DON'T save to program yet because blank lines would be filtered, but this contradicts the auto-numbering behavior where numbered blank lines should be valid


### 91. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment describes line change detection logic but doesn't mention the critical 'old_line_num is None' check that prevents unnecessary sorting


### 92. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment in _update_immediate_status explains dual check for can_execute but the explanation about race conditions may be incomplete


### 93. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment claims immediate_history is always None but _setup_immediate_context_menu() and related methods reference it as if it could be a widget


### 94. documentation_inconsistency
**Files:** src/ui/tk_ui.py
**Issue:** Inconsistent documentation about immediate mode output destination


### 95. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment about has_work() usage doesn't match actual usage pattern in codebase


### 96. code_vs_comment
**Files:** src/ui/tk_widgets.py
**Issue:** Comment in _parse_line_number() states MBASIC 5.21 requires whitespace between line number and statement, but regex allows line number at end of string with no statement


### 97. code_vs_comment
**Files:** src/ui/tk_widgets.py
**Issue:** Comment in _delete_line() docstring describes parameter as 'Tkinter text widget line number (1-based sequential index)' but implementation uses it in f-string format that expects 1-based line numbers,...


### 98. code_vs_comment
**Files:** src/ui/tk_widgets.py
**Issue:** Class docstring says 'automatic blank line removal' happens 'when cursor moves away from a blank line', but implementation in _on_cursor_move() uses after_idle() which delays deletion until after even...


### 99. code_vs_comment
**Files:** src/ui/ui_helpers.py
**Issue:** Comment in update_line_references() describes pattern as using non-greedy match for ON expressions, but warns about potential issues with expressions containing 'G'. However, the non-greedy match shou...


### 100. code_vs_comment
**Files:** src/ui/ui_helpers.py
**Issue:** serialize_line() comment warns about fallback behavior causing inconsistent indentation, but doesn't explain when this occurs or how to prevent it


### 101. code_vs_comment
**Files:** src/ui/ui_helpers.py
**Issue:** serialize_variable() comment about explicit_type_suffix uses getattr with False default, but doesn't explain when explicit_type_suffix attribute is set or missing


## Low Severity Issues (131 total)
================================================================================

### 1. documentation_inconsistency
**Files:** setup.py, medium_severity_fixes.py
**Issue:** Version number interpretation inconsistency


### 2. code_vs_comment
**Files:** src/ast_nodes.py
**Issue:** CallStatementNode comment claims parser always sets arguments to empty list, but field exists


### 3. documentation_inconsistency
**Files:** src/ast_nodes.py
**Issue:** VarType docstring uses inconsistent terminology for type specification methods


### 4. code_vs_comment
**Files:** src/ast_nodes.py
**Issue:** VariableNode explicit_type_suffix field comment example may be confusing


### 5. documentation_inconsistency
**Files:** src/ast_nodes.py
**Issue:** TypeInfo class docstring describes it as both a facade and a utilities class


### 6. code_vs_comment
**Files:** src/basic_builtins.py
**Issue:** Comment about trailing_minus_only behavior is redundant and potentially confusing


### 7. code_vs_comment
**Files:** src/basic_builtins.py
**Issue:** Comment about file handle extraction is overly verbose and could be simplified


### 8. documentation_inconsistency
**Files:** src/basic_builtins.py
**Issue:** Module docstring claims to document MBASIC 5.21 but doesn't specify what version features are included


### 9. code_vs_comment
**Files:** src/basic_builtins.py
**Issue:** Inconsistent comment style for sign behavior documentation


### 10. code_vs_comment
**Files:** src/filesystem/sandboxed_fs.py
**Issue:** InMemoryFileHandle.flush() comment describes behavior that differs from typical file semantics


### 11. documentation_inconsistency
**Files:** src/editing/manager.py
**Issue:** Inconsistent terminology for ProgramManager's relationship to Web UI


### 12. documentation_inconsistency
**Files:** src/filesystem/sandboxed_fs.py
**Issue:** Security warning about user_id validation is incomplete


### 13. code_vs_documentation
**Files:** src/error_codes.py
**Issue:** Error code documentation mentions ambiguity but doesn't provide resolution guidance


### 14. documentation_inconsistency
**Files:** src/immediate_executor.py
**Issue:** Help text formatting inconsistency in LIMITATIONS section


### 15. documentation_inconsistency
**Files:** src/input_sanitizer.py
**Issue:** Module docstring claims Python 3.9+ syntax but uses standard typing


### 16. code_vs_comment
**Files:** src/immediate_executor.py
**Issue:** Docstring example shows behavior that may not match implementation


### 17. code_vs_comment
**Files:** src/interactive.py
**Issue:** Comment about readline Ctrl+A binding may be misleading


### 18. documentation_inconsistency
**Files:** src/interactive.py
**Issue:** Inconsistent terminology for 'program manager' vs 'ProgramManager'


### 19. code_vs_comment_conflict
**Files:** src/interactive.py
**Issue:** Comment references 'see help text' for GOTO/GOSUB recommendation, but no help text is visible in the provided code to verify this claim.


### 20. code_vs_comment_conflict
**Files:** src/interactive.py
**Issue:** Comment describes PC restoration logic but the actual behavior may be misleading to users who expect GOTO/GOSUB to work normally in immediate mode.


### 21. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment about skip_next_breakpoint_check timing is unclear about when it's set vs when it's checked


### 22. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment about string variables in FOR loops is misleading


### 23. documentation_inconsistency
**Files:** src/interpreter.py
**Issue:** Comment mentions 'internal implementation version' tracked in src/version.py but this file is not shown in the provided code


### 24. code_vs_comment
**Files:** src/interpreter.py
**Issue:** InterpreterState docstring mentions checking order but doesn't explain why input_prompt is checked during execution while error_info is set via exceptions


### 25. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_resume says 'Parser preserves the distinction (None vs 0)' but this is implementation detail that may not be accurate


### 26. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_reset says 'Unlike CLEAR (which silently ignores file close errors), RESET allows errors during file close to propagate' but this distinction may not be meaningful


### 27. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_run describes RUN without args behavior but the explanation is confusing about halted state


### 28. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment in execute_midassignment says 'start_idx == len(current_value) is considered out of bounds' but this is standard behavior, not a special case


### 29. code_vs_comment
**Files:** src/interpreter.py
**Issue:** Comment about get_variable_for_debugger usage in evaluate_functioncall is verbose and could be clearer


### 30. documentation_inconsistency
**Files:** src/interpreter.py
**Issue:** execute_list docstring mentions ProgramManager maintaining line_text_map but doesn't specify which ProgramManager methods


### 31. code_vs_comment
**Files:** src/interpreter.py
**Issue:** execute_get has similar missing validation for record_num as execute_put


### 32. Documentation inconsistency
**Files:** src/iohandler/__init__.py
**Issue:** Module docstring mentions CursesIOHandler but the actual class name in curses_io.py is CursesIOHandler (correct), however the import statement uses 'from .curses_io import CursesIOHandler' which is co...


### 33. Code vs Comment conflict
**Files:** src/iohandler/console.py
**Issue:** The input_char() method's fallback for Windows without msvcrt has a comment describing severe limitations, but the implementation doesn't fully match the warning


### 34. Documentation inconsistency
**Files:** src/iohandler/base.py, src/iohandler/console.py, src/iohandler/curses_io.py, src/iohandler/web_io.py
**Issue:** The input_line() documentation in base.py describes a 'KNOWN LIMITATION' about not preserving leading/trailing spaces, and this is repeated in console.py, curses_io.py, and web_io.py. However, the spe...


### 35. Code vs Documentation inconsistency
**Files:** src/keyword_case_manager.py
**Issue:** KeywordCaseManager docstring mentions it is used by parser.py and position_serializer.py, but these files are not provided to verify this claim


### 36. Code vs Documentation inconsistency
**Files:** src/iohandler/__init__.py
**Issue:** Module docstring mentions that the package avoids conflicts with Python's built-in 'io' module and references its usage in src/filesystem/sandboxed_fs.py and test files, but these files are not provid...


### 37. Code vs Documentation inconsistency
**Files:** src/iohandler/web_io.py
**Issue:** WebIOHandler.input_char() docstring says 'Character input not supported in web UI (always returns empty string)' but the method signature has a 'blocking' parameter that is ignored


### 38. code_vs_comment
**Files:** src/lexer.py
**Issue:** Comment in read_identifier() says 'Identifiers can contain letters, digits, and end with type suffix $ % ! #' but the code also allows periods in identifiers


### 39. documentation_inconsistency
**Files:** src/lexer.py
**Issue:** Module docstring mentions 'MBASIC 5.21 (CP/M era MBASIC-80)' and 'Extended BASIC features' but doesn't clarify if Extended BASIC is the same as MBASIC 5.21 or a separate feature set


### 40. code_vs_comment
**Files:** src/lexer.py
**Issue:** Comment in read_identifier() says 'Type suffix - only allowed at end of identifier' but the code breaks immediately after consuming the suffix, which is correct behavior but the comment could be clear...


### 41. code_vs_comment
**Files:** src/lexer.py
**Issue:** Comment in tokenize() says 'Skip control characters gracefully' but the code raises an error for unexpected characters after skipping control characters


### 42. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment about semicolon handling in parse_line() is misleading about statement separation


### 43. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment about comma after file number in PRINT statement is inconsistent with LPRINT


### 44. documentation_inconsistency
**Files:** src/parser.py
**Issue:** Inconsistent terminology for 'line ending' concepts


### 45. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment about separators in PRINT statement is confusing about newline addition


### 46. code_vs_comment
**Files:** src/parser.py
**Issue:** Inconsistent comment style for documenting AST node fields


### 47. code_vs_comment
**Files:** src/parser.py
**Issue:** Comment about DEF FN function name normalization may be incorrect


### 48. code_vs_comment
**Files:** src/parser.py
**Issue:** Inconsistent handling of type suffixes in DEF FN parsing


### 49. code_vs_comment
**Files:** src/parser.py
**Issue:** CALL statement docstring claims MBASIC 5.21 primarily uses simple numeric address form, but implementation fully supports extended syntax without any version-specific handling


### 50. code_vs_comment
**Files:** src/parser.py
**Issue:** WIDTH statement docstring describes device parameter but doesn't clarify what expressions are valid


### 51. code_vs_comment
**Files:** src/parser.py
**Issue:** DEF FN comment about lexer normalization may be outdated or incorrect


### 52. documentation_inconsistency
**Files:** src/parser.py
**Issue:** Inconsistent documentation style for statement syntax across different parse methods


### 53. code_vs_comment
**Files:** src/position_serializer.py
**Issue:** Comment in serialize_let_statement mentions 'AssignmentStatementNode' as historical name but this creates confusion


### 54. code_vs_comment
**Files:** src/position_serializer.py
**Issue:** Comment about operator positions says 'not tracked' but code uses None which could mean tracked-as-None vs not-tracked


### 55. documentation_inconsistency
**Files:** src/position_serializer.py
**Issue:** renumber_with_spacing_preservation docstring has redundant instruction about serialization


### 56. code_vs_comment
**Files:** src/position_serializer.py
**Issue:** Comment in serialize_expression says 'Only add type suffix if explicit' but doesn't explain what makes it explicit


### 57. documentation_inconsistency
**Files:** src/resource_limits.py
**Issue:** Inconsistent terminology: 'MBASIC 5.21 compatibility' mentioned for max_string_length but no other MBASIC version references or compatibility notes elsewhere


### 58. code_vs_comment
**Files:** src/resource_limits.py
**Issue:** Comment says 'DIM A(N) creates N+1 elements (0 to N) in MBASIC 5.21' but this is implementation detail that should be in interpreter.py, not resource_limits.py


### 59. code_vs_comment
**Files:** src/resource_limits.py
**Issue:** Docstring for estimate_size() says it handles 'array' as a value type, but the implementation only handles scalar types


### 60. code_vs_comment
**Files:** src/resource_limits.py
**Issue:** Comment says 'Import here to avoid circular dependency' but doesn't explain what the circular dependency is or why it exists


### 61. code_vs_comment
**Files:** src/runtime.py
**Issue:** Comment in dimension_array() says DIM is tracked as both read and write, but explanation is misleading


### 62. documentation_inconsistency
**Files:** src/runtime.py
**Issue:** Inconsistent terminology for 'canonical case' vs 'original case'


### 63. code_vs_comment
**Files:** src/runtime.py
**Issue:** Comment about error_handler tracking conflicts with actual usage


### 64. documentation_inconsistency
**Files:** src/runtime.py
**Issue:** Incomplete docstring for get_all_variables() - example is truncated


### 65. documentation_inconsistency
**Files:** src/runtime.py
**Issue:** Inconsistent terminology for statement offset indexing in different docstrings


### 66. code_vs_comment
**Files:** src/runtime.py
**Issue:** Comment in parse_name() helper function describes behavior that may not match all cases


### 67. documentation_inconsistency
**Files:** src/runtime.py
**Issue:** get_loop_stack() marked as deprecated but no deprecation timeline or removal plan mentioned


### 68. code_vs_comment_conflict
**Files:** src/settings.py
**Issue:** Comment about load() behavior contradicts typical expectations but is intentional


### 69. code_inconsistency
**Files:** src/settings.py
**Issue:** Unused method _unflatten_settings() defined but never called


### 70. documentation_inconsistency
**Files:** src/settings_definitions.py
**Issue:** Comments about settings that don't exist are inconsistent with module purpose


### 71. documentation_inconsistency
**Files:** src/tokens.py
**Issue:** Token dataclass note about field exclusivity is not enforced


### 72. code_vs_documentation_inconsistency
**Files:** src/ui/__init__.py, src/ui/base.py
**Issue:** UIBackend subclasses listed in __init__.py don't match base.py documentation


### 73. code_inconsistency
**Files:** src/ui/cli.py
**Issue:** CLIBackend replaces interactive's program manager but doesn't document why


### 74. documentation_inconsistency
**Files:** src/settings.py
**Issue:** Global settings path documentation has platform-specific inconsistency


### 75. code_vs_comment_conflict
**Files:** src/simple_keyword_case.py
**Issue:** Defensive programming comment suggests invalid policy values are possible


### 76. code_vs_documentation_inconsistency
**Files:** src/ui/auto_save.py
**Issue:** AutoSaveManager cleanup_old_autosaves default differs from typical autosave retention


### 77. Code vs Documentation inconsistency
**Files:** src/ui/curses_settings_widget.py
**Issue:** The settings widget keypress handler comment states 'Ctrl+P is used for Cancel in the settings widget context (overrides editor's Parse Program binding)' but the curses_keybindings.json shows Ctrl+P i...


### 78. Code vs Comment conflict
**Files:** src/ui/curses_settings_widget.py
**Issue:** The _create_setting_widget() method has a comment about stripping 'force_' prefix for cleaner display, but the implementation uses removeprefix() with a fallback for older Python versions. The comment...


### 79. Documentation inconsistency
**Files:** src/ui/cli_debug.py
**Issue:** The cmd_break() docstring states 'Breakpoints are only activated when the RUN command is executed' and 'After setting breakpoints, use RUN to start/restart the program for them to take effect', but do...


### 80. Code vs Documentation inconsistency
**Files:** src/ui/curses_settings_widget.py
**Issue:** The _create_body() docstring says it creates 'widgets for all settings (in order defined above)' but the comment refers to an order that isn't clearly defined. The categories dictionary defines the or...


### 81. Code vs Comment conflict
**Files:** src/ui/curses_settings_widget.py
**Issue:** The _create_body() method creates a footer with text 'Enter=OK  ESC/^P=Cancel  ^A=Apply  ^R=Reset' but the comment says 'Create footer with keyboard shortcuts (instead of button widgets)'. The parenth...


### 82. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment at line 147 mentions 'fixed 5-character width' but this contradicts variable-width design


### 83. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment at line 1088 describes target_column as approximation but doesn't explain variable-width implications


### 84. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment about toolbar being removed conflicts with method still existing


### 85. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment says editor.lines is different object from editor_lines but both are dicts with same purpose


### 86. documentation_inconsistency
**Files:** src/ui/curses_ui.py
**Issue:** Inconsistent terminology for step debugging commands


### 87. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment describes layout positions that may not match actual implementation


### 88. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment about statement-level precision for GOSUB but default value handling is unclear


### 89. documentation_inconsistency
**Files:** src/ui/curses_ui.py
**Issue:** Inconsistent documentation of main_widget storage strategy


### 90. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment in _execute_immediate says 'No state checking - just ask the interpreter' but this is misleading since has_work() likely checks internal state


### 91. code_vs_comment
**Files:** src/ui/curses_ui.py
**Issue:** Comment in _execute_immediate says command is logged to output pane 'not separate immediate history' but there's no context about what 'separate immediate history' refers to


### 92. documentation_inconsistency
**Files:** src/ui/help_macros.py
**Issue:** Comment about version macro references non-existent src/version.py file


### 93. code_vs_comment_conflict
**Files:** src/ui/help_widget.py
**Issue:** Comment about tier labels in search results doesn't match actual tier detection logic


### 94. code_vs_comment_conflict
**Files:** src/ui/help_widget.py
**Issue:** Comment about search index structure mentions 'pre-built merged search index' but doesn't explain what 'merged' means


### 95. code_inconsistency
**Files:** src/ui/keybinding_loader.py
**Issue:** KeybindingLoader._to_tk_binding() has incomplete special character mapping


### 96. documentation_inconsistency
**Files:** src/ui/keybindings.py
**Issue:** Inconsistent key notation formats in documentation


### 97. documentation_inconsistency
**Files:** src/ui/keybindings.py
**Issue:** KEYBINDINGS_BY_CATEGORY includes keys not defined as constants in the module


### 98. code_vs_comment
**Files:** src/ui/keybindings.py
**Issue:** Comment about Ctrl+L being context-sensitive lacks corresponding code


### 99. code_vs_comment
**Files:** src/ui/keybindings.py
**Issue:** HELP_KEY comment says 'mnemonic: F for Find help' but F typically means File or Forward


### 100. documentation_inconsistency
**Files:** src/ui/keybindings.py
**Issue:** Inconsistent terminology for step operations in documentation


### 101. code_vs_comment
**Files:** src/ui/keybindings.py
**Issue:** Comment about Ctrl+S being unavailable contradicts its potential use


### 102. documentation_inconsistency
**Files:** src/ui/keybindings.py
**Issue:** MAXIMIZE_OUTPUT_KEY comment mentions change from Ctrl+O but doesn't explain why Ctrl+Shift+M was chosen


### 103. documentation_inconsistency
**Files:** src/ui/recent_files.py
**Issue:** Module docstring says 'Not thread-safe (no locking mechanism)' but doesn't explain implications


### 104. Code vs Documentation inconsistency
**Files:** src/ui/tk_help_browser.py, src/ui/tk_keybindings.json
**Issue:** Return key binding for in-page search navigation not documented


### 105. Code duplication inconsistency
**Files:** src/ui/tk_help_browser.py, src/ui/markdown_renderer.py
**Issue:** Table formatting code is duplicated across files


### 106. Code vs Comment conflict
**Files:** src/ui/tk_settings_dialog.py
**Issue:** Comment about modal behavior is misleading


### 107. Code vs Comment conflict
**Files:** src/ui/tk_settings_dialog.py
**Issue:** Comment about tooltip is inaccurate


### 108. Documentation inconsistency
**Files:** src/ui/tk_help_browser.py
**Issue:** Inconsistent documentation of readonly behavior


### 109. Code vs Comment conflict
**Files:** src/ui/tk_help_browser.py
**Issue:** Comment about dismissing menu references undefined helper


### 110. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment says immediate_history and immediate_status are set to None but explains they are 'not currently used'


### 111. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment about Ctrl+I binding location conflicts with actual implementation approach


### 112. documentation_inconsistency
**Files:** src/ui/tk_ui.py
**Issue:** Docstring usage example references ConsoleIOHandler but TkIOHandler is actually used


### 113. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment about toolbar simplification references features that may still be accessible but location is unclear


### 114. code_implementation
**Files:** src/ui/tk_ui.py
**Issue:** Methods _edit_array_element and _edit_simple_variable are called but not defined in provided code fragment


### 115. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment about formatting contradicts actual behavior in code


### 116. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment about type suffix extraction doesn't match all code paths


### 117. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment describes two cases for multi-line paste logic but the actual branching logic differs from description


### 118. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Comment says 'Lines are displayed exactly as stored' but this may not account for syntax highlighting or other display transformations


### 119. code_vs_comment
**Files:** src/ui/tk_ui.py
**Issue:** Docstring says _setup_immediate_context_menu is 'currently unused' but doesn't explain if it's ever called


### 120. documentation_inconsistency
**Files:** src/ui/tk_ui.py
**Issue:** TkIOHandler docstring describes input strategy but implementation details don't fully match description


### 121. code_vs_comment
**Files:** src/ui/tk_widgets.py
**Issue:** Docstring for _on_status_click() says it shows 'breakpoint confirmation' but implementation shows 'breakpoint info' message


### 122. documentation_inconsistency
**Files:** src/ui/tk_widgets.py
**Issue:** Module docstring says 'line-numbered text editors' (plural) but only one widget class is defined


### 123. code_vs_comment
**Files:** src/ui/tk_widgets.py
**Issue:** Comment in _on_status_click() says 'Calculate which line was clicked based on Y coordinate' but then uses line height division which may not account for variable line heights or wrapped lines


### 124. code_vs_comment
**Files:** src/ui/ui_helpers.py
**Issue:** Docstring for serialize_variable() shows example output 'x$' (lowercase) but doesn't explain case preservation logic


### 125. documentation_inconsistency
**Files:** src/ui/ui_helpers.py
**Issue:** Module docstring states 'No UI-framework dependencies' are allowed, but doesn't clarify whether runtime/parser modules count as 'core interpreter modules' or external dependencies


### 126. code_vs_comment
**Files:** src/ui/ui_helpers.py
**Issue:** serialize_expression() docstring mentions ERR and ERL special handling but doesn't explain why they're special or reference any specification


### 127. documentation_inconsistency
**Files:** src/ui/ui_helpers.py
**Issue:** renum_program() docstring states callback is 'responsible for identifying and updating statements with line number references' but doesn't specify which statement types have line references


### 128. code_vs_comment
**Files:** src/ui/ui_helpers.py
**Issue:** serialize_statement() for RemarkStatementNode has comment about REMARK conversion that contradicts the code logic


### 129. documentation_inconsistency
**Files:** src/ui/variable_sorting.py
**Issue:** cycle_sort_mode() docstring mentions 'Tk UI implementation' but this is supposed to be UI-agnostic common logic


### 130. code_vs_comment
**Files:** src/ui/variable_sorting.py
**Issue:** get_sort_key_function() has a comment about unknown modes falling back to name sorting, but doesn't log or warn about this fallback
